COMMENT @%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	Copyright (c) Geoworks 1994 -- All Rights Reserved

PROJECT:	Legos
MODULE:		Legos I/O
FILE:		flatfi.def

AUTHOR:		Paul DuBois, Nov 29, 1994

MACROS:
	Name			Description
	----			-----------

REVISION HISTORY:
	Name	Date		Description
	----	----		-----------
	dubois	11/29/94   	Initial revision

DESCRIPTION:
	Macros and such

	$Revision:   1.1  $

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@

MainCode	segment resource
global FFIGetComplexData:far
global FFIOpen:far
global FFIClose:far
global FFIGetHeader:far
global FFIGetPage:far
global FFICleanupComplexData:far
MainCode	ends

FLAT_FIDO_INPUT_INVALID_DRIVER_FUNCTION	enum	FatalErrors
FLAT_FIDO_INPUT_COPIED_DB_ITEM		enum	FatalErrors

FFI_TOO_LARGE				enum	FatalErrors
; Something which should be word-sized is dword-sized.

; Keep these in sync with basco/write.h
ComplexDataElt	struct
    CDE_format	dword			; ClipboardItemFormatID
    CDE_chain	dword			; VMChain
ComplexDataElt	ends

ResFileHeader	struct
    RFH_meta		LMemBlockHeader
    RFH_revision	word
    RFH_header		word		; VMBlockHandle
    RFH_pageArray	lptr		; chunkarray of VMBlockHandles
    RFH_complexDataArray lptr		; chunkarray of VMTrees
ResFileHeader	ends

;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
;%		Idata
;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

idata	segment
stateHeap	hptr.LMemBlockHeader	; Heap for storing temporary state
					; between DR_FIDOI_OPEN and _CLOSE
idata	ends
