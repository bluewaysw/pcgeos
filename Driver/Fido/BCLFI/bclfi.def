COMMENT @%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	Copyright (c) Geoworks 1994 -- All Rights Reserved

PROJECT:        Legos
MODULE:         Fido Library
FILE:           vmfi.def

AUTHOR:         Paul DuBois, Nov 29, 1994

MACROS:
	Name                    Description
	----                    -----------

REVISION HISTORY:
	Name    Date            Description
	----    ----            -----------
	dubois  11/29/94        Initial revision

DESCRIPTION:
	Macros and such

	$Revision:   1.3  $

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@

include Legos/Internal/fformat.def

MainCode        segment resource
global BCLFIGetComplexData:far
global BCLFIOpen:far
global BCLFIClose:far
global BCLFIGetHeader:far
global BCLFIGetPage:far
global BCLFICleanupComplexData:far
MainCode        ends


CodeFileHeader  struct
    CFH_meta            LMemBlockHeader
    CFH_revision        word
    CFH_header          word            ; VMBlockHandle
    CFH_pageArray       lptr            ; chunkarray of VMBlockHandles
    CFH_complexDataArray lptr           ; chunkarray of VMTrees
CodeFileHeader  ends

ResFileHeader   struct
    RFH_meta            LMemBlockHeader
    RFH_revision        word
    RFH_header          word            ; VMBlockHandle
    RFH_pageArray       lptr            ; chunkarray of VMBlockHandles
    RFH_complexDataArray lptr           ; chunkarray of VMTrees
ResFileHeader   ends

BCLFileHeader   struct
	BCLFH_majorProtocolNumber       byte
	BCLFH_minorProtocolNumber       byte
	BCLFH_moduleBlockSize           word
	BCLFH_numModuleVars             word
BCLFileHeader   ends

;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
;%              Idata
;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

idata   segment
stateHeap       hptr.LMemBlockHeader    ; Heap for storing temporary state
					; between DR_FIDOI_OPEN and _CLOSE
idata   ends
