COMMENT @%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	Copyright (c) GeoWorks 1991 -- All Rights Reserved

PROJECT:	Legos
MODULE:		Gadget Library
FILE:		gadgetmcro.def

AUTHOR:		David Loftesness

REVISION HISTORY:
	Name	Date		Description
	----	----		-----------
	dloft	8/31/94		Initial version.

DESCRIPTION:
	
	$Id: gdgmacro.def,v 1.1 98/03/11 04:30:36 martin Exp $

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@


		
MakePropRoutines	macro className, tableName
className&GetProperty	method dynamic	Gadget&className&Class, MSG_ENT_GET_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset Gadget&className&Class
		mov	ax, segment dgroup
		call	EntUtilGetProperty
		.leave
		ret
className&GetProperty	endp
className&SetProperty	method dynamic	Gadget&className&Class, MSG_ENT_SET_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset Gadget&className&Class
		mov	ax, segment dgroup
		call	EntUtilSetProperty
		.leave
		ret
className&SetProperty	endp
className&ResolveProperty	method dynamic	Gadget&className&Class, MSG_ENT_RESOLVE_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset Gadget&className&Class
		mov	ax, segment dgroup
		call	EntResolvePropertyCommon
		.leave
		ret
className&ResolveProperty	endp
className&GPNAD	method dynamic Gadget&className&Class, MSG_ENT_GET_PROPERTY_NAME_AND_DATA
		uses	ax, cx, dx, bp
		.enter
		mov	cx, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset Gadget&className&Class
		call	EntGetPropNameAndDataCommon
		.leave
		ret
className&GPNAD 	endp
endm

MakeActionRoutines	macro	className, tableName
className&ResolveAction	method dynamic Gadget&className&Class, 
					MSG_ENT_RESOLVE_ACTION
	.enter
	mov	bx, offset tableName&ActionTable
	segmov	es, cs
	mov	di, offset Gadget&className&Class
	mov	ax, segment dgroup
	call	EntResolveActionCommon
	.leave
	ret
className&ResolveAction	endp
Gadget&className&DoAction	method dynamic Gadget&className&Class, 
					MSG_ENT_DO_ACTION, MSG_ENT_CHECK_ACTION
	.enter
	segmov	es, cs
	mov	bx, offset tableName&ActionTable
	mov	di, offset Gadget&className&Class	; for calling super
	mov	ax, segment dgroup
	call	EntUtilDoAction
	.leave
	ret
Gadget&className&DoAction	endp
endm		

MakeSystemPropRoutines	macro className, tableName
className&GetProperty	method dynamic	className&Class, MSG_ENT_GET_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset className&Class
		mov	ax, segment dgroup
		call	EntUtilGetProperty
		.leave
		ret
className&GetProperty	endp
className&SetProperty	method dynamic	className&Class, MSG_ENT_SET_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset className&Class
		mov	ax, segment dgroup
		call	EntUtilSetProperty
		.leave
		ret
className&SetProperty	endp
className&ResolveProperty	method dynamic	className&Class, MSG_ENT_RESOLVE_PROPERTY
		uses	es, bp
		.enter
		segmov es, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset className&Class
		mov	ax, segment dgroup
		call	EntResolvePropertyCommon
		.leave
		ret
className&ResolveProperty	endp
className&GPNAD	method dynamic className&Class, MSG_ENT_GET_PROPERTY_NAME_AND_DATA
		uses	ax, cx, dx, bp
		.enter
		mov	cx, cs
		mov	bx, offset tableName&PropertyTable
		mov	di, offset className&Class
		call	EntGetPropNameAndDataCommon
		.leave
		ret
className&GPNAD 	endp
endm

MakeSystemActionRoutines	macro	className, tableName
className&ResolveAction	method dynamic className&Class, 
					MSG_ENT_RESOLVE_ACTION
	.enter
	mov	bx, offset tableName&ActionTable
	segmov	es, cs
	mov	di, offset className&Class
	mov	ax, segment dgroup
	call	EntResolveActionCommon
	.leave
	ret
className&ResolveAction	endp
className&DoAction	method dynamic className&Class, 
					MSG_ENT_DO_ACTION, MSG_ENT_CHECK_ACTION
	.enter
	segmov	es, cs
	mov	bx, offset tableName&ActionTable
	mov	di, offset className&Class	; for calling super
	mov	ax, segment dgroup
	call	EntUtilDoAction
	.leave
	ret
className&DoAction	endp
endm		

