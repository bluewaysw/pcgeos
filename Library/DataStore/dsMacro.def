COMMENT @%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	Copyright (c) Geoworks 1995 -- All Rights Reserved

PROJECT:	DataStore
MODULE:		
FILE:		dsMacro.def

AUTHOR:		Mybrid Spalding, Oct 10, 1995

MACROS:
	Name			Description
	----			-----------
	LoadDGroup		Loads Library dgroup into a seg reg.
	MngrDerefDS		De-reference locked Manager handle into DS

REVISION HISTORY:
	Name	Date		Description
	----	----		-----------
	MS	10/10/95   	Initial revision


DESCRIPTION:
	
		
	$Id: dsMacro.def,v 1.1 97/04/04 17:53:53 newdeal Exp $

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@
;
; Load dgroup into a segment register
;

LoadDGroup	macro	segment, trashreg
ifnb <trashreg>
		mov	trashreg, dgroup
		mov	segment, trashreg
else
		push	ax
		mov	ax, dgroup
		mov	segment, ax
		pop	ax
endif
		endm

;
;De-reference locked Manager handle into DS
;
MngrDerefDS	macro  
		push	bx
		LoadDGroup ds, bx
		mov	bx, ds:[dsMLBHandle]
		call	MemDerefDS
		pop	bx

		endm







