<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- This page was automatically generated from a bunch of smaller pages. -->
<META NAME="copyright" CONTENT="Copyright GEOWORKS">
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">
<TITLE>Memory Cards</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffdf">
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
<A NAME="index.htm"></A>

<H1 CLASS="chapterTitle">
Memory Cards
</H1>

<P>
The Nokia 9110 Communicator supports an optional memory card for extra data storage. The memory card is about the size of a 
postage stamp and provides up to 4 MB of Flash memory. To install a memory card, shut down the Communicator, remove the main battery,
and insert the card behind the battery. For more information on memory card technology, refer to 
<A HREF="#http://www.siemens.de/semiconductor/mmc/">its homepage</A>.
</P>

<P>
When a user starts the Communicator with a memory card, GEOS merges the directories on the card with the 
corresponding Communicator directories. 

For example, if the file <CODE>temp</CODE> were in the memory card's <CODE>NOKIA\DOCUMENT\</CODE> 
 directory, the user would see <CODE>temp</CODE> in the phone's <CODE>document</CODE> directory.
As another example, if the application <CODE>test.geo</CODE> were in the card's 
<CODE>NOKIA\WORLD\EXTRAPPS\</CODE> directory, then the user could run <CODE>test.geo</CODE> from 
the &quot;Extra Applications&quot; menu.
</P>

<P>
To develop geodes that use the memory card, you should become acquainted with special API that lets you deal with files
and directories on a card. Emulate a memory card on the emulator by using a floppy disk.
</P>

<P CLASS="sectionlinks">
<STRONG>
&nbsp;&nbsp;<A HREF="#emulate.htm">1 Emulating a Memory Card</A><BR>
&nbsp;&nbsp;<A HREF="#api.htm">2 Memory Card API</A><BR>
</STRONG>
</P> <!-- end of sectionlinks blob -->

<HR>
<A NAME="emulate.htm"></A>
<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Memory Cards</A>: 1
Emulating a Memory Card</H2>


<P>
The memory card is removable media, like a floppy disk.  The emulator uses the floppy disk (in the <CODE>A:</CODE> drive) to emulate a memory card.
</P>

<P>
To set up a floppy disk that emulates a memory card:
<OL>
<LI>Format a floppy disk using a FAT file system
<LI>Create the following directory structure:

<PRE>
A:\NOKIA\DOCUMENT\MMC
A:\NOKIA\PRIVDATA
</PRE>

<IMG SRC="basic.gif" ALT = "a:\nokia\document\mmc and a:\nokia\privdata" WIDTH = "114" HEIGHT = "82">

<LI>You can also create these optional directories to hold additional information:

<PRE>
A:\NOKIA\WORLD\SYSAPPS <EM>(System Applications geodes)</EM>
A:\NOKIA\WORLD\EXTRAPPS <EM>(Extra Applications geodes)</EM>
A:\INSTALL <EM>(For installable packages)</EM> 
A:\BACKUP <EM>(For backup sets)</EM>
</PRE>

<IMG SRC="optional.gif" WIDTH = "124" HEIGHT = "158">
</OL>


<P>
Insert the disk into the floppy drive and launch the emulator. At startup, the emulator checks for
a disk with the correct format (directories). If the emulator finds such 
a "memory card," it merges the memory card directories 
with the N9110 directories. For example, any geodes in the memory card's <CODE>NOKIA\WORLD\SYSAPPS</CODE> 
directory appear in the list of the N9110's <CODE>"System Applications"</CODE>.
</P>


<HR>
<A NAME="api.htm"></A>
<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Memory Cards</A>: 2
Memory Card API</H2>

<P>The Nokia 9110 Communicator features expanded file API for memory cards.</P>

<PRE><STRONG>internal/respondr.goh</STRONG></PRE>

<P>
To use a memory card, first see if there is a memory card using <CODE>RespGetMmcStatus()&nbsp;&amp;&nbsp;MASK_MS_CARD</CODE>. 
Then get its <CODE>DiskHandle</CODE> using <CODE>RespGetMmcDisk()</CODE>. Use this <CODE>DiskHandle</CODE> to
specify paths to files and directories on the memory card.
</P>

<P>
The user interacts with the memory card as if it were a directory with the same name as the memory card. You can get this name with
<CODE>RespGetMmcName()</CODE> and alter it with <CODE>RespSetMmcName()</CODE>.
</P>

<PRE><STRONG>foam.goh</STRONG></PRE>
<P>
Use <CODE>FoamPathFolderNameForDisplay()</CODE> and <CODE>FoamPathGetFullPathForDisplay()</CODE> to display
user-friendly paths to items on the memory card. 
</P>
<P>
There are several new diskspace routines which extend the standard diskspace routines to apply the memory card.
These routines have the same name as their counterparts but end in "...OnDisk" and take a <CODE>DiskHandle</CODE> 
parameter. For example, <A HREF="../MemLevels/9000Utils_3.htm"><CODE>FoamCheckIfOutOfSpaceOnDisk()</CODE></A>
behaves like <CODE>FoamCheckIfOutOfSpace()</CODE> but can check the disk space on the Communicator or the memory card.
</P>

<P>
For code examples, refer to the <EM>MCUtils</EM> sample application (<CODE>N9110\APPL\SDK_9000\MCUtils\</CODE>).
</P>

<HR>
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
</BODY>
</HTML>
