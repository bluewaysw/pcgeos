%!PS-Adobe-3.0
%%BoundingBox: (atend)
%%Pages: (atend)
%%PageOrder: (atend)
%%DocumentFonts: (atend)
%%Creator: Frame 4.0
%%DocumentData: Clean7Bit
%%EndComments
%%BeginProlog
%
% Frame ps_prolog 4.0, for use with Frame 4.0 products
% This ps_prolog file is Copyright (c) 1986-1993 Frame Technology
% Corporation.  All rights reserved.  This ps_prolog file may be
% freely copied and distributed in conjunction with documents created
% using FrameMaker, FrameBuilder and FrameViewer as long as this 
% copyright notice is preserved.
%
% Frame products normally print colors as their true color on a color printer
% or as shades of gray, based on luminance, on a black-and white printer. The
% following flag, if set to True, forces all non-white colors to print as pure
% black. This has no effect on bitmap images.
/FMPrintAllColorsAsBlack             false def
%
% Frame products can either set their own line screens or use a printer's 
% default settings. Three flags below control this separately for no 
% separations, spot separations and process separations. If a flag
% is true, then the default printer settings will not be changed. If it is
% false, Frame products will use their own settings from a table based on
% the printer's resolution.
/FMUseDefaultNoSeparationScreen      true  def
/FMUseDefaultSpotSeparationScreen    true  def
/FMUseDefaultProcessSeparationScreen false def
%
% For any given PostScript printer resolution, Frame products have two sets of 
% screen angles and frequencies for printing process separations, which are 
% recomended by Adobe. The following variable chooses the higher frequencies
% when set to true or the lower frequencies when set to false. This is only
% effective if the appropriate FMUseDefault...SeparationScreen flag is false.
/FMUseHighFrequencyScreens true def
%
% PostScript Level 2 printers contain an "Accurate Screens" feature which can
% improve process separation rendering at the expense of compute time. This 
% flag is ignored by PostScript Level 1 printers.
/FMUseAcccurateScreens true def
%
% The following PostScript procedure defines the spot function that Frame
% products will use for process separations. You may un-comment-out one of
% the alternative functions below, or use your own.
%
% Dot function
/FMSpotFunction {abs exch abs 2 copy add 1 gt 
		{1 sub dup mul exch 1 sub dup mul add 1 sub }
		{dup mul exch dup mul add 1 exch sub }ifelse } def
%
% Line function
% /FMSpotFunction { pop } def
%
% Elipse function
% /FMSpotFunction { dup 5 mul 8 div mul exch dup mul exch add 
%		sqrt 1 exch sub } def
%
%
/FMversion (4.0) def 
/FMLevel1 /languagelevel where {pop languagelevel} {1} ifelse 2 lt def
/FMPColor
	FMLevel1 {
		false
		/colorimage where {pop pop true} if
	} {
		true
	} ifelse
def
/FrameDict 400 dict def 
systemdict /errordict known not {/errordict 10 dict def
		errordict /rangecheck {stop} put} if
% The readline in PS 23.0 doesn't recognize cr's as nl's on AppleTalk
FrameDict /tmprangecheck errordict /rangecheck get put 
errordict /rangecheck {FrameDict /bug true put} put 
FrameDict /bug false put 
mark 
% Some PS machines read past the CR, so keep the following 3 lines together!
currentfile 5 string readline
00
0000000000
cleartomark 
errordict /rangecheck FrameDict /tmprangecheck get put 
FrameDict /bug get { 
	/readline {
		/gstring exch def
		/gfile exch def
		/gindex 0 def
		{
			gfile read pop 
			dup 10 eq {exit} if 
			dup 13 eq {exit} if 
			gstring exch gindex exch put 
			/gindex gindex 1 add def 
		} loop
		pop 
		gstring 0 gindex getinterval true 
		} bind def
	} if
/FMshowpage /showpage load def
/FMquit /quit load def
/FMFAILURE { 
	dup = flush 
	FMshowpage 
	/Helvetica findfont 12 scalefont setfont
	72 200 moveto
	show FMshowpage 
	FMquit 
	} def 
/FMVERSION {
	FMversion ne {
		(Frame product version does not match ps_prolog!) FMFAILURE
		} if
	} def 
/FMBADEPSF { 
	(PostScript Lang. Ref. Man., 2nd Ed., H.2.4 says EPS must not call X              )
	dup dup (X) search pop exch pop exch pop length 
	4 -1 roll 
	putinterval 
	FMFAILURE
	} def
/FMLOCAL {
	FrameDict begin
	0 def 
	end 
	} def 
/concatprocs
	{
	/proc2 exch cvlit def/proc1 exch cvlit def/newproc proc1 length proc2 length add array def
	newproc 0 proc1 putinterval newproc proc1 length proc2 putinterval newproc cvx
}def
FrameDict begin 
/FMnone 0 def
/FMcyan 1 def
/FMmagenta 2 def
/FMyellow 3 def
/FMblack 4 def
/FMcustom 5 def
/FrameNegative false def 
/FrameSepIs FMnone def 
/FrameSepBlack 0 def
/FrameSepYellow 0 def
/FrameSepMagenta 0 def
/FrameSepCyan 0 def
/FrameSepRed 1 def
/FrameSepGreen 1 def
/FrameSepBlue 1 def
/FrameCurGray 1 def
/FrameCurPat null def
/FrameCurColors [ 0 0 0 1 0 0 0 ] def 
/FrameColorEpsilon .001 def	
/eqepsilon {		
	sub dup 0 lt {neg} if
	FrameColorEpsilon le
} bind def
/FrameCmpColorsCMYK { 
	2 copy 0 get exch 0 get eqepsilon {
		2 copy 1 get exch 1 get eqepsilon {
			2 copy 2 get exch 2 get eqepsilon {
				3 get exch 3 get eqepsilon
			} {pop pop false} ifelse
		}{pop pop false} ifelse
	} {pop pop false} ifelse
} bind def
/FrameCmpColorsRGB { 
	2 copy 4 get exch 0 get eqepsilon {
		2 copy 5 get exch 1 get eqepsilon {
			6 get exch 2 get eqepsilon
		}{pop pop false} ifelse
	} {pop pop false} ifelse
} bind def
/RGBtoCMYK { 
	1 exch sub 
	3 1 roll 
	1 exch sub 
	3 1 roll 
	1 exch sub 
	3 1 roll 
	3 copy 
	2 copy 
	le { pop } { exch pop } ifelse 
	2 copy 
	le { pop } { exch pop } ifelse 
	dup dup dup 
	6 1 roll 
	4 1 roll 
	7 1 roll 
	sub 
	6 1 roll 
	sub 
	5 1 roll 
	sub 
	4 1 roll 
} bind def
/CMYKtoRGB { 
	dup dup 4 -1 roll add 						  
	5 1 roll 3 -1 roll add 						  
	4 1 roll add 								  
	1 exch sub dup 0 lt {pop 0} if 3 1 roll 	  
	1 exch sub dup 0 lt {pop 0} if exch 	      
	1 exch sub dup 0 lt {pop 0} if exch	  		  
} bind def
/FrameSepInit {
	1.0 RealSetgray
} bind def
/FrameSetSepColor { 
	/FrameSepBlue exch def
	/FrameSepGreen exch def
	/FrameSepRed exch def
	/FrameSepBlack exch def
	/FrameSepYellow exch def
	/FrameSepMagenta exch def
	/FrameSepCyan exch def
	/FrameSepIs FMcustom def
	setCurrentScreen	
} bind def
/FrameSetCyan {
	/FrameSepBlue 1.0 def
	/FrameSepGreen 1.0 def
	/FrameSepRed 0.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 1.0 def
	/FrameSepIs FMcyan def
	setCurrentScreen	
} bind def
 
/FrameSetMagenta {
	/FrameSepBlue 1.0 def
	/FrameSepGreen 0.0 def
	/FrameSepRed 1.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 1.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMmagenta def
	setCurrentScreen
} bind def
 
/FrameSetYellow {
	/FrameSepBlue 0.0 def
	/FrameSepGreen 1.0 def
	/FrameSepRed 1.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 1.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMyellow def
	setCurrentScreen
} bind def
 
/FrameSetBlack {
	/FrameSepBlue 0.0 def
	/FrameSepGreen 0.0 def
	/FrameSepRed 0.0 def
	/FrameSepBlack 1.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMblack def
	setCurrentScreen
} bind def
 
/FrameNoSep { 
	/FrameSepIs FMnone def
	setCurrentScreen
} bind def
/FrameSetSepColors { 
	FrameDict begin
	[ exch 1 add 1 roll ]
	/FrameSepColors  
	exch def end
	} bind def
/FrameColorInSepListCMYK { 
	FrameSepColors {  
       		exch dup 3 -1 roll 
       		FrameCmpColorsCMYK 
       		{ pop true exit } if
    	} forall 
	dup true ne {pop false} if
	} bind def
/FrameColorInSepListRGB { 
	FrameSepColors {  
       		exch dup 3 -1 roll 
       		FrameCmpColorsRGB 
       		{ pop true exit } if
    	} forall 
	dup true ne {pop false} if
	} bind def
/RealSetgray /setgray load def
/RealSetrgbcolor /setrgbcolor load def
/RealSethsbcolor /sethsbcolor load def
end 
/setgray { 
	FrameDict begin
	FrameSepIs FMnone eq
		{ RealSetgray } 
		{ 
		FrameSepIs FMblack eq 
			{ RealSetgray } 
			{ FrameSepIs FMcustom eq 
			  FrameSepRed 0 eq and
			  FrameSepGreen 0 eq and
			  FrameSepBlue 0 eq and {
			  	RealSetgray
			  } {
				1 RealSetgray pop 
			  } ifelse
			} ifelse
		} ifelse
	end
} bind def
/setrgbcolor { 
	FrameDict begin
	FrameSepIs FMnone eq
	{  RealSetrgbcolor }
	{
		3 copy [ 4 1 roll ] 
		FrameColorInSepListRGB
		{
				FrameSepBlue eq exch 
			 	FrameSepGreen eq and exch 
			 	FrameSepRed eq and
			 	{ 0 } { 1 } ifelse
		}
		{
			FMPColor {
				RealSetrgbcolor
				currentcmykcolor
			} {
				RGBtoCMYK
			} ifelse
			FrameSepIs FMblack eq
			{1.0 exch sub 4 1 roll pop pop pop} {
			FrameSepIs FMyellow eq
			{pop 1.0 exch sub 3 1 roll pop pop} {
			FrameSepIs FMmagenta eq
			{pop pop 1.0 exch sub exch pop } {
			FrameSepIs FMcyan eq
			{pop pop pop 1.0 exch sub } 
			{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
		} ifelse
		RealSetgray
	} 
	ifelse
	end
} bind def
/sethsbcolor {
	FrameDict begin
	FrameSepIs FMnone eq 
	{ RealSethsbcolor } 
	{
		RealSethsbcolor 
		currentrgbcolor  
		setrgbcolor 
	} 
	ifelse
	end
} bind def
FrameDict begin
/setcmykcolor where {
	pop /RealSetcmykcolor /setcmykcolor load def
} {
	/RealSetcmykcolor {
		4 1 roll
		3 { 3 index add 0 max 1 min 1 exch sub 3 1 roll} repeat 
		setrgbcolor pop
	} bind def
} ifelse
userdict /setcmykcolor { 
		FrameDict begin
		FrameSepIs FMnone eq
		{ RealSetcmykcolor } 
		{
			4 copy [ 5 1 roll ]
			FrameColorInSepListCMYK
			{
				FrameSepBlack eq exch 
				FrameSepYellow eq and exch 
				FrameSepMagenta eq and exch 
				FrameSepCyan eq and 
				{ 0 } { 1 } ifelse
			}
			{
				FrameSepIs FMblack eq
				{1.0 exch sub 4 1 roll pop pop pop} {
				FrameSepIs FMyellow eq
				{pop 1.0 exch sub 3 1 roll pop pop} {
				FrameSepIs FMmagenta eq
				{pop pop 1.0 exch sub exch pop } {
				FrameSepIs FMcyan eq
				{pop pop pop 1.0 exch sub } 
				{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
			} ifelse
			RealSetgray
		}
		ifelse
		end
	} bind put
FMLevel1 not { 
	
	/patProcDict 5 dict dup begin
		<0f1e3c78f0e1c387> { 3 setlinewidth -1 -1 moveto 9 9 lineto stroke 
											4 -4 moveto 12 4 lineto stroke
											-4 4 moveto 4 12 lineto stroke} bind def
		<0f87c3e1f0783c1e> { 3 setlinewidth -1 9 moveto 9 -1 lineto stroke 
											-4 4 moveto 4 -4 lineto stroke
											4 12 moveto 12 4 lineto stroke} bind def
		<8142241818244281> { 1 setlinewidth -1 9 moveto 9 -1 lineto stroke
											-1 -1 moveto 9 9 lineto stroke } bind def
		<03060c183060c081> { 1 setlinewidth -1 -1 moveto 9 9 lineto stroke 
											4 -4 moveto 12 4 lineto stroke
											-4 4 moveto 4 12 lineto stroke} bind def
		<8040201008040201> { 1 setlinewidth -1 9 moveto 9 -1 lineto stroke 
											-4 4 moveto 4 -4 lineto stroke
											4 12 moveto 12 4 lineto stroke} bind def
	end def
	/patDict 15 dict dup begin
		/PatternType 1 def		
		/PaintType 2 def		
		/TilingType 3 def		
		/BBox [ 0 0 8 8 ] def 	
		/XStep 8 def			
		/YStep 8 def			
		/PaintProc {
			begin
			patProcDict bstring known {
				patProcDict bstring get exec
			} {
				8 8 true [1 0 0 -1 0 8] bstring imagemask
			} ifelse
			end
		} bind def
	end def
} if
/combineColor {
    FrameSepIs FMnone eq
	{
		graymode FMLevel1 or not {
			
			[/Pattern [/DeviceCMYK]] setcolorspace
			FrameCurColors 0 4 getinterval aload pop FrameCurPat setcolor
		} {
			FrameCurColors 3 get 1.0 ge {
				FrameCurGray RealSetgray
			} {
				FMPColor graymode and {
					0 1 3 { 
						FrameCurColors exch get
						1 FrameCurGray sub mul
					} for
					RealSetcmykcolor
				} {
					4 1 6 {
						FrameCurColors exch get
						graymode {
							1 exch sub 1 FrameCurGray sub mul 1 exch sub
						} {
							1.0 lt {FrameCurGray} {1} ifelse
						} ifelse
					} for
					RealSetrgbcolor
				} ifelse
			} ifelse
		} ifelse
	} { 
		FrameCurColors 0 4 getinterval aload
		FrameColorInSepListCMYK {
			FrameSepBlack eq exch 
			FrameSepYellow eq and exch 
			FrameSepMagenta eq and exch 
			FrameSepCyan eq and
			FrameSepIs FMcustom eq and
			{ FrameCurGray } { 1 } ifelse
		} {
			FrameSepIs FMblack eq
			{FrameCurGray 1.0 exch sub mul 1.0 exch sub 4 1 roll pop pop pop} {
			FrameSepIs FMyellow eq
			{pop FrameCurGray 1.0 exch sub mul 1.0 exch sub 3 1 roll pop pop} {
			FrameSepIs FMmagenta eq
			{pop pop FrameCurGray 1.0 exch sub mul 1.0 exch sub exch pop } {
			FrameSepIs FMcyan eq
			{pop pop pop FrameCurGray 1.0 exch sub mul 1.0 exch sub } 
			{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
		} ifelse
		graymode FMLevel1 or not {
			
			[/Pattern [/DeviceGray]] setcolorspace
			FrameCurPat setcolor
		} { 
			graymode not FMLevel1 and {
				
				dup 1 lt {pop FrameCurGray} if
			} if
			RealSetgray
		} ifelse
	} ifelse
} bind def
/savematrix {
	orgmatrix currentmatrix pop
	} bind def
/restorematrix {
	orgmatrix setmatrix
	} bind def
/dmatrix matrix def
/dpi    72 0 dmatrix defaultmatrix dtransform
    dup mul exch   dup mul add   sqrt def
	
/freq dpi dup 72 div round dup 0 eq {pop 1} if 8 mul div def
/sangle 1 0 dmatrix defaultmatrix dtransform exch atan def
/dpiranges   [  2540    2400    1693     1270    1200     635      600      0      ] def
/CMLowFreqs  [ 100.402  94.8683 89.2289 100.402  94.8683  66.9349  63.2456 47.4342 ] def
/YLowFreqs   [  95.25   90.0    84.65    95.25   90.0     70.5556  66.6667 50.0    ] def
/KLowFreqs   [  89.8026 84.8528 79.8088  89.8026 84.8528  74.8355  70.7107 53.033  ] def
/CLowAngles  [  71.5651 71.5651 71.5651 71.5651  71.5651  71.5651  71.5651 71.5651 ] def
/MLowAngles  [  18.4349 18.4349 18.4349 18.4349  18.4349  18.4349  18.4349 18.4349 ] def
/YLowTDot    [  true    true    false    true    true     false    false   false   ] def
/CMHighFreqs [ 133.87  126.491 133.843  108.503 102.523  100.402   94.8683 63.2456 ] def
/YHighFreqs  [ 127.0   120.0   126.975  115.455 109.091   95.25    90.0    60.0    ] def
/KHighFreqs  [ 119.737 113.137 119.713  128.289 121.218   89.8026  84.8528 63.6395 ] def
/CHighAngles [  71.5651 71.5651 71.5651  70.0169 70.0169  71.5651  71.5651 71.5651 ] def
/MHighAngles [  18.4349 18.4349 18.4349  19.9831 19.9831  18.4349  18.4349 18.4349 ] def
/YHighTDot   [  false   false   true     false   false    true     true    false   ] def
/PatFreq     [	10.5833 10.0     9.4055  10.5833 10.0	  10.5833  10.0	   9.375   ] def
/screenIndex {
	0 1 dpiranges length 1 sub { dup dpiranges exch get 1 sub dpi le {exit} {pop} ifelse } for
} bind def
/getCyanScreen {
	FMUseHighFrequencyScreens { CHighAngles CMHighFreqs} {CLowAngles CMLowFreqs} ifelse
		screenIndex dup 3 1 roll get 3 1 roll get /FMSpotFunction load
} bind def
/getMagentaScreen {
	FMUseHighFrequencyScreens { MHighAngles CMHighFreqs } {MLowAngles CMLowFreqs} ifelse
		screenIndex dup 3 1 roll get 3 1 roll get /FMSpotFunction load
} bind def
/getYellowScreen {
	FMUseHighFrequencyScreens { YHighTDot YHighFreqs} { YLowTDot YLowFreqs } ifelse
		screenIndex dup 3 1 roll get 3 1 roll get { 3 div
			{2 { 1 add 2 div 3 mul dup floor sub 2 mul 1 sub exch} repeat
			FMSpotFunction } } {/FMSpotFunction load } ifelse
			0.0 exch
} bind def
/getBlackScreen  {
	FMUseHighFrequencyScreens { KHighFreqs } { KLowFreqs } ifelse
		screenIndex get 45.0 /FMSpotFunction load 
} bind def
/getSpotScreen {
	getBlackScreen
} bind def
/getCompositeScreen {
	getBlackScreen
} bind def
/FMSetScreen 
	FMLevel1 { /setscreen load 
	}{ {
		8 dict begin
		/HalftoneType 1 def
		/SpotFunction exch def
		/Angle exch def
		/Frequency exch def
		/AccurateScreens FMUseAcccurateScreens def
		currentdict end sethalftone
	} bind } ifelse
def
/setDefaultScreen {
	FMPColor {
		orgrxfer cvx orggxfer cvx orgbxfer cvx orgxfer cvx setcolortransfer
	}
	{
		orgxfer cvx settransfer
	} ifelse
	orgfreq organgle orgproc cvx setscreen
} bind def
/setCurrentScreen {
	FrameSepIs FMnone eq {
		FMUseDefaultNoSeparationScreen {
			setDefaultScreen
		} {
			getCompositeScreen FMSetScreen
		} ifelse
	} {
		FrameSepIs FMcustom eq {
			FMUseDefaultSpotSeparationScreen {
				setDefaultScreen
			} {
				getSpotScreen FMSetScreen
			} ifelse
		} {
			FMUseDefaultProcessSeparationScreen {
				setDefaultScreen
			} {
				FrameSepIs FMcyan eq {
					getCyanScreen FMSetScreen
				} {
					FrameSepIs FMmagenta eq {
						getMagentaScreen FMSetScreen
					} {
						FrameSepIs FMyellow eq {
							getYellowScreen FMSetScreen
						} {
							getBlackScreen FMSetScreen
						} ifelse
					} ifelse
				} ifelse
			} ifelse
		} ifelse
	} ifelse 
} bind def
end
	/gstring FMLOCAL
	/gfile FMLOCAL
	/gindex FMLOCAL
	/orgrxfer FMLOCAL
	/orggxfer FMLOCAL
	/orgbxfer FMLOCAL
	/orgxfer FMLOCAL
	/orgproc FMLOCAL
	/orgrproc FMLOCAL
	/orggproc FMLOCAL
	/orgbproc FMLOCAL
	/organgle FMLOCAL
	/orgrangle FMLOCAL
	/orggangle FMLOCAL
	/orgbangle FMLOCAL
	/orgfreq FMLOCAL
	/orgrfreq FMLOCAL
	/orggfreq FMLOCAL
	/orgbfreq FMLOCAL
	/yscale FMLOCAL
	/xscale FMLOCAL
	/edown FMLOCAL
	/manualfeed FMLOCAL
	/paperheight FMLOCAL
	/paperwidth FMLOCAL
/FMDOCUMENT { 
	array /FMfonts exch def 
	/#copies exch def
	FrameDict begin
	0 ne /manualfeed exch def
	/paperheight exch def
	/paperwidth exch def
	0 ne /FrameNegative exch def 
	0 ne /edown exch def 
	/yscale exch def
	/xscale exch def
	FMLevel1 {
		manualfeed {setmanualfeed} if
		/FMdicttop countdictstack 1 add def 
		/FMoptop count def 
		setpapername 
		manualfeed {true} {papersize} ifelse 
		{manualpapersize} {false} ifelse 
		{desperatepapersize} {false} ifelse 
		{ (Can't select requested paper size for Frame print job!) FMFAILURE } if
		count -1 FMoptop {pop pop} for
		countdictstack -1 FMdicttop {pop end} for 
		}
		{{1 dict dup /PageSize [paperwidth paperheight]put setpagedevice}stopped
		{ (Can't select requested paper size for Frame print job!) FMFAILURE } if
		 {1 dict dup /ManualFeed manualfeed put setpagedevice } stopped pop }
	ifelse 
	
	FMPColor {
		currentcolorscreen
			cvlit /orgproc exch def
				  /organgle exch def 
				  /orgfreq exch def
			cvlit /orgbproc exch def
				  /orgbangle exch def 
				  /orgbfreq exch def
			cvlit /orggproc exch def
				  /orggangle exch def 
				  /orggfreq exch def
			cvlit /orgrproc exch def
				  /orgrangle exch def 
				  /orgrfreq exch def
			currentcolortransfer 
			FrameNegative {
				1 1 4 { 
					pop { 1 exch sub } concatprocs 4 1 roll
				} for
				4 copy
				setcolortransfer
			} if
			cvlit /orgxfer exch def
			cvlit /orgbxfer exch def
			cvlit /orggxfer exch def
			cvlit /orgrxfer exch def
	} {
		currentscreen 
			cvlit /orgproc exch def
				  /organgle exch def 
				  /orgfreq exch def
				  
		currenttransfer 
		FrameNegative {
			{ 1 exch sub } concatprocs
			dup settransfer
		} if 
		cvlit /orgxfer exch def
	} ifelse
	end 
} def 
/pagesave FMLOCAL
/orgmatrix FMLOCAL
/landscape FMLOCAL
/pwid FMLOCAL
/FMBEGINPAGE { 
	FrameDict begin 
	/pagesave save def
	3.86 setmiterlimit
	/landscape exch 0 ne def
	landscape { 
		90 rotate 0 exch dup /pwid exch def neg translate pop 
	}{
		pop /pwid exch def
	} ifelse
	edown { [-1 0 0 1 pwid 0] concat } if
	0 0 moveto paperwidth 0 lineto paperwidth paperheight lineto 
	0 paperheight lineto 0 0 lineto 1 setgray fill
	xscale yscale scale
	/orgmatrix matrix def
	gsave 
} def 
/FMENDPAGE {
	grestore 
	pagesave restore
	end 
	showpage
	} def 
/FMFONTDEFINE { 
	FrameDict begin
	findfont 
	ReEncode 
	1 index exch 
	definefont 
	FMfonts 3 1 roll 
	put
	end 
	} def 
/FMFILLS {
	FrameDict begin dup
	array /fillvals exch def
	dict /patCache exch def
	end 
	} def 
/FMFILL {
	FrameDict begin
	 fillvals 3 1 roll put
	end 
	} def 
/FMNORMALIZEGRAPHICS { 
	newpath
	0.0 0.0 moveto
	1 setlinewidth
	0 setlinecap
	0 0 0 sethsbcolor
	0 setgray 
	} bind def
	/fx FMLOCAL
	/fy FMLOCAL
	/fh FMLOCAL
	/fw FMLOCAL
	/llx FMLOCAL
	/lly FMLOCAL
	/urx FMLOCAL
	/ury FMLOCAL
/FMBEGINEPSF { 
	end 
	/FMEPSF save def 
	/showpage {} def 
% See Adobe's "PostScript Language Reference Manual, 2nd Edition", page 714.
% "...the following operators MUST NOT be used in an EPS file:" (emphasis ours)
	/banddevice {(banddevice) FMBADEPSF} def
	/clear {(clear) FMBADEPSF} def
	/cleardictstack {(cleardictstack) FMBADEPSF} def 
	/copypage {(copypage) FMBADEPSF} def
	/erasepage {(erasepage) FMBADEPSF} def
	/exitserver {(exitserver) FMBADEPSF} def
	/framedevice {(framedevice) FMBADEPSF} def
	/grestoreall {(grestoreall) FMBADEPSF} def
	/initclip {(initclip) FMBADEPSF} def
	/initgraphics {(initgraphics) FMBADEPSF} def
	/initmatrix {(initmatrix) FMBADEPSF} def
	/quit {(quit) FMBADEPSF} def
	/renderbands {(renderbands) FMBADEPSF} def
	/setglobal {(setglobal) FMBADEPSF} def
	/setpagedevice {(setpagedevice) FMBADEPSF} def
	/setshared {(setshared) FMBADEPSF} def
	/startjob {(startjob) FMBADEPSF} def
	/lettertray {(lettertray) FMBADEPSF} def
	/letter {(letter) FMBADEPSF} def
	/lettersmall {(lettersmall) FMBADEPSF} def
	/11x17tray {(11x17tray) FMBADEPSF} def
	/11x17 {(11x17) FMBADEPSF} def
	/ledgertray {(ledgertray) FMBADEPSF} def
	/ledger {(ledger) FMBADEPSF} def
	/legaltray {(legaltray) FMBADEPSF} def
	/legal {(legal) FMBADEPSF} def
	/statementtray {(statementtray) FMBADEPSF} def
	/statement {(statement) FMBADEPSF} def
	/executivetray {(executivetray) FMBADEPSF} def
	/executive {(executive) FMBADEPSF} def
	/a3tray {(a3tray) FMBADEPSF} def
	/a3 {(a3) FMBADEPSF} def
	/a4tray {(a4tray) FMBADEPSF} def
	/a4 {(a4) FMBADEPSF} def
	/a4small {(a4small) FMBADEPSF} def
	/b4tray {(b4tray) FMBADEPSF} def
	/b4 {(b4) FMBADEPSF} def
	/b5tray {(b5tray) FMBADEPSF} def
	/b5 {(b5) FMBADEPSF} def
	FMNORMALIZEGRAPHICS 
	[/fy /fx /fh /fw /ury /urx /lly /llx] {exch def} forall 
	fx fw 2 div add fy fh 2 div add  translate
	rotate
	fw 2 div neg fh 2 div neg translate
	fw urx llx sub div fh ury lly sub div scale 
	llx neg lly neg translate 
	/FMdicttop countdictstack 1 add def 
	/FMoptop count def 
	} bind def
/FMENDEPSF {
	count -1 FMoptop {pop pop} for 
	countdictstack -1 FMdicttop {pop end} for 
	FMEPSF restore
	FrameDict begin 
	} bind def
FrameDict begin 
/setmanualfeed {
%%BeginFeature *ManualFeed True
	 statusdict /manualfeed true put
%%EndFeature
	} bind def
/max {2 copy lt {exch} if pop} bind def
/min {2 copy gt {exch} if pop} bind def
/inch {72 mul} def
/pagedimen { 
	paperheight sub abs 16 lt exch 
	paperwidth sub abs 16 lt and
	{/papername exch def} {pop} ifelse
	} bind def
	/papersizedict FMLOCAL
/setpapername { 
	/papersizedict 14 dict def 
	papersizedict begin
	/papername /unknown def 
		/Letter 8.5 inch 11.0 inch pagedimen
		/LetterSmall 7.68 inch 10.16 inch pagedimen
		/Tabloid 11.0 inch 17.0 inch pagedimen
		/Ledger 17.0 inch 11.0 inch pagedimen
		/Legal 8.5 inch 14.0 inch pagedimen
		/Statement 5.5 inch 8.5 inch pagedimen
		/Executive 7.5 inch 10.0 inch pagedimen
		/A3 11.69 inch 16.5 inch pagedimen
		/A4 8.26 inch 11.69 inch pagedimen
		/A4Small 7.47 inch 10.85 inch pagedimen
		/B4 10.125 inch 14.33 inch pagedimen
		/B5 7.16 inch 10.125 inch pagedimen
	end
	} bind def
/papersize {
	papersizedict begin
		/Letter {lettertray letter} def
		/LetterSmall {lettertray lettersmall} def
		/Tabloid {11x17tray 11x17} def
		/Ledger {ledgertray ledger} def
		/Legal {legaltray legal} def
		/Statement {statementtray statement} def
		/Executive {executivetray executive} def
		/A3 {a3tray a3} def
		/A4 {a4tray a4} def
		/A4Small {a4tray a4small} def
		/B4 {b4tray b4} def
		/B5 {b5tray b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	statusdict begin stopped end 
	} bind def
/manualpapersize {
	papersizedict begin
		/Letter {letter} def
		/LetterSmall {lettersmall} def
		/Tabloid {11x17} def
		/Ledger {ledger} def
		/Legal {legal} def
		/Statement {statement} def
		/Executive {executive} def
		/A3 {a3} def
		/A4 {a4} def
		/A4Small {a4small} def
		/B4 {b4} def
		/B5 {b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	stopped 
	} bind def
/desperatepapersize {
	statusdict /setpageparams known
		{
		paperwidth paperheight 0 1 
		statusdict begin
		{setpageparams} stopped 
		end
		} {true} ifelse 
	} bind def
/DiacriticEncoding [
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /space /exclam /quotedbl
/numbersign /dollar /percent /ampersand /quotesingle /parenleft
/parenright /asterisk /plus /comma /hyphen /period /slash /zero /one
/two /three /four /five /six /seven /eight /nine /colon /semicolon
/less /equal /greater /question /at /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /bracketleft /backslash
/bracketright /asciicircum /underscore /grave /a /b /c /d /e /f /g /h
/i /j /k /l /m /n /o /p /q /r /s /t /u /v /w /x /y /z /braceleft /bar
/braceright /asciitilde /.notdef /Adieresis /Aring /Ccedilla /Eacute
/Ntilde /Odieresis /Udieresis /aacute /agrave /acircumflex /adieresis
/atilde /aring /ccedilla /eacute /egrave /ecircumflex /edieresis
/iacute /igrave /icircumflex /idieresis /ntilde /oacute /ograve
/ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex
/udieresis /dagger /.notdef /cent /sterling /section /bullet
/paragraph /germandbls /registered /copyright /trademark /acute
/dieresis /.notdef /AE /Oslash /.notdef /.notdef /.notdef /.notdef
/yen /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/ordfeminine /ordmasculine /.notdef /ae /oslash /questiondown
/exclamdown /logicalnot /.notdef /florin /.notdef /.notdef
/guillemotleft /guillemotright /ellipsis /.notdef /Agrave /Atilde
/Otilde /OE /oe /endash /emdash /quotedblleft /quotedblright
/quoteleft /quoteright /.notdef /.notdef /ydieresis /Ydieresis
/fraction /currency /guilsinglleft /guilsinglright /fi /fl /daggerdbl
/periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Aacute /Edieresis /Egrave /Iacute
/Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex /.notdef /Ograve
/Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde /macron
/breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
] def
/ReEncode { 
	dup 
	length 
	dict begin 
	{
	1 index /FID ne 
		{def} 
		{pop pop} ifelse 
	} forall 
	0 eq {/Encoding DiacriticEncoding def} if 
	currentdict 
	end 
	} bind def
FMPColor 
	
	{
	/BEGINBITMAPCOLOR { 
		BITMAPCOLOR} def
	/BEGINBITMAPCOLORc { 
		BITMAPCOLORc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUECOLOR } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUECOLORc } def
	}
	
	{
	/BEGINBITMAPCOLOR { 
		BITMAPGRAY} def
	/BEGINBITMAPCOLORc { 
		BITMAPGRAYc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUEGRAY } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUEGRAYc } def
	}
ifelse
/K { 
	FMPrintAllColorsAsBlack {
		dup 1 eq 2 index 1 eq and 3 index 1 eq and not
			{7 {pop} repeat 0 0 0 1 0 0 0} if
	} if 
	FrameCurColors astore 
	pop combineColor
} bind def
/graymode true def
	/bwidth FMLOCAL
	/bpside FMLOCAL
	/bstring FMLOCAL
	/onbits FMLOCAL
	/offbits FMLOCAL
	/xindex FMLOCAL
	/yindex FMLOCAL
	/x FMLOCAL
	/y FMLOCAL
/setPatternMode {
	FMLevel1 {
		/bwidth  exch def
		/bpside  exch def
		/bstring exch def
		/onbits 0 def  /offbits 0 def
		freq sangle landscape {90 add} if 
			{/y exch def
			 /x exch def
			 /xindex x 1 add 2 div bpside mul cvi def
			 /yindex y 1 add 2 div bpside mul cvi def
			 bstring yindex bwidth mul xindex 8 idiv add get
			 1 7 xindex 8 mod sub bitshift and 0 ne FrameNegative {not} if
			 {/onbits  onbits  1 add def 1}
			 {/offbits offbits 1 add def 0}
			 ifelse
			}
			setscreen
		offbits offbits onbits add div FrameNegative {1.0 exch sub} if
		/FrameCurGray exch def
	} { 
		pop pop
		dup patCache exch known {
			patCache exch get
		} { 
			dup
			patDict /bstring 3 -1 roll put
			patDict 
			9 PatFreq screenIndex get div dup matrix scale
			makepattern
			dup 
			patCache 4 -1 roll 3 -1 roll put
		} ifelse
		/FrameCurGray 0 def
		/FrameCurPat exch def
	} ifelse
	/graymode false def
	combineColor
} bind def
/setGrayScaleMode {
	graymode not {
		/graymode true def
		FMLevel1 {
			setCurrentScreen
		} if
	} if
	/FrameCurGray exch def
	combineColor
} bind def
/normalize {
	transform round exch round exch itransform
	} bind def
/dnormalize {
	dtransform round exch round exch idtransform
	} bind def
/lnormalize { 
	0 dtransform exch cvi 2 idiv 2 mul 1 add exch idtransform pop
	} bind def
/H { 
	lnormalize setlinewidth
	} bind def
/Z {
	setlinecap
	} bind def
	
/PFill {
	graymode FMLevel1 or not {
		gsave 1 setgray eofill grestore
	} if
} bind def
/PStroke {
	graymode FMLevel1 or not {
		gsave 1 setgray stroke grestore
	} if
	stroke
} bind def
	/fillvals FMLOCAL
/X { 
	fillvals exch get
	dup type /stringtype eq
	{8 1 setPatternMode} 
	{setGrayScaleMode}
	ifelse
	} bind def
/V { 
	PFill gsave eofill grestore
	} bind def
/Vclip {
	clip
	} bind def
/Vstrk {
	currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/N { 
	PStroke
	} bind def
/Nclip {
	strokepath clip newpath
	} bind def
/Nstrk {
	currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/M {newpath moveto} bind def
/E {lineto} bind def
/D {curveto} bind def
/O {closepath} bind def
	/n FMLOCAL
/L { 
 	/n exch def
	newpath
	normalize
	moveto 
	2 1 n {pop normalize lineto} for
	} bind def
/Y { 
	L 
	closepath
	} bind def
	/x1 FMLOCAL
	/x2 FMLOCAL
	/y1 FMLOCAL
	/y2 FMLOCAL
/R { 
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	x1 y1
	x2 y1
	x2 y2
	x1 y2
	4 Y 
	} bind def
	/rad FMLOCAL
/rarc 
	{rad 
	 arcto
	} bind def
/RR { 
	/rad exch def
	normalize
	/y2 exch def
	/x2 exch def
	normalize
	/y1 exch def
	/x1 exch def
	mark
	newpath
	{
	x1 y1 rad add moveto
	x1 y2 x2 y2 rarc
	x2 y2 x2 y1 rarc
	x2 y1 x1 y1 rarc
	x1 y1 x1 y2 rarc
	closepath
	} stopped {x1 y1 x2 y2 R} if 
	cleartomark
	} bind def
/RRR { 
	/rad exch def
	normalize /y4 exch def /x4 exch def
	normalize /y3 exch def /x3 exch def
	normalize /y2 exch def /x2 exch def
	normalize /y1 exch def /x1 exch def
	newpath
	normalize moveto 
	mark
	{
	x2 y2 x3 y3 rarc
	x3 y3 x4 y4 rarc
	x4 y4 x1 y1 rarc
	x1 y1 x2 y2 rarc
	closepath
	} stopped
	 {x1 y1 x2 y2 x3 y3 x4 y4 newpath moveto lineto lineto lineto closepath} if
	cleartomark
	} bind def
/C { 
	grestore
	gsave
	R 
	clip
	setCurrentScreen
} bind def
/CP { 
	grestore
	gsave
	Y 
	clip
	setCurrentScreen
} bind def
	/FMpointsize FMLOCAL
/F { 
	FMfonts exch get
	FMpointsize scalefont
	setfont
	} bind def
/Q { 
	/FMpointsize exch def
	F 
	} bind def
/T { 
	moveto show
	} bind def
/RF { 
	rotate
	0 ne {-1 1 scale} if
	} bind def
/TF { 
	gsave
	moveto 
	RF
	show
	grestore
	} bind def
/P { 
	moveto
	0 32 3 2 roll widthshow
	} bind def
/PF { 
	gsave
	moveto 
	RF
	0 32 3 2 roll widthshow
	grestore
	} bind def
/S { 
	moveto
	0 exch ashow
	} bind def
/SF { 
	gsave
	moveto
	RF
	0 exch ashow
	grestore
	} bind def
/B { 
	moveto
	0 32 4 2 roll 0 exch awidthshow
	} bind def
/BF { 
	gsave
	moveto
	RF
	0 32 4 2 roll 0 exch awidthshow
	grestore
	} bind def
/G { 
	gsave
	newpath
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	PFill fill
	grestore
	} bind def
/Gstrk {
	savematrix
    newpath
    2 index 2 div add exch 3 index 2 div sub exch 
    normalize 2 index 2 div sub exch 3 index 2 div add exch 
    translate
    scale 
    0.0 0.0 1.0 5 3 roll arc 
    restorematrix
    currentlinewidth exch setlinewidth PStroke setlinewidth
    } bind def
/Gclip { 
	newpath
	savematrix
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	clip newpath
	restorematrix
	} bind def
/GG { 
	gsave
	newpath
	normalize translate 0.0 0.0 moveto 
	rotate 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath
	PFill
	fill
	grestore
	} bind def
/GGclip { 
	savematrix
	newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath
	clip newpath
	restorematrix
	} bind def
/GGstrk { 
	savematrix
    newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath 
	restorematrix
    currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/A { 
	gsave
	savematrix
	newpath
	2 index 2 div add exch 3 index 2 div sub exch 
	normalize 2 index 2 div sub exch 3 index 2 div add exch 
	translate 
	scale 
	0.0 0.0 1.0 5 3 roll arc 
	restorematrix
	PStroke
	grestore
	} bind def
/Aclip {
	newpath
	savematrix
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	strokepath clip newpath
	restorematrix
} bind def
/Astrk {
	Gstrk
} bind def
/AA { 
	gsave
	savematrix
	newpath
	
	3 index 2 div add exch 4 index 2 div sub exch 
	
	normalize 3 index 2 div sub exch 4 index 2 div add exch
	translate 
	rotate 
	scale 
	0.0 0.0 1.0 5 3 roll arc 
	restorematrix
	PStroke
	grestore
	} bind def
/AAclip {
	savematrix
	newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath
	strokepath clip newpath
	restorematrix
} bind def
/AAstrk {
	GGstrk
} bind def
	/x FMLOCAL
	/y FMLOCAL
	/w FMLOCAL
	/h FMLOCAL
	/xx FMLOCAL
	/yy FMLOCAL
	/ww FMLOCAL
	/hh FMLOCAL
	/FMsaveobject FMLOCAL
	/FMoptop FMLOCAL
	/FMdicttop FMLOCAL
/BEGINPRINTCODE { 
	/FMdicttop countdictstack 1 add def 
	/FMoptop count 7 sub def 
	/FMsaveobject save def
	userdict begin 
	/showpage {} def 
	FMNORMALIZEGRAPHICS 
	3 index neg 3 index neg translate
	} bind def
/ENDPRINTCODE {
	count -1 FMoptop {pop pop} for 
	countdictstack -1 FMdicttop {pop end} for 
	FMsaveobject restore 
	} bind def
/gn { 
	0 
	{	46 mul 
		cf read pop 
		32 sub 
		dup 46 lt {exit} if 
		46 sub add 
		} loop
	add 
	} bind def
	/str FMLOCAL
/cfs { 
	/str sl string def 
	0 1 sl 1 sub {str exch val put} for 
	str def 
	} bind def
/ic [ 
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0
	{0 hx} {1 hx} {2 hx} {3 hx} {4 hx} {5 hx} {6 hx} {7 hx} {8 hx} {9 hx}
	{10 hx} {11 hx} {12 hx} {13 hx} {14 hx} {15 hx} {16 hx} {17 hx} {18 hx}
	{19 hx} {gn hx} {0} {1} {2} {3} {4} {5} {6} {7} {8} {9} {10} {11} {12}
	{13} {14} {15} {16} {17} {18} {19} {gn} {0 wh} {1 wh} {2 wh} {3 wh}
	{4 wh} {5 wh} {6 wh} {7 wh} {8 wh} {9 wh} {10 wh} {11 wh} {12 wh}
	{13 wh} {14 wh} {gn wh} {0 bl} {1 bl} {2 bl} {3 bl} {4 bl} {5 bl} {6 bl}
	{7 bl} {8 bl} {9 bl} {10 bl} {11 bl} {12 bl} {13 bl} {14 bl} {gn bl}
	{0 fl} {1 fl} {2 fl} {3 fl} {4 fl} {5 fl} {6 fl} {7 fl} {8 fl} {9 fl}
	{10 fl} {11 fl} {12 fl} {13 fl} {14 fl} {gn fl}
	] def
	/sl FMLOCAL
	/val FMLOCAL
	/ws FMLOCAL
	/im FMLOCAL
	/bs FMLOCAL
	/cs FMLOCAL
	/len FMLOCAL
	/pos FMLOCAL
/ms { 
	/sl exch def 
	/val 255 def 
	/ws cfs 
	/im cfs 
	/val 0 def 
	/bs cfs 
	/cs cfs 
	} bind def
400 ms 
/ip { 
	is 
	0 
	cf cs readline pop 
	{	ic exch get exec 
		add 
		} forall 
	pop 
	
	} bind def
/rip { 
	   
	  
	  bis ris copy pop 
      is
      0
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
	  pop pop 
	  ris gis copy pop 
	  dup is exch 
	  
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
	  pop pop
	  gis bis copy pop 
	  dup add is exch 
	  
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
      pop 
      
      } bind def
/wh { 
	/len exch def 
	/pos exch def 
	ws 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/bl { 
	/len exch def 
	/pos exch def 
	bs 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/s1 1 string def
/fl { 
	/len exch def 
	/pos exch def 
	/val cf s1 readhexstring pop 0 get def
	pos 1 pos len add 1 sub {im exch val put} for
	pos len 
	} bind def
/hx { 
	3 copy getinterval 
	cf exch readhexstring pop pop 
	} bind def
	/h FMLOCAL
	/w FMLOCAL
	/d FMLOCAL
	/lb FMLOCAL
	/bitmapsave FMLOCAL
	/is FMLOCAL
	/cf FMLOCAL
/wbytes { 
      dup dup
      24 eq { pop pop 3 mul }
      { 8 eq {pop} {1 eq {7 add 8 idiv} {3 add 4 idiv} ifelse} ifelse } ifelse
	} bind def
/BEGINBITMAPBWc { 
	1 {} COMMONBITMAPc
	} bind def
/BEGINBITMAPGRAYc { 
	8 {} COMMONBITMAPc
	} bind def
/BEGINBITMAP2BITc { 
	2 {} COMMONBITMAPc
	} bind def
/COMMONBITMAPc { 
		 
	/r exch def
	/d exch def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	r                    
	/is im 0 lb getinterval def 
	ws 0 lb getinterval is copy pop 
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{ip} image 
	bitmapsave restore 
	grestore
	} bind def
/BEGINBITMAPBW { 
	1 {} COMMONBITMAP
	} bind def
/BEGINBITMAPGRAY { 
	8 {} COMMONBITMAP
	} bind def
/BEGINBITMAP2BIT { 
	2 {} COMMONBITMAP
	} bind def
/COMMONBITMAP { 
	/r exch def
	/d exch def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/bitmapsave save def 
	r                    
	/is w d wbytes string def
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{cf is readhexstring pop} image
	bitmapsave restore 
	grestore
	} bind def
/ngrayt 256 array def
/nredt 256 array def
/nbluet 256 array def
/ngreent 256 array def
	/gryt FMLOCAL
	/blut FMLOCAL
	/grnt FMLOCAL
	/redt FMLOCAL
	/indx FMLOCAL
	/cynu FMLOCAL
	/magu FMLOCAL
	/yelu FMLOCAL
	/k FMLOCAL
	/u FMLOCAL
FMLevel1 {
/colorsetup {
	currentcolortransfer
	/gryt exch def
	/blut exch def
	/grnt exch def
	/redt exch def
	0 1 255 {
		/indx exch def
		/cynu 1 red indx get 255 div sub def
		/magu 1 green indx get 255 div sub def
		/yelu 1 blue indx get 255 div sub def
		/k cynu magu min yelu min def
		/u k currentundercolorremoval exec def
%		/u 0 def
		nredt indx 1 0 cynu u sub max sub redt exec put
		ngreent indx 1 0 magu u sub max sub grnt exec put
		nbluet indx 1 0 yelu u sub max sub blut exec put
		ngrayt indx 1 k currentblackgeneration exec sub gryt exec put
	} for
	{255 mul cvi nredt exch get}
	{255 mul cvi ngreent exch get}
	{255 mul cvi nbluet exch get}
	{255 mul cvi ngrayt exch get}
	setcolortransfer
	{pop 0} setundercolorremoval
	{} setblackgeneration
	} bind def
}
{
/colorSetup2 {
	[ /Indexed /DeviceRGB 255 
		{dup red exch get 255 div 
		 exch dup green exch get 255 div 
		 exch blue exch get 255 div}
	] setcolorspace
} bind def
} ifelse
	/tran FMLOCAL
/fakecolorsetup {
	/tran 256 string def
	0 1 255 {/indx exch def 
		tran indx
		red indx get 77 mul
		green indx get 151 mul
		blue indx get 28 mul
		add add 256 idiv put} for
	currenttransfer
	{255 mul cvi tran exch get 255.0 div}
	exch concatprocs settransfer
} bind def
/BITMAPCOLOR { 
	/d 8 def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/bitmapsave save def
	FMLevel1 {	
		colorsetup
		/is w d wbytes string def
		/cf currentfile def 
		w h d [w 0 0 h neg 0 h] 
		{cf is readhexstring pop} {is} {is} true 3 colorimage 
	} {
		colorSetup2
		/is w d wbytes string def
		/cf currentfile def 
		7 dict dup begin
			/ImageType 1 def
			/Width w def
			/Height h def
			/ImageMatrix [w 0 0 h neg 0 h] def
			/DataSource {cf is readhexstring pop} bind def
			/BitsPerComponent d def
			/Decode [0 255] def
		end image	
	} ifelse
	bitmapsave restore 
	grestore
	} bind def
/BITMAPCOLORc { 
	/d 8 def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	FMLevel1 {	
		colorsetup
		/is im 0 lb getinterval def 
		ws 0 lb getinterval is copy pop 
		/cf currentfile def 
		w h d [w 0 0 h neg 0 h] 
		{ip} {is} {is} true 3 colorimage
	} {
		colorSetup2
		/is im 0 lb getinterval def 
		ws 0 lb getinterval is copy pop 
		/cf currentfile def 
		7 dict dup begin
			/ImageType 1 def
			/Width w def
			/Height h def
			/ImageMatrix [w 0 0 h neg 0 h] def
			/DataSource {ip} bind def
			/BitsPerComponent d def
			/Decode [0 255] def
		end image	
	} ifelse
	bitmapsave restore 
	grestore
	} bind def
/BITMAPTRUECOLORc { 
	/d 24 def
        gsave
 	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
        /bitmapsave save def 
        
	/is im 0 lb getinterval def	
	/ris im 0 w getinterval def	
	/gis im w w getinterval def	
	/bis im w 2 mul w getinterval def 
        
        ws 0 lb getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {w rip pop ris} {gis} {bis} true 3 colorimage
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUECOLOR { 
        gsave
		
		3 index 2 div add exch	
		4 index 2 div add exch	
		translate		
		rotate			
		1 index 2 div neg	
		1 index 2 div neg	
		translate		
		scale			
		/h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop } 
        { cf gis readhexstring pop } 
        { cf bis readhexstring pop } 
        true 3 colorimage 
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUEGRAYc { 
	/d 24 def
        gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
        /bitmapsave save def 
        
	/is im 0 lb getinterval def	
	/ris im 0 w getinterval def	
	/gis im w w getinterval def	
	/bis im w 2 mul w getinterval def 
        ws 0 lb getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {w rip pop ris gis bis w gray} image
        bitmapsave restore 
        grestore
        } bind def
/ww FMLOCAL
/r FMLOCAL
/g FMLOCAL
/b FMLOCAL
/i FMLOCAL
/gray { 
        /ww exch def
        /b exch def
        /g exch def
        /r exch def
        0 1 ww 1 sub { /i exch def r i get .299 mul g i get .587 mul
			b i get .114 mul add add r i 3 -1 roll floor cvi put } for
        r
        } bind def
/BITMAPTRUEGRAY { 
        gsave
		
		3 index 2 div add exch	
		4 index 2 div add exch	
		translate		
		rotate			
		1 index 2 div neg	
		1 index 2 div neg	
		translate		
		scale			
		/h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop 
          cf gis readhexstring pop 
          cf bis readhexstring pop w gray}  image
        bitmapsave restore 
        grestore
        } bind def
/BITMAPGRAY { 
	8 {fakecolorsetup} COMMONBITMAP
	} bind def
/BITMAPGRAYc { 
	8 {fakecolorsetup} COMMONBITMAPc
	} bind def
/ENDBITMAP {
	} bind def
end 
	/ALDsave FMLOCAL
	/ALDmatrix matrix def ALDmatrix currentmatrix pop
/StartALD {
	/ALDsave save def
	 savematrix
	 ALDmatrix setmatrix
	} bind def
/InALD {
	 restorematrix
	} bind def
/DoneALD {
	 ALDsave restore
	} bind def
/I { setdash } bind def
/J { [] 0 setdash } bind def
%%EndProlog
%%BeginSetup
(4.0) FMVERSION
1 1 0 0 612 792 0 1 16 FMDOCUMENT
0 0 /NewCenturySchlbk-Roman FMFONTDEFINE
1 1 /ZapfDingbats FMFONTDEFINE
2 0 /Helvetica-Bold FMFONTDEFINE
3 0 /NewCenturySchlbk-Italic FMFONTDEFINE
4 0 /NewCenturySchlbk-Bold FMFONTDEFINE
5 0 /Courier FMFONTDEFINE
6 0 /Courier-Oblique FMFONTDEFINE
32 FMFILLS
0 0 FMFILL
1 0.1 FMFILL
2 0.3 FMFILL
3 0.5 FMFILL
4 0.7 FMFILL
5 0.9 FMFILL
6 0.97 FMFILL
7 1 FMFILL
8 <0f1e3c78f0e1c387> FMFILL
9 <0f87c3e1f0783c1e> FMFILL
10 <cccccccccccccccc> FMFILL
11 <ffff0000ffff0000> FMFILL
12 <8142241818244281> FMFILL
13 <03060c183060c081> FMFILL
14 <8040201008040201> FMFILL
16 1 FMFILL
17 0.9 FMFILL
18 0.7 FMFILL
19 0.5 FMFILL
20 0.3 FMFILL
21 0.1 FMFILL
22 0.03 FMFILL
23 0 FMFILL
24 <f0e1c3870f1e3c78> FMFILL
25 <f0783c1e0f87c3e1> FMFILL
26 <3333333333333333> FMFILL
27 <0000ffff0000ffff> FMFILL
28 <7ebddbe7e7dbbd7e> FMFILL
29 <fcf9f3e7cf9f3f7e> FMFILL
30 <7fbfdfeff7fbfdfe> FMFILL
%%EndSetup
%%Page: "241" 1
%%BeginPaperSize: Letter
%%EndPaperSize
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
J
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
162 666.34 558 678.01 R
V
0 10 Q
0 X
(241) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 10 Q
0 X
-0.69 (This chapter discusses the life of an application as well as several topics most) 180 598.3 P
(application programmers will want to cover at one time or another) 180 585.3 T
(. Before) 486.7 585.3 T
-0.75 (reading this chapter) 180 572.3 P
-0.75 (, you should have read each of the previous chapters; this) 271.65 572.3 P
(chapter builds on the knowledge you gained in those chapters.) 180 559.3 T
(This chapter details the components and features of a) 180 539.3 T
3 F
(geode) 430.95 539.3 T
0 F
(, a) 456.31 539.3 T
0 9 Q
(GEOS) 470.21 539.3 T
0 10 Q
(executable. The chapter is presented in the following \336ve sections:) 180 526.3 T
1 F
(u) 180 506.3 T
0 F
(Geodes) 198 506.3 T
-0.44 (The) 198 494.3 P
3 F
-0.44 (Geodes) 218.12 494.3 P
0 F
-0.44 ( section describes how libraries, drivers, and applications are) 250.33 494.3 P
(launched, used, and shut down. It also discusses the general sections of) 198 482.3 T
(a geode and the geode\325) 198 470.3 T
(s executable \336le.) 300.98 470.3 T
1 F
(u) 180 451.3 T
0 F
(Creating Icons) 198 451.3 T
(The) 198 439.3 T
3 F
(Creating Icons) 218.56 439.3 T
0 F
( section describes the structure of the T) 285.57 439.3 T
(oken) 466.87 439.3 T
(Database, how icons are stored, managed, and created.) 198 427.3 T
1 F
(u) 180 408.3 T
0 F
(Saving User Options) 198 408.3 T
-0.52 (The) 198 396.3 P
3 F
-0.52 (Saving Options) 218.04 396.3 P
0 F
-0.52 ( section describes how to work with the) 288.63 396.3 P
0 9 Q
-0.47 (GEOS.INI) 468.37 396.3 P
0 10 Q
-0.52 ( \336le.) 511.7 396.3 P
1 F
(u) 180 377.3 T
0 F
(General System Utilities) 198 377.3 T
(The) 198 365.3 T
3 F
(General System Utilities) 218.56 365.3 T
0 F
(section describes several different) 333.53 365.3 T
(mechanisms provided by) 198 353.3 T
0 9 Q
( GEOS) 312.08 353.3 T
0 10 Q
( that you may \336nd useful in your) 340.75 353.3 T
(application or other geode.) 198 341.3 T
1 F
(u) 180 322.3 T
0 F
(The Error) 198 322.3 T
(-Checking System Software) 243.92 322.3 T
(The) 198 310.3 T
3 F
(Error-Checking System Software) 218.56 310.3 T
0 F
( describes the differences between) 369.45 310.3 T
(the debugging and standard versions of the system software. There are) 198 298.3 T
(two versions of nearly every part of the system software including the) 198 286.3 T
(kernel, the) 198 274.3 T
0 9 Q
(UI) 250.97 274.3 T
0 10 Q
(, and most libraries and drivers.) 261.97 274.3 T
1 F
(u) 180 255.3 T
0 9 Q
(IACP) 198 255.3 T
0 10 Q
(: Inter) 220.66 255.3 T
(-Application Communication Protocol) 249.55 255.3 T
-0.45 (The) 198 243.3 P
3 9 Q
-0.41 (IACP) 218.11 243.3 P
0 10 Q
-0.45 ( section describes how applications can communicate with each) 240.61 243.3 P
-0.16 (other and pass data back and forth. This protocol works for applications) 198 231.3 P
(that are not necessarily loaded and running; thus, an application can) 198 219.3 T
(change another application\325) 198 207.3 T
(s data dynamically\321the recipient) 325.42 207.3 T
(application is automatically started if it is not already running. \050This is) 198 195.3 T
-0.22 (an advanced topic; most programmers will not need to read this section.\051) 198 183.3 P
81 144 531 648 C
235.51 643.97 376.49 648 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
235.51 643.97 376.49 648 R
7 X
0 0 0 1 0 0 0 K
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
81 144 531 648 C
36 72 576 720 C
0 0 0 1 0 0 0 K
81 497.43 171 545.42 C
0 0 0 1 0 0 0 K
1 X
0 0 0 1 0 0 0 K
90 450 13.5 13.5 101.25 521.3 G
4 H
0 Z
90 450 13.5 13.5 101.25 521.3 A
0 0 0 1 0 0 0 K
81 501.18 121.5 541.68 R
1 H
0 X
N
36 72 576 720 C
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "241" 1
%%Page: "242" 2
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(242) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
2 14 Q
0 X
(6.1) 142.54 632 T
2 24 Q
(Geodes) 180 632 T
3 10 Q
(Geode) 180 606.33 T
0 F
( is the term used to describe a) 207.77 606.33 T
0 9 Q
(GEOS) 348.9 606.33 T
0 10 Q
( executable. Just as) 375.07 606.33 T
0 9 Q
(DOS) 468.43 606.33 T
0 10 Q
( has) 488.11 606.33 T
-0.42 (executables \050programs\051 that reside in \336les on a disk, so too does) 180 593.33 P
0 9 Q
-0.38 (GEOS) 471.15 593.33 P
0 10 Q
-0.42 (.) 497.32 593.33 P
0 9 Q
-0.38 (GEOS) 502.46 593.33 P
0 10 Q
(executables normally have the \336lename extension) 180 580.33 T
0 9 Q
(.GEO) 413.18 580.33 T
0 10 Q
(.) 436.18 580.33 T
(Each geode may have up to three different aspects:) 180 560.33 T
1 F
(u) 180 540.33 T
3 F
(process) 198 540.33 T
0 F
(Most of your geodes will have this aspect. A geode that is a process has) 198 528.33 T
-0.87 (an initial event-driven thread started for it by the kernel. All applications) 198 516.33 P
(and some libraries will have this aspect.) 198 504.33 T
1 F
(u) 180 485.33 T
3 F
(library) 198 485.33 T
0 F
-0.51 (This aspect indicates that the geode exports) 198 473.33 P
3 F
-0.51 (entry points) 400.03 473.33 P
0 F
-0.51 ( for other geodes) 453.96 473.33 P
(to use. T) 198 461.33 T
(ypically) 237.12 461.33 T
(, these entry points describe where either object classes) 271.94 461.33 T
(or code for routines is within the geode. A library has a special routine) 198 449.33 T
-0.57 (\050the library\325) 198 437.33 P
-0.57 (s entry point\051 that is called by the system when the library or) 251.88 437.33 P
(one of its clients is loaded or in the process of being unloaded.) 198 425.33 T
1 F
(u) 180 406.33 T
3 F
(driver) 198 406.33 T
0 F
(This aspect indicates that the geode hides the details of some device or) 198 394.33 T
(similarly changeable thing from the system. A driver has a special) 198 382.33 T
(structure that de\336nes its type, and it has a single entry point called a) 198 370.33 T
3 F
-0.57 (strategy routine) 198 358.33 P
0 F
-0.57 (. All calls to the driver pass through this strategy routine.) 269.63 358.33 P
(A geode can have any combination of these aspects. For example, the print) 180 339.33 T
-0.48 (spooler is a process\320library \050and therefore provides routines for other geodes) 180 326.33 P
(while also having a thread of its own\051, but the sound library is actually a) 180 313.33 T
(library\320driver since it manipulates the machine\325) 180 300.33 T
(s sound hardware.) 403.36 300.33 T
-0.51 (Library and driver geodes that do not have the process aspect do not initially) 180 280.33 P
-0.42 (have event-driven threads. Therefore, typically they will not contain objects,) 180 267.33 P
-0.21 (just procedural code. They can contain objects, however) 180 254.33 P
-0.21 (, as any geode is free) 433.9 254.33 P
(to create an event-driven thread for itself at any time. In fact, the parallel) 180 241.33 T
(port driver does just that when it is printing to a port through) 180 228.33 T
0 9 Q
(DOS) 469.09 228.33 T
0 10 Q
( or) 488.76 228.33 T
0 9 Q
(BIOS) 503.76 228.33 T
0 10 Q
(.) 526.6 228.33 T
(Geodes are loaded either with a call to the kernel routine) 180 208.33 T
4 F
(GeodeLoad\050\051) 446.52 208.33 T
0 F
( or) 513 208.33 T
-0.81 (as a side effect of a library\325) 180 195.33 P
-0.81 (s client being loaded \050in that case, the library geode) 298.31 195.33 P
(will be loaded as well\051. The generic) 180 182.33 T
0 9 Q
(UI) 344.11 182.33 T
0 10 Q
( supplies the special routine) 355.11 182.33 T
4 F
(UserLoadApplication\050\051) 180 169.33 T
0 F
(, which you may use to load an application\321a) 298.89 169.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "242" 2
%%Page: "243" 3
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(243) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.14 (geode which has both a process aspect and its process class subclassed off of) 180 641.33 P
4 F
(GenProcessClass) 180 628.33 T
0 F
( \050and therefore can put generic) 268.52 628.33 T
0 9 Q
(UI) 413.51 628.33 T
0 10 Q
( objects on the screen\051.) 424.51 628.33 T
-0.69 (Once a geode has been loaded, it is identi\336ed by its) 180 608.33 P
3 F
-0.69 (geode handle) 410.21 608.33 P
0 F
-0.69 (, which is the) 469.5 608.33 P
-0.35 (memory handle of the block that holds all the geode\325) 180 595.33 P
-0.35 (s system-administrative) 417.24 595.33 P
(data. This block is called the) 180 582.33 T
3 F
(core block) 314.67 582.33 T
0 F
( and should not be accessed by) 359.66 582.33 T
(anything other than the kernel. The geode handle is also used to determine) 180 569.33 T
(the owner of a particular block in memory; when queried for the owner of a) 180 556.33 T
(particular block, the kernel will return the geode handle of the geode that) 180 543.33 T
-0.11 (owns that block. A geode is the only entity that may own a system resource.) 180 530.33 P
(If the geode is a process, the geode handle may also be known as a process) 180 517.33 T
(handle.) 180 504.33 T
-0.26 (When a geode is loaded, its core block is connected to a linked list of the core) 180 484.33 P
-0.78 (blocks of other geodes running in the system. This linked list is chronological,) 180 471.33 P
(with the \336rst entry belonging to the \336rst geode loaded and the last entry) 180 458.33 T
-0.45 (belonging to the most recent geode loaded. Each core block contains an entry) 180 445.33 P
(for the handle of the next core block in the list; the kernel can follow these) 180 432.33 T
(links to locate any geode in the system. \050Only the kernel may do this.\051) 180 419.33 T
(After the core block is appended to the list,) 180 399.33 T
0 9 Q
(GEOS) 380.76 399.33 T
0 10 Q
( scans the list for other) 406.93 399.33 T
-0.82 (instances of the same core block. If the geode has been loaded more than once,) 180 386.33 P
(it will have multiple instances in the list \050one instance of the core block for) 180 373.33 T
-0.6 (each time the geode is loaded; each core block references the same copy of the) 180 360.33 P
(geode, however\051.) 180 347.33 T
0 9 Q
(GEOS) 259.26 347.33 T
0 10 Q
( then copies the shared-resource handles from an) 285.43 347.33 T
(existing core block \050if found\051 into the new core block, thus reducing the) 180 334.33 T
(amount of work required to load a particular geode multiple times \050the) 180 321.33 T
(shared resources do not need to be reloaded or recreated\051. Non-shared) 180 308.33 T
(resource handles are not copied; the resources are loaded or constructed as) 180 295.33 T
(necessary) 180 282.33 T
(.) 224.07 282.33 T
-0.12 (Each geode\325) 180 262.33 P
-0.12 (s core block contains a reference count for that particular geode.) 233.77 262.33 P
-0.15 (When the geode is \336rst loaded, the reference count is set to one. If the geode) 180 249.33 P
(is a process, the act of initializing the process thread increments the) 180 236.33 T
-0.35 (reference count. Each time the geode is loaded again, the new core block will) 180 223.33 P
-0.7 (get its own reference count. If the geode is loaded implicitly \050as a library) 180 210.33 P
-0.7 (, with) 503.13 210.33 P
4 F
(GeodeUseLibrary\050\051) 180 197.33 T
0 F
(, or with) 279.44 197.33 T
4 F
(GeodeUseDriver\050\051) 320.93 197.33 T
0 F
(\051, or if it spawns a new) 414.63 197.33 T
(thread, it will receive yet another reference count.) 180 184.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "243" 3
%%Page: "244" 4
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(244) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.47 (The reference count is decremented when a thread owned by the geode exits.) 180 641.33 P
-0.18 (If a client of a library geode exits, the library\325) 180 628.33 P
-0.18 (s reference count goes down by) 386.91 628.33 P
(one.) 180 615.33 T
(When a geode\325) 180 595.33 T
(s reference count reaches zero, all the geode\325) 245.93 595.33 T
(s non-sharable) 450.18 595.33 T
-0.57 (resources are freed along with all the \336le, event, and timer handles owned by) 180 582.33 P
(the geode. If a sharable resource is co-owned by another instance of the) 180 569.33 T
(geode, ownership is transferred to the geode\325) 180 556.33 T
(s next-oldest instance. \050Shared) 385.56 556.33 T
(resources are always owned by the oldest instance of their geode.\051 Once the) 180 543.33 T
-0.21 (resources have been freed or transferred, the core block is removed from the) 180 530.33 P
(linked list and is freed.) 180 517.33 T
(T) 180 497.33 T
(o make sure no synchronization problems occur while updating the core) 185.75 497.33 T
(block list \050e.g. a geode is being loaded while it has just been freed\051,) 180 484.33 T
0 9 Q
(GEOS) 489.32 484.33 T
0 10 Q
(maintains an internal semaphore. The geode loading and freeing routines) 180 471.33 T
(automatically maintain this semaphore.) 180 458.33 T
2 14 Q
(6.1.1) 130.86 416 T
2 18 Q
(Geode Components and Structures) 180 416 T
0 10 Q
-0.24 (A geode is simply a special type of) 180 392.33 P
0 9 Q
-0.22 (GEOS) 337.9 392.33 P
0 10 Q
-0.24 ( \336le. It has a special \336le header that) 364.07 392.33 P
-0.18 (gets loaded in as the geode\325) 180 379.33 P
-0.18 (s core block. This \336le header contains the geode\325) 304.29 379.33 P
-0.18 (s) 523.77 379.33 P
(type, attributes, release and protocol levels, and many other pieces of) 180 366.33 T
-0.23 (information necessary for) 180 353.33 P
0 9 Q
-0.21 (GEOS) 300.23 353.33 P
0 10 Q
-0.23 ( to work with the geode. Y) 326.4 353.33 P
-0.23 (ou never will have) 444.5 353.33 P
(to know the exact structure of this header as the kernel provides routines) 180 340.33 T
(necessary to access important portions of it.) 180 327.33 T
(Several important items contained in the header are listed below) 180 307.33 T
(.) 479.31 307.33 T
1 F
(u) 180 287.33 T
0 F
(Core Block Handle) 198 287.33 T
-0.3 (The core block contains its own memory handle, \336lled in when the geode) 198 275.33 P
(is loaded into memory) 198 263.33 T
(.) 298.94 263.33 T
1 F
(u) 180 244.33 T
0 F
(Geode Attributes) 198 244.33 T
(Each geode has a record of type) 198 232.33 T
4 F
(GeodeAttrs) 346.15 232.33 T
0 F
(. The geode attributes are) 405.04 232.33 T
(described below in section 6.1.1.1 on page 245.) 198 220.33 T
1 F
(u) 180 201.33 T
0 F
(Release and Protocol Levels) 198 201.33 T
(Each geode can have release and protocol levels associated with it to) 198 189.33 T
(ensure compatibility between different versions. Release and protocol) 198 177.33 T
(levels are discussed in section 6.1.8.2 on page 262.) 198 165.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "244" 4
%%Page: "245" 5
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(245) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
1 10 Q
0 X
(u) 180 641.33 T
0 F
(Geode Name) 198 641.33 T
(Each geode has a geode name and extension speci\336ed in the geode) 198 629.33 T
(parameters \050) 198 617.33 T
4 F
(.gp) 257.26 617.33 T
0 F
(\051 \336le.) 272.82 617.33 T
1 F
(u) 180 598.33 T
0 F
(Geode T) 198 598.33 T
(oken) 235.05 598.33 T
(Every geode has a token associated with it in the token database. The) 198 586.33 T
-0.34 (token describes the geode\325) 198 574.33 P
-0.34 (s icon and is a structure of type) 316.62 574.33 P
4 F
-0.35 (GeodeT) 461.52 574.33 P
-0.35 (oken) 500.41 574.33 P
0 F
-0.34 (.) 525.78 574.33 P
(T) 198 562.33 T
(okens and icons are discussed in section 6.2 on page 265.) 203.75 562.33 T
1 F
(u) 180 543.33 T
0 F
(Geode Reference Count) 198 543.33 T
(The geode\325) 198 531.33 T
(s reference count is stored in the core block. See above for a) 246.34 531.33 T
(discussion of the reference count and how it\325) 198 519.33 T
(s managed.) 401.7 519.33 T
1 F
(u) 180 500.33 T
0 F
(Geode File Handle) 198 500.33 T
-0.44 (The \336le handle of the geode identi\336es the open) 198 488.33 P
0 9 Q
-0.4 (GEO) 411.83 488.33 P
0 10 Q
-0.44 ( \336le so the kernel can) 432.33 488.33 P
(locate, load, and access its various resources.) 198 476.33 T
1 F
(u) 180 457.33 T
0 F
(Geode Process Handle) 198 457.33 T
-0.32 (Each geode that has a parent process will have the handle of the process) 198 445.33 P
-0.48 (in its core block. This is the handle of the parent process\325 core block. \050The) 198 433.33 P
(parent process is the owner of the thread that loaded the geode. It is) 198 421.33 T
(noti\336ed when the geode exits, if the exiting geode is a process.\051) 198 409.33 T
1 F
(u) 180 390.33 T
0 F
(Handle of the Next Geode) 198 390.33 T
-0.74 (Because geode core blocks are stored in a linked list, each core block must) 198 378.33 P
(contain a reference to the next geode in the list.) 198 366.33 T
1 F
(u) 180 347.33 T
0 F
(Handle of Private Data Space) 198 347.33 T
(Each geode that is not the kernel can have a \322private data space.\323 This) 198 335.33 T
(private data space is discussed in section 6.1.9 on page 264.) 198 323.33 T
1 F
(u) 180 304.33 T
0 F
(Resource, Library) 198 304.33 T
(, and Driver Information) 279.48 304.33 T
(Each geode that imports or exports library or driver information must) 198 292.33 T
(keep the import and export speci\336cs available. Additionally) 198 280.33 T
(, each geode) 471.19 280.33 T
-0.53 (must keep track of the resources it owns. All this information is stored in) 198 268.33 P
(tables referenced from within the core block.) 198 256.33 T
2 14 Q
(6.1.1.1) 119.19 223.67 T
(Geode Attributes) 180 223.67 T
0 10 Q
(Each geode has in its core block a record of type) 180 201.33 T
4 F
(GeodeAttrs) 403.16 201.33 T
0 F
(. This record) 462.05 201.33 T
(de\336nes several things about the geode, including which aspects it uses and) 180 188.33 T
(which of its aspects have been initialized. The) 180 175.33 T
4 F
(GeodeAttrs) 394.85 175.33 T
0 F
( record contains) 453.74 175.33 T
(one bit for each of the following attributes.) 180 162.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "245" 5
%%Page: "246" 6
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(246) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(GA_PROCESS) 180 641.33 T
0 10 Q
(This geode has a process aspect and therefore an initial) 243 629.33 T
(event-driven thread.) 243 617.33 T
0 9 Q
(GA_LIBRAR) 180 598.33 T
(Y) 233.32 598.33 T
0 10 Q
-0.13 (This geode has a library aspect and therefore exports routines) 243 598.33 P
(\050and possibly object classes\051.) 243 586.33 T
0 9 Q
(GA_DRIVER) 180 567.33 T
0 10 Q
-0.57 (This geode has a driver aspect and therefore has a driver table,) 243 567.33 P
(in which the strategy routine is speci\336ed.) 243 555.33 T
0 9 Q
(GA_KEEP_FILE_OPEN) 180 536.33 T
0 10 Q
(This geode must have its .) 243 524.33 T
0 9 Q
(GEO) 363.58 524.33 T
0 10 Q
( \336le kept open because its) 384.08 524.33 T
(resources may be discardable or are initially discarded.) 243 512.33 T
0 9 Q
(GA_SYSTEM) 180 493.33 T
0 10 Q
(This geode is a privileged geode and is almost certainly a) 243 493.33 T
(system-used driver) 243 481.33 T
(. These geodes have special exit) 330.4 481.33 T
(requirements.) 243 469.33 T
0 9 Q
(GA_MUL) 180 450.33 T
(TI_LAUNCHABLE) 219.34 450.33 T
0 10 Q
(This geode may be loaded more than once and therefore may) 243 438.33 T
(have more than one instance of its core block in memory) 243 426.33 T
(.) 501.54 426.33 T
0 9 Q
(GA_APPLICA) 180 407.33 T
(TION) 238.67 407.33 T
0 10 Q
(This geode is a user) 243 395.33 T
(-launchable application.) 334.13 395.33 T
0 9 Q
(GA_DRIVER_INITIALIZED) 180 376.33 T
0 10 Q
-0.33 (This \337ag is set if the geode has had its driver aspect initialized) 243 364.33 P
(\050if the driver) 243 352.33 T
(\325) 302.06 352.33 T
(s strategy routine has been initialized\051. This \337ag) 303.73 352.33 T
(will be set dynamically by the kernel.) 243 340.33 T
0 9 Q
(GA_LIBRAR) 180 321.33 T
(Y_INITIALIZED) 233.32 321.33 T
0 10 Q
-0.6 (This \337ag is set if the geode has had its library aspect initialized) 243 309.33 P
-0.26 (\050if the library\325) 243 297.33 P
-0.26 (s entry routine has been called\051. This \337ag will be) 306.18 297.33 P
(set dynamically by the kernel.) 243 285.33 T
0 9 Q
(GA_GEODE_INITIALIZED) 180 266.33 T
0 10 Q
(This \337ag is set if all aspects of the geode have been initialized.) 243 254.33 T
0 9 Q
(GA_USES_COPROC) 180 235.33 T
0 10 Q
(This geode uses a math coprocessor if one is available.) 243 223.33 T
0 9 Q
(GA_REQUIRES_COPROC) 180 204.33 T
0 10 Q
(This geode requires the presence of a math coprocessor or a) 243 192.33 T
(coprocessor emulator) 243 180.33 T
(.) 339.84 180.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "246" 6
%%Page: "247" 7
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(247) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(GA_HAS_GENERAL_CONSUMER_MODE) 180 641.33 T
0 10 Q
(This geode may be run in the General Consumer \050appliance\051) 243 629.33 T
(Mode.) 243 617.33 T
0 9 Q
(GA_ENTR) 180 598.33 T
(Y_POINTS_IN_C) 224 598.33 T
0 10 Q
(This geode has its library entry routine in) 243 586.33 T
0 9 Q
(C) 439.32 586.33 T
0 10 Q
( rather than) 445.82 586.33 T
(assembly language.) 243 574.33 T
2 14 Q
(6.1.1.2) 119.19 541.67 T
(Geode T) 180 541.67 T
(oken) 234.98 541.67 T
0 10 Q
-0.81 (As stated above, every geode is associated with a token in the token database.) 180 519.33 P
-0.17 (This token is de\336ned by the use of a) 180 506.33 P
4 F
-0.17 (GeodeT) 347.05 506.33 P
-0.17 (oken) 385.94 506.33 P
0 F
-0.17 ( structure. This structure) 411.31 506.33 P
(and its uses are discussed in section 6.2 on page 265.) 180 493.33 T
2 14 Q
(6.1.2) 130.86 451 T
2 18 Q
(Launching an Application) 180 451 T
5 10 Q
(GeodeLoad\050\051, UserLoadApplication\050\051,) 180 427.33 T
(MSG_GEN_PROCESS_OPEN_APPLICATION) 180 414.33 T
0 F
-0.02 (An application is a geode with its) 180 394.33 P
0 9 Q
-0.02 (GA_APPLICA) 336.18 394.33 P
-0.02 (TION) 394.85 394.33 P
0 10 Q
-0.02 ( attribute set. This type) 418.86 394.33 P
(of geode may be launched by the user through GeoManager or some other) 180 381.33 T
-0.35 (means provided by the system or another application. For the most part, the) 180 368.33 P
(system will invoke and carry out the launch; your responsibilities are) 180 355.33 T
(limited.) 180 342.33 T
-0.56 (An application may be loaded in essentially two ways: It may be launched, or) 180 322.33 P
(it may be reloaded from a state \336le. In both cases, the kernel will load the) 180 309.33 T
(proper resources and build out the) 180 296.33 T
0 9 Q
(UI) 341.85 296.33 T
0 10 Q
( properly according to the application.) 352.85 296.33 T
(Most of the procedure of launching is handled within) 180 276.33 T
4 F
(GenProcessClass) 427.04 276.33 T
0 F
(, a) 515.56 276.33 T
(subclass of) 180 263.33 T
4 F
(ProcessClass) 232.6 263.33 T
0 F
(. An application should de\336ne its own subclass of) 300.2 263.33 T
4 F
-0.72 (GenProcessClass) 180 250.33 P
0 F
-0.7 ( for its Process objects \050event-driven threads not acting as) 268.52 250.33 P
(Process objects should be subclassed from) 180 237.33 T
4 F
(ProcessClass) 375.38 237.33 T
0 F
(, not) 442.98 237.33 T
4 F
(GenProcessClass) 180 224.33 T
0 F
(\051. The launch procedure may be invoked by any thread) 268.52 224.33 T
(and by any geode in either of the following ways:) 180 211.33 T
1 F
(u) 180 191.33 T
4 F
(GeodeLoad\050\051) 198 191.33 T
0 F
-0.19 (This loads a geode from a given \336le and begins executing it based on the) 198 179.33 P
(geode\325) 198 167.33 T
(s type.) 225.78 167.33 T
4 F
(GeodeLoad\050\051) 258.75 167.33 T
0 F
( takes the name of the geode\325) 325.23 167.33 T
(s \336le as well as) 458.59 167.33 T
(a priority to set for the new geode\325) 198 155.33 T
(s process thread, if it has one.) 355.05 155.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "247" 7
%%Page: "248" 8
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(248) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
4 10 Q
0 X
(GeodeLoad\050\051) 198 641.33 T
0 F
( \336rst creates the process thread of the application, then) 264.48 641.33 T
(sends this thread a message. The process thread \050a subclass of) 198 629.33 T
4 F
(GenProcessClass) 198 617.33 T
0 F
(\051 then creates a) 286.52 617.33 T
0 9 Q
(UI) 360.6 617.33 T
0 10 Q
( thread for the application.) 371.6 617.33 T
4 F
-0.54 (GeodeLoad\050\051) 198 598.33 P
0 F
-0.52 ( will have to create two threads for the application: one for) 264.48 598.33 P
(the process and one for the) 198 586.33 T
0 9 Q
(UI) 324.85 586.33 T
0 10 Q
( of the geode.) 335.85 586.33 T
1 F
(u) 180 567.33 T
4 F
(UserLoadApplication\050\051) 198 567.33 T
0 F
-0.08 (Used by most application launchers, this routine loads a geode from the) 198 555.33 P
-0.32 (standard) 198 543.33 P
0 9 Q
-0.28 (GEOS) 242.13 543.33 P
0 10 Q
-0.32 ( application directory) 268.31 543.33 P
-0.32 (. \050) 365.08 543.33 P
0 9 Q
-0.28 (C) 373.66 543.33 P
0 10 Q
-0.32 ( programmers will generally use) 380.16 543.33 P
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 198 531.33 T
(TION) 369.35 531.33 T
0 10 Q
( instead.\051 This routine takes) 393.35 531.33 T
-0.08 (some additional parameters and can load a geode either in engine mode) 198 519.33 P
(or from a state \336le as well as in the normal open mode \050see below\051. The) 198 507.33 T
(base functionality of opening and loading the geode is implemented in) 198 495.33 T
(this routine by a call to) 198 483.33 T
4 F
(GeodeLoad\050\051) 307.84 483.33 T
0 F
(. Note, however) 374.32 483.33 T
(, that this routine) 445.44 483.33 T
(may only open application geodes\321geodes with the) 198 471.33 T
0 9 Q
(GA_APPLICA) 437.66 471.33 T
(TION) 496.33 471.33 T
0 10 Q
(attribute set.) 198 459.33 T
(Geodes may be launched in three modes:) 180 440.33 T
1 F
(u) 180 420.33 T
3 F
(Application) 198 420.33 T
0 F
( mode launches the geode, loads all its active resources,) 251.32 420.33 T
(builds its) 198 408.33 T
0 9 Q
(UI) 243.57 408.33 T
0 10 Q
( gadgetry) 254.57 408.33 T
(, and sets it usable. The geode must be an) 296.98 408.33 T
(application\321that is, it must have its) 198 396.33 T
0 9 Q
(GA_APPLICA) 370.45 396.33 T
(TION) 429.12 396.33 T
0 10 Q
( attribute set.) 453.12 396.33 T
1 F
(u) 180 377.33 T
3 F
(Engine) 198 377.33 T
0 F
( mode launches the geode but leaves its) 230.58 377.33 T
0 9 Q
(UI) 415.61 377.33 T
0 10 Q
( objects unusable \050it) 426.61 377.33 T
(never brings them on-screen\051. Engine mode is useful if you need to) 198 365.33 T
(launch an application to grab information from it. GeoManager uses) 198 353.33 T
(engine mode to launch an application, extract its icon, and put the icon) 198 341.33 T
-0.17 (in the token database. For ef\336ciency) 198 329.33 P
-0.17 (, the application is never set usable,) 363.46 329.33 P
(so its) 198 317.33 T
0 9 Q
(UI) 224.86 317.33 T
0 10 Q
( is never built.) 235.86 317.33 T
1 F
(u) 180 298.33 T
3 F
(Restore) 198 298.33 T
0 F
( mode launches the geode from a saved state \336le, loading in) 231.69 298.33 T
(resources and merging them with the default resources. This mode is) 198 286.33 T
-0.3 (invoked automatically by the) 198 274.33 P
0 9 Q
-0.27 (UI) 333.88 274.33 P
0 10 Q
-0.3 ( if it is restoring the system or the geode) 344.88 274.33 P
(from saved state. This mode is handled automatically by) 198 262.33 T
4 F
(GenProcessClass) 198 250.33 T
0 F
( \050your Process object\051.) 286.52 250.33 T
(It is possible, however) 180 231.33 T
(, for one application to launch another in a custom) 281.68 231.33 T
(mode. If this is done, the application being launched is responsible for) 180 218.33 T
(implementing the special mode.) 180 205.33 T
-0.77 (When the launch process has been initiated with the above routines, a thread) 180 185.33 P
(is created for the application and its Process object is loaded immediately) 180 172.33 T
(.) 517.08 172.33 T
(Also loaded is the application\325) 180 159.33 T
(s GenApplication object. The Application and) 317.25 159.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "248" 8
%%Page: "249" 9
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(249) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(Process objects interact with the User Interface to load the objects on the) 180 641.33 T
-0.08 (application\325) 180 628.33 P
-0.08 (s active list and set them all usable, bringing them up on-screen.) 233.16 628.33 P
-0.15 (Near the end of this procedure, just before the GenApplication is set usable,) 180 608.33 P
-0.26 (the Process object will receive a message based on the mode of launch. If the) 180 595.33 P
(application must set up any special noti\336cation \050such as for the) 180 582.33 T
(quick-transfer mechanism\051 or must restore special state \336le data, it should) 180 569.33 T
(intercept this message. T) 180 556.33 T
(ypically the message received will be) 295.79 556.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 180 543.33 T
(TION) 351.35 543.33 T
0 10 Q
(\321two others are received \050when) 375.35 543.33 T
-0.24 (restoring from state and when opening in engine mode\051, but they should not) 180 530.33 P
(be intercepted.) 180 517.33 T
2 14 Q
(6.1.3) 130.86 475 T
2 18 Q
(Shutting Down an Application) 180 475 T
5 10 Q
(MSG_GEN_PROCESS_CLOSE_APPLICATION,) 180 451.33 T
(MSG_GEN_PROCESS_CLOSE_ENGINE,) 180 438.33 T
(MSG_GEN_PROCESS_CLOSE_CUSTOM, MSG_META_QUIT) 180 425.33 T
0 F
-0.07 (Just as loading an application is handled almost entirely by the system and) 180 405.33 P
0 9 Q
(GEOS) 180 392.33 T
0 10 Q
( classes, application shutdown is also fairly automatic. If the) 206.17 392.33 T
(application intercepted) 180 379.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 289.45 379.33 T
(TION) 460.8 379.33 T
0 10 Q
( for its) 484.8 379.33 T
(own purposes on startup, it likely has to do a little cleanup; otherwise, it) 180 366.33 T
-0.32 (won\325) 180 353.33 P
-0.32 (t have to worry about shutting down. \050See \322Saving and Restoring State\323) 200.75 353.33 P
(on page 250 for special information on using this message.\051) 180 340.33 T
(Any object in the system may cause an application to shut down. Usually) 180 320.33 T
(,) 516.35 320.33 T
-0.61 (shutdown occurs either when the system is being exited \050when a user exits to) 180 307.33 P
0 9 Q
-0.58 (DOS) 180 294.33 P
0 10 Q
-0.64 (, for example\051 or when the user has closed the application. Therefore, the) 199.67 294.33 P
(usual source of the shutdown directive is the User Interface.) 180 281.33 T
(An application begins shutting down when either its Process object or its) 180 261.33 T
(Application object receives a) 180 248.33 T
0 9 Q
(MSG_MET) 313.71 248.33 T
(A_DET) 359.88 248.33 T
(ACH) 389.89 248.33 T
0 10 Q
(. If you want to cause a) 410.38 248.33 T
(shutdown manually) 180 235.33 T
(, you should send) 270.94 235.33 T
0 9 Q
(MSG_MET) 353.54 235.33 T
(A_QUIT) 399.71 235.33 T
0 10 Q
( to the application\325) 434.71 235.33 T
(s) 520.1 235.33 T
(GenApplication object; this will execute some default functions and then) 180 222.33 T
-0.55 (send the appropriate) 180 209.33 P
0 9 Q
-0.5 (MSG_MET) 277.42 209.33 P
-0.5 (A_DET) 323.59 209.33 P
-0.5 (ACH) 353.6 209.33 P
0 10 Q
-0.55 (. Essentially) 374.09 209.33 P
-0.55 (, the same detach and) 429.85 209.33 P
(destruction mechanisms used for any object are used for the entire) 180 196.33 T
(application. The object receiving) 180 183.33 T
0 9 Q
(MSG_MET) 332.05 183.33 T
(A_DET) 378.22 183.33 T
(ACH) 408.23 183.33 T
0 10 Q
( passes the message) 428.72 183.33 T
(along to all of its children and to all the objects on its active list. \050If a) 180 170.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "249" 9
%%Page: "250" 10
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(250) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(MSG_MET) 180 641.33 T
(A_DET) 226.17 641.33 T
(ACH) 256.18 641.33 T
0 10 Q
( is used without) 276.67 641.33 T
0 9 Q
(MSG_MET) 352.98 641.33 T
(A_QUIT) 399.15 641.33 T
0 10 Q
(, the application will) 433.23 641.33 T
(create a state \336le.\051) 180 628.33 T
-0.16 (When they have all acknowledged the detach, the application acknowledges) 180 608.33 P
(the detach and sets itself unusable. It automatically \337ushes its message) 180 595.33 T
-0.2 (queues before shutting down to avoid synchronization problems. Y) 180 582.33 P
-0.2 (ou should) 483.99 582.33 P
-0.46 (not subclass the) 180 569.33 P
0 9 Q
-0.41 (MSG_MET) 255.67 569.33 P
-0.41 (A_DET) 301.84 569.33 P
-0.41 (ACH) 331.85 569.33 P
0 10 Q
-0.46 ( handler unless you have special needs) 352.34 569.33 P
-0.62 (for cleaning up or sending special detach messages to other objects or geodes.) 180 556.33 P
-0.31 (If you do subclass it, you must call the superclass at the end of your handler) 180 543.33 P
-0.31 (.) 525.75 543.33 P
(Otherwise, the application will not \336nish detaching \050see section 5.4.6.5 of) 180 530.33 T
(chapter 5\051.) 180 517.33 T
(Instead of intercepting) 180 497.33 T
0 9 Q
(MSG_MET) 287.96 497.33 T
(A_DET) 334.13 497.33 T
(ACH) 364.14 497.33 T
0 10 Q
(, though, the application may) 384.63 497.33 T
(intercept the mode-speci\336c message it will also receive. Depending on the) 180 484.33 T
(mode in which it was launched, the application will receive \050via the Process) 180 471.33 T
(object\051 either) 180 458.33 T
0 9 Q
(MSG_GEN_PROCESS_CLOSE_APPLICA) 243.33 458.33 T
(TION) 419.51 458.33 T
0 10 Q
( \050for application) 443.52 458.33 T
(mode\051 or) 180 445.33 T
0 9 Q
(MSG_GEN_PROCESS_CLOSE_ENGINE) 222.96 445.33 T
0 10 Q
( \050for engine mode\051. There is) 396.8 445.33 T
(no special shutdown message for shutting down to a state \336le; instead,) 180 432.33 T
0 9 Q
(MSG_GEN_PROCESS_CLOSE_APPLICA) 180 419.33 T
(TION) 356.18 419.33 T
0 10 Q
( is used.) 380.19 419.33 T
-0.1 (When the system shuts down or task-switches, a different type of shutdown) 180 399.33 P
(occurs. Applications \050or other objects interested in this event\051 must register) 180 386.33 T
(for noti\336cation on the noti\336cation list) 180 373.33 T
0 9 Q
(GCNSL) 355.2 373.33 T
(T_SHUTDOWN_CONTROL) 387.21 373.33 T
0 10 Q
-0.78 (\050noti\336cation lists are described in \322General Change Noti\336cation,\323 Chapter) 180 360.33 P
-0.78 (9\051.) 517.33 360.33 P
-0.22 (When the system shuts down or task-switches, the object will then receive a) 180 347.33 P
0 9 Q
(MSG_MET) 180 334.33 T
(A_CONFIRM_SHUTDOWN) 226.17 334.33 T
0 10 Q
(, at which time the object must call) 343.84 334.33 T
4 F
(SysShutdown\050\051) 180 321.33 T
0 F
(.) 258.71 321.33 T
2 14 Q
(6.1.4) 130.86 279 T
2 18 Q
(Saving and Restoring State) 180 279 T
5 10 Q
(ObjMarkDirty\050\051, ObjSaveBlock\050\051) 180 255.33 T
0 F
-0.44 (Nearly all applications will save and restore their state so the user may shut) 180 235.33 P
-0.34 (down and return to precisely the same con\336guration he or she left. Saving of) 180 222.33 P
(state is almost entirely contained within the system software; for the most) 180 209.33 T
(part, only) 180 196.33 T
0 9 Q
(UI) 227.6 196.33 T
0 10 Q
( objects are saved to state \336les. Y) 238.6 196.33 T
(ou can, however) 390.3 196.33 T
(, mark other) 463.82 196.33 T
(object blocks and data for saving to a state \336le.) 180 183.33 T
(The state \336le for an application is a) 180 163.33 T
0 9 Q
(VM) 346.52 163.33 T
0 10 Q
( \336le containing object blocks. Only) 361.51 163.33 T
-0.22 (object blocks may be saved to the state \336le, though you can save LMem data) 180 150.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "250" 10
%%Page: "251" 11
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(251) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.5 (by setting up object blocks with only data chunks in them. \050Create the blocks) 180 641.33 P
(with) 180 628.33 T
4 F
(MemAllocLMem\050\051) 203.71 628.33 T
0 F
(, passing type) 295.37 628.33 T
0 9 Q
(LMEM_TYPE_OBJ_BLOCK) 361.68 628.33 T
0 10 Q
(, then) 481.02 628.33 T
-0.85 (simply use) 180 615.33 P
4 F
-0.88 (LMemAlloc\050\051) 230.52 615.33 P
0 F
-0.85 ( to allocate data chunks.\051 Y) 297 615.33 P
-0.85 (ou can also save an extra) 417.39 615.33 P
-0.34 (data block to the state \336le using) 180 602.33 P
0 9 Q
-0.31 (MSG_GEN_PROCESS_CLOSE_APPLICA) 328.38 602.33 P
-0.31 (TION) 504.56 602.33 P
0 10 Q
(and) 180 589.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 200.19 589.33 T
(TION) 371.54 589.33 T
0 10 Q
(. In the close message, you) 395.54 589.33 T
(can return the handle of an extra block to be saved to the state \336le; in the) 180 576.33 T
(open message, the handle of the extra block is given to you, and you can) 180 563.33 T
(restore this data as necessary) 180 550.33 T
(. See the reference information for these) 316.31 550.33 T
(messages under) 180 537.33 T
4 F
(GenProcessClass) 256.67 537.33 T
0 F
( for more information.) 345.19 537.33 T
(When a state \336le is saved, the system recognizes and saves only the dirty) 180 517.33 T
(\050modi\336ed\051 objects and chunks. Later) 180 504.33 T
(, when state is restored, the system) 347.23 504.33 T
-0.32 (merges the changes in the state \336le with the original object blocks, resulting) 180 491.33 P
(in the state that was saved.) 180 478.33 T
-0.54 (For individual objects or entire object blocks to be saved to the state \336le, they) 180 458.33 P
-0.09 (must be marked dirty) 180 445.33 P
-0.09 (. Generic objects automatically mark themselves dirty) 279.19 445.33 P
(at the appropriate times, so you don\325) 180 432.33 T
(t have to worry about them. T) 348.55 432.33 T
(o mark) 485.62 432.33 T
-0.23 (other objects dirty) 180 419.33 P
-0.23 (, use the routine) 262.5 419.33 P
4 F
-0.24 (ObjMarkDirty\050\051) 339.92 419.33 P
0 F
-0.23 (. Each object which has) 421.4 419.33 P
-0.37 (been marked dirty will be saved to a state \336le when appropriate. If you want) 180 406.33 P
-0.05 (to save an entire object block to the state \336le, you can call) 180 393.33 P
4 F
-0.05 (ObjSaveBlock\050\051) 447.89 393.33 P
0 F
-0.13 (on the block; the system will save the entire block, not just the dirty chunks.) 180 380.33 P
-0.48 (State \336les are dealt with at only two times: First, when the system starts up,) 180 360.33 P
(it will check for the existence of application state \336les. If a state \336le exists,) 180 347.33 T
-0.1 (the system will attempt to load the application belonging to it; after loading) 180 334.33 P
(the application\325) 180 321.33 T
(s resources, it will merge the state changes with the default) 250.94 321.33 T
(settings to restore the original state.) 180 308.33 T
-0.63 (The second time state \336les are used is when the system shuts down. A simple) 180 288.33 P
(shutdown \050called a \322detach\323\051 is invoked only by the) 180 275.33 T
0 9 Q
(UI) 417.81 275.33 T
0 10 Q
( and is not abortable.) 428.81 275.33 T
(When a detach occurs, the system shuts down all geodes as cleanly and) 180 262.33 T
(quietly as possible, saving them to state \336les. Only certain geodes will) 180 249.33 T
-0.31 (respond in extreme cases, offering the user the option of delaying the detach) 180 236.33 P
(or cancelling an operation in progress. An example of this is the) 180 223.33 T
0 9 Q
(GEOS) 477.06 223.33 T
0 10 Q
(spooler; if one or more jobs are actively printing or queued for printing, the) 180 210.33 T
-0.04 (spooler will ask the user whether the job should continue and the detach be) 180 197.33 P
(delayed, or whether the job should be aborted or delayed until the next) 180 184.33 T
(startup. The spooler can not abort the detach in any case.) 180 171.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "251" 11
%%Page: "252" 12
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(252) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.47 (Another type of detach is called a \322quit.\323 Any geode may invoke a quit, which) 180 641.33 P
-0.31 (is actually a two-step detach. A quit will \336rst notify all other geodes that the) 180 628.33 P
-0.74 (system will soon be detaching; other geodes then have the chance to abort the) 180 615.33 P
-0.69 (quit if they want. For example, if a terminal program were downloading a \336le) 180 602.33 P
-0.2 (and received a quit noti\336cation, it could ask the user whether she wanted to) 180 589.33 P
-0.63 (abort the quit or the download. If the user wanted to \336nish the download, she) 180 576.33 P
(would abort the quit; if she wanted to quit, she would abort the download.) 180 563.33 T
-0.58 (The system would then either shut down via a normal detach or stop the quit) 180 550.33 P
(sequence.) 180 537.33 T
-0.13 (When a geode is \336rst launched, no state \336le exists for it. The state \336le is not) 180 517.33 P
(created until the geode is actually detached to a state \336le. If a geode is) 180 504.33 T
-0.39 (restored from a state \336le, the \336le will exist until the geode is detached again.) 180 491.33 P
(A geode that gets closed \050not detached to state\051 will remove any state \336le it) 180 478.33 T
-0.51 (may have created during a previous detach. A geode that is detached to state) 180 465.33 P
(will create or modify its state \336le as appropriate.) 180 452.33 T
(The state of an application \050how it was launched\051 is re\337ected in the) 180 432.33 T
3 9 Q
(GAI) 180 419.33 T
3 10 Q
(_states) 197 419.33 T
0 F
( \336eld of the GenApplication object. T) 228.1 419.33 T
(o retrieve the application\325) 395.53 419.33 T
(s) 513.32 419.33 T
-0.2 (state, send it) 180 406.33 P
0 9 Q
-0.18 (MSG_GEN_APPLICA) 242.02 406.33 P
-0.18 (TION_GET_ST) 333.69 406.33 P
-0.18 (A) 397.38 406.33 P
-0.18 (TE) 403.38 406.33 P
0 10 Q
-0.2 (. It will return a value of) 415.88 406.33 P
4 F
(ApplicationStates) 180 393.33 T
0 F
(. The most frequent use of this message is by) 272.78 393.33 T
(applications that need to know whether a \322quit\323 is underway when their) 180 380.33 T
-0.67 (receive the) 180 367.33 P
0 9 Q
-0.6 (MSG_GEN_PROCESS_CLOSE_APPLICA) 231.62 367.33 P
-0.6 (TION) 407.81 367.33 P
0 10 Q
-0.67 ( message; the process) 431.81 367.33 P
(object will query the GenApplication and see if it is in the) 180 354.33 T
0 9 Q
(AS_QUITTING) 448.56 354.33 T
0 10 Q
(state.) 180 341.33 T
(In addition to the above state-saving functionality) 180 321.33 T
(, the kernel provides two) 410.22 321.33 T
(routines that translate handles between the state \336le and memory) 180 308.33 T
(.) 485.79 308.33 T
4 F
(ObjMapSavedT) 180 295.33 T
(oState\050\051) 258.52 295.33 T
0 F
( takes the memory handle of an object block and) 299.45 295.33 T
(returns its corresponding state \336le) 180 282.33 T
0 9 Q
(VM) 342.59 282.33 T
0 10 Q
( block handle.) 357.58 282.33 T
4 F
(ObjMapStateT) 180 269.33 T
(oSaved\050\051) 254.26 269.33 T
0 F
( takes the state \336le) 299.45 269.33 T
0 9 Q
(VM) 390.59 269.33 T
0 10 Q
( block handle and returns) 405.58 269.33 T
(the corresponding memory block handle, if any) 180 256.33 T
(.) 395.38 256.33 T
-0.7 (If your application\325) 180 236.33 P
-0.7 (s documents are) 265.64 236.33 P
0 9 Q
-0.63 (VM) 341.31 236.33 P
0 10 Q
-0.7 ( \336les, it is a very simple matter to save) 356.31 236.33 P
(document state. In fact, if you use the GenDocument and document control) 180 223.33 T
-0.53 (objects, they will take care of document state saving for you. Be sure that the) 180 210.33 P
0 9 Q
(VM) 180 197.33 T
0 10 Q
( \336le has the) 194.99 197.33 T
0 9 Q
(VMA_BACKUP) 251.67 197.33 T
0 10 Q
( \337ag set in its) 317.5 197.33 T
4 F
(VMAttributes) 382.89 197.33 T
0 F
(; then you can) 453.62 197.33 T
-0.43 (simply call) 180 184.33 P
4 F
-0.45 (VMUpdate\050\051) 231.92 184.33 P
0 F
-0.43 ( on the document \336le. \050Note\321do not use) 294.88 184.33 P
4 F
-0.45 (VMSave\050\051) 478.84 184.33 P
0 F
(instead; it will erase the backup and lock in the user) 180 171.33 T
(\325) 422.82 171.33 T
(s changes to the) 424.49 171.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "252" 12
%%Page: "253" 13
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(253) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.21 (document.\051 If you are not using) 180 641.33 P
0 9 Q
-0.19 (GEOS) 325.98 641.33 P
-0.19 (VM) 354.73 641.33 P
0 10 Q
-0.21 ( \336les, it is up to you how and if you) 369.72 641.33 P
(will save the document\325) 180 628.33 T
(s state.) 287.98 628.33 T
2 14 Q
(6.1.5) 130.86 586 T
2 18 Q
(Using Other Geodes) 180 586 T
0 10 Q
-0.2 (Often, geodes will have to use other geodes. For example, a communications) 180 562.33 P
(program will use the Serial Driver) 180 549.33 T
(, and a draw application will use the) 338.35 549.33 T
(Graphic Object Library) 180 536.33 T
(. Normally) 286.49 536.33 T
(, this is taken care of by the compiler and) 334.65 536.33 T
(the linker when you include a library or driver in your) 180 523.33 T
4 F
(.goc) 433.53 523.33 T
0 F
( and) 454.09 523.33 T
4 F
(.gp) 477.06 523.33 T
0 F
( \336les.) 492.62 523.33 T
-0.35 (Other times, however) 180 503.33 P
-0.35 (, an application will have to load libraries or drivers on) 278.37 503.33 P
-0.75 (the \337y and then free them some time later) 180 490.33 P
-0.75 (. This section describes how to load,) 368.64 490.33 P
(use, and free libraries and drivers.) 180 477.33 T
2 14 Q
(6.1.5.1) 119.19 443.67 T
(Using Libraries) 180 443.67 T
5 10 Q
(GeodeUseLibrary\050\051, GeodeFreeLibrary\050\051) 180 421.33 T
0 F
-0.72 (Libraries are always referenced by their \336le names or by their geode handles.) 180 401.33 P
-0.22 (It\325) 180 388.33 P
-0.22 (s easiest, however) 189.63 388.33 P
-0.22 (, to use the \336le name of the library when loading it\321the) 271.97 388.33 P
-0.62 (system will locate the library for you. It\325) 180 375.33 P
-0.62 (s unusual to need to load a library for) 360.1 375.33 P
(use with your geode; in almost all cases it\325) 180 362.33 T
(s easiest to include the library in) 373.93 362.33 T
(your) 180 349.33 T
4 F
( .goc) 200.92 349.33 T
0 F
( and) 224.35 349.33 T
4 F
( .gp) 244.54 349.33 T
0 F
( \336les and have the system load and link the library) 262.97 349.33 T
-0.79 (automatically) 180 336.33 P
-0.79 (. \050T) 242.61 336.33 P
-0.79 (o do this, include the library\325) 256.46 336.33 P
-0.79 (s interface de\336nition \336le in your) 384.78 336.33 P
(code \336le and list the library\325) 180 323.33 T
(s geode name in your geode parameters \336le.\051) 308.91 323.33 T
-0.22 (If you need to load a library dynamically) 180 303.33 P
-0.22 (, though, use) 364.63 303.33 P
4 F
-0.22 (GeodeUseLibrary\050\051) 426.21 303.33 P
0 F
-0.22 (.) 525.66 303.33 P
(This routine takes the protocol numbers expected of the library \050see section) 180 290.33 T
(6.1.8.2 on page 262\051 and the library geode\325) 180 277.33 T
(s \336lename. It will locate and load) 374.69 277.33 T
(the library if not already loaded. If the library is already loaded, it will) 180 264.33 T
(increment the library\325) 180 251.33 T
(s reference count. When you are done using a library) 280.93 251.33 T
-0.07 (loaded with) 180 238.33 P
4 F
-0.07 (GeodeUseLibrary\050\051) 236.54 238.33 P
0 F
-0.07 (, you must free the library\325) 335.98 238.33 P
-0.07 (s instance with) 458.42 238.33 P
4 F
(GeodeFreeLibrary\050\051) 180 225.33 T
0 F
(.) 284.26 225.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "253" 13
%%Page: "254" 14
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(254) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
2 14 Q
0 X
(6.1.5.2) 119.19 638.67 T
(Using Drivers) 180 638.67 T
5 10 Q
(GeodeUseDriver\050\051, GeodeInfoDriver\050\051,) 180 616.33 T
(GeodeGetDefaultDriver\050\051, GeodeSetDefaultDriver\050\051,) 180 603.33 T
(GeodeFreeDriver\050\051) 180 590.33 T
0 F
(Drivers are referenced by either their permanent names or their geode) 180 570.33 T
(handles. Most drivers used by applications will be loaded automatically by) 180 557.33 T
-0.47 (the kernel; the application must have the driver) 180 544.33 P
-0.47 (\325) 399.34 544.33 P
-0.47 (s permanent name speci\336ed) 401.01 544.33 P
(in its) 180 531.33 T
4 F
( .gp) 203.71 531.33 T
0 F
( \336le. Should an application need to use a driver not included in its) 222.14 531.33 T
(parameters \336le, however) 180 518.33 T
(, it can do so with the routines described below) 293.71 518.33 T
(.) 508.56 518.33 T
(When you need to use a driver) 180 498.33 T
(, the) 319.63 498.33 T
4 F
(GeodeUseDriver\050\051) 342.97 498.33 T
0 F
( routine will locate) 436.67 498.33 T
(and load it, adding it to the active geodes list. Y) 180 485.33 T
(ou must pass the desired) 398.76 485.33 T
(driver geode\325) 180 472.33 T
(s \336lename as well as the expected protocol levels of the driver) 238.7 472.33 T
(.) 522.06 472.33 T
(The routine will return the driver) 180 459.33 T
(\325) 336.29 459.33 T
(s geode handle. If you load a driver) 337.96 459.33 T
(dynamically) 180 446.33 T
(, you must free it with) 235.38 446.33 T
4 F
(GeodeFreeDriver\050\051) 340.58 446.33 T
0 F
( when your geode) 439.1 446.33 T
(shuts down or otherwise \336nishes using the driver) 180 433.33 T
(.) 407.41 433.33 T
(If you know a driver) 180 413.33 T
(\325) 274.07 413.33 T
(s geode handle, you can easily retrieve information) 275.74 413.33 T
(about it with the routine) 180 400.33 T
4 F
(GeodeInfoDriver\050\051) 296.69 400.33 T
0 F
(. This returns a structure of) 392.61 400.33 T
-0.61 (type) 180 387.33 P
4 F
-0.63 (DriverInfoStruct) 202.17 387.33 P
0 F
-0.61 (, which contains the driver) 290.51 387.33 P
-0.61 (\325) 412.12 387.33 P
-0.61 (s type \050) 413.79 387.33 P
4 F
-0.63 (DriverT) 446.08 387.33 P
-0.63 (ype) 487.04 387.33 P
0 F
-0.61 (\051, the) 505.56 387.33 P
(driver) 180 374.33 T
(\325) 208.69 374.33 T
(s attributes, and a far pointer to the driver) 210.36 374.33 T
(\325) 408.34 374.33 T
(s strategy routine. Many) 410.01 374.33 T
(driver types have an expanded information structure, of which) 180 361.33 T
4 F
-0.64 (DriverInfoStruct) 180 348.33 P
0 F
-0.62 ( is just the \336rst \336eld. V) 268.34 348.33 P
-0.62 (ideo driver information structures,) 370.32 348.33 P
(for example, also contain dimensions and color capabilities \050among other) 180 335.33 T
-0.51 (things\051 of the particular devices they drive. The driver information structure) 180 322.33 P
(is shown below) 180 309.33 T
(.) 248.54 309.33 T
5 F
(typedef struct {) 216 293.33 T
(void) 240 279.33 T
(\050*DIS_strategy\051\050\051;) 324 279.33 T
(DriverAttrs) 240 265.33 T
(DIS_driverAttributes;) 324 265.33 T
(DriverType) 240 251.33 T
(DIS_driverType;) 324 251.33 T
(} DriverInfoStruct;) 216 237.33 T
0 F
(The) 180 216.33 T
3 9 Q
(DIS) 200.56 216.33 T
3 10 Q
(_strategy) 217.23 216.33 T
0 F
( \336eld of the structure contains a pointer to the driver) 258.7 216.33 T
(\325) 503.14 216.33 T
(s) 504.81 216.33 T
(strategy routine in \336xed memory) 180 203.33 T
(. After the driver has been loaded, its) 330.93 203.33 T
(strategy routine is called directly with a driver function name.) 180 190.33 T
(The) 180 170.33 T
3 9 Q
(DIS) 200.56 170.33 T
3 10 Q
(_driverAttributes) 217.23 170.33 T
0 F
( is an attribute record of type) 296.1 170.33 T
4 F
(DriverAttrs) 433.89 170.33 T
0 F
(, the) 494.45 170.33 T
(\337ags of which are shown below:) 180 157.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "254" 14
%%Page: "255" 15
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(255) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(DA_FILE_SYSTEM) 180 641.33 T
0 10 Q
(This \337ag indicates that the driver is used for \336le access.) 243 629.33 T
0 9 Q
(DA_CHARACTER) 180 610.33 T
0 10 Q
(This \337ag indicates that the driver is used for a) 243 598.33 T
(character) 243 586.33 T
(-oriented device.) 286.7 586.33 T
0 9 Q
(DA_HAS_EXTENDED_INFO) 180 567.33 T
0 10 Q
-0.66 (This \337ag indicates that the driver has a) 243 555.33 P
4 F
-0.68 (DriverExtendedInfo) 423.7 555.33 P
0 F
(structure.) 243 543.33 T
-0.25 (The) 180 524.33 P
3 9 Q
-0.22 (DIS) 200.31 524.33 P
3 10 Q
-0.25 (_driverT) 216.98 524.33 P
-0.25 (ype) 255.89 524.33 P
0 F
-0.25 ( contains the type of driver described by the information) 271.07 524.33 P
(structure. The types that may be speci\336ed in this \336eld are listed below:) 180 511.33 T
0 9 Q
(DRIVER_TYPE_VIDEO) 180 491.33 T
0 10 Q
(This is used for video drivers.) 243 479.33 T
0 9 Q
(DRIVER_TYPE_INPUT) 180 460.33 T
0 10 Q
(This is used for input \050mouse, keyboard, pen, etc.\051 drivers.) 243 448.33 T
0 9 Q
(DRIVER_TYPE_MASS_STORAGE) 180 429.33 T
0 10 Q
(This is used for storage device drivers.) 243 417.33 T
0 9 Q
(DRIVER_TYPE_STREAM) 180 398.33 T
0 10 Q
(This is used for stream and port \050parallel, serial\051 drivers.) 243 386.33 T
0 9 Q
(DRIVER_TYPE_FONT) 180 367.33 T
0 10 Q
(This is used for font rasterizing drivers.) 243 355.33 T
0 9 Q
(DRIVER_TYPE_OUTPUT) 180 336.33 T
0 10 Q
(This is used for output drivers other than video and printer) 243 324.33 T
(drivers.) 243 312.33 T
0 9 Q
(DRIVER_TYPE_LOCALIZA) 180 293.33 T
(TION) 297.67 293.33 T
0 10 Q
(This is used for drivers that facilitate internationalization.) 243 281.33 T
0 9 Q
(DRIVER_TYPE_FILE_SYSTEM) 180 262.33 T
0 10 Q
(This is used for \336le system drivers.) 243 250.33 T
0 9 Q
(DRIVER_TYPE_PRINTER) 180 231.33 T
0 10 Q
(This is used for printer drivers.) 243 219.33 T
0 9 Q
(DRIVER_TYPE_SW) 180 200.33 T
(AP) 264.17 200.33 T
0 10 Q
(This is used for the system\325) 243 188.33 T
(s memory-swapping drivers.) 368.57 188.33 T
0 9 Q
(DRIVER_TYPE_POWER_MANAGEMENT) 180 169.33 T
0 10 Q
-0.29 (This is used for devices that have power management systems.) 243 157.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "255" 15
%%Page: "256" 16
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(256) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(DRIVER_TYPE_T) 180 641.33 T
(ASK_SWITCH) 256.01 641.33 T
0 10 Q
(This is used for devices or systems that have task switchers.) 243 629.33 T
0 9 Q
(DRIVER_TYPE_NETWORK) 180 610.33 T
0 10 Q
(This is used for special networks that require driver) 243 598.33 T
(functionality) 243 586.33 T
(.) 301.15 586.33 T
(When you want a driver to perform one of its functions, you must call its) 180 567.33 T
(strategy routine. The strategy routine typically takes a number of) 180 554.33 T
(parameters, one of which is the function the driver should perform. The) 180 541.33 T
4 F
(DriverInfoStruct) 180 528.33 T
0 F
( contains a far pointer to the strategy routine; your) 268.34 528.33 T
(application should store this far pointer and call it directly any time one of) 180 515.33 T
(the driver) 180 502.33 T
(\325) 226.47 502.33 T
(s functions is needed. However) 228.14 502.33 T
(, because the driver may be put in) 369.99 502.33 T
-0.46 (a different location each time it\325) 180 489.33 P
-0.46 (s loaded, you should not save the pointer in a) 324.22 489.33 P
(state \336le. Note that this scheme of accessing drivers directly can only be) 180 476.33 T
(implemented in assembly language. Some drivers may provide library) 180 463.33 T
(interfaces as well as their standard driver interface; this allows routines to) 180 450.33 T
(be written in) 180 437.33 T
0 9 Q
(C) 242.42 437.33 T
0 10 Q
(.) 248.92 437.33 T
0 9 Q
(GEOS) 180 417.33 T
0 10 Q
( maintains default drivers for the entire system. The types of default) 206.17 417.33 T
-0.89 (drivers are described by) 180 404.33 P
4 F
-0.92 (GeodeDefaultDriverT) 289.97 404.33 P
-0.92 (ype) 402.22 404.33 P
0 F
-0.89 (; all the types are shown) 420.74 404.33 P
(below) 180 391.33 T
(. They are called default drivers because the default for each category) 205.57 391.33 T
(of driver used by the system is stored in the) 180 378.33 T
0 9 Q
(GEOS.INI) 384.83 378.33 T
0 10 Q
( \336le.) 428.17 378.33 T
0 9 Q
(GEOS) 450.77 378.33 T
0 10 Q
( will, upon) 476.94 378.33 T
(startup, load in the default driver of each category) 180 365.33 T
(.) 411.31 365.33 T
0 9 Q
(GDDT_FILE_SYSTEM) 180 345.33 T
(GEOS) 243 333.33 T
0 10 Q
( may use several \336le system drivers during execution. A) 269.17 333.33 T
(\336le system driver allows) 243 321.33 T
0 9 Q
(GEOS) 358.2 321.33 T
0 10 Q
( to work on a given) 384.37 321.33 T
0 9 Q
(DOS) 474.76 321.33 T
0 10 Q
( \050or) 494.44 321.33 T
-0.66 (substitute \336le access system\051. The primary driver is considered) 243 309.33 P
(the default driver) 243 297.33 T
(.) 323.74 297.33 T
0 9 Q
(GDDT_KEYBOARD) 180 278.33 T
0 10 Q
(The system may only use one keyboard driver during) 243 266.33 T
(execution; typically) 243 254.33 T
(, keyboards can differ from country to) 331.34 254.33 T
(country) 243 242.33 T
(. Not all systems will have a keyboard.) 277.25 242.33 T
0 9 Q
(GDDT_MOUSE) 180 223.33 T
0 10 Q
-0.2 (The mouse should be usable when the system comes up on the) 243 211.33 P
-0.49 (screen; the user does not have to manually load a mouse driver) 243 199.33 P
(with each execution of) 243 187.33 T
0 9 Q
(GEOS) 348.56 187.33 T
0 10 Q
(. Not all systems will have a) 374.73 187.33 T
(mouse.) 243 175.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "256" 16
%%Page: "257" 17
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(257) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(GDDT_VIDEO) 180 641.33 T
(GEOS) 243 629.33 T
0 10 Q
( must know what type of video driver to use prior to) 269.17 629.33 T
(attempting to display itself.) 243 617.33 T
0 9 Q
(GDDT_MEMOR) 180 598.33 T
(Y_VIDEO) 248.17 598.33 T
0 10 Q
-0.55 (The V) 243 586.33 P
-0.55 (idmem driver is a video driver that draws to memory \050i.e.) 269.79 586.33 P
-0.73 (to bitmaps\051. It is used primarily for printing but also for editing) 243 574.33 P
(bitmaps.) 243 562.33 T
0 9 Q
(GDDT_POWER_MANAGEMENT) 180 543.33 T
0 10 Q
(A few machines use hardware power management systems) 243 531.33 T
(\050most notably some palmtops and some notebook and laptop) 243 519.33 T
-0.74 (machines\051. In order for) 243 507.33 P
0 9 Q
-0.67 (GEOS) 348.71 507.33 P
0 10 Q
-0.74 ( to handle the power management) 374.89 507.33 P
(hardware properly) 243 495.33 T
(, it must load the driver on startup. \050Most) 328.18 495.33 T
(machines will not use this type of driver) 243 483.33 T
(.\051) 427.83 483.33 T
0 9 Q
(GDDT_T) 180 464.33 T
(ASK) 217.02 464.33 T
0 10 Q
-0.26 (Some systems will use a task switcher; in order for) 243 464.33 P
0 9 Q
-0.24 (GEOS) 477.82 464.33 P
0 10 Q
-0.26 ( to be) 503.99 464.33 P
(a task in one of these, it must have a default task driver) 243 452.33 T
(.) 501.39 452.33 T
(T) 180 433.33 T
(o retrieve the default that) 185.75 433.33 T
0 9 Q
(GEOS) 308.17 433.33 T
0 10 Q
( is using, call the routine) 334.34 433.33 T
4 F
(GeodeGetDefaultDriver\050\051) 180 420.33 T
0 F
( with the appropriate driver type \050a member of) 311.66 420.33 T
(the type) 180 407.33 T
4 F
(GeodeDefaultDriverT) 220.56 407.33 T
(ype) 332.81 407.33 T
0 F
(\051. This routine will return the geode) 351.33 407.33 T
(handle of the default driver of that type. T) 180 394.33 T
(o set a new default driver for a) 374.47 394.33 T
(speci\336ed driver type, use) 180 381.33 T
4 F
(GeodeSetDefaultDriver\050\051) 297.59 381.33 T
0 F
(. This routine takes a) 427.59 381.33 T
(geode handle and a driver type and sets the system default for that type.) 180 368.33 T
(T) 180 355.33 T
(ypically) 186.15 355.33 T
(, system defaults will be set only by the Preferences Manager) 220.97 355.33 T
(application.) 180 342.33 T
2 14 Q
(6.1.6) 130.86 300 T
2 18 Q
(W) 180 300 T
(riting Y) 196.67 300 T
(our Own Libraries) 257.35 300 T
0 10 Q
(Creating a library geode is a simple step beyond creating a normal) 180 276.33 T
(application. Libraries can have their own process threads or not; most) 180 263.33 T
(libraries do not, though some will. T) 180 250.33 T
(o create a library geode, you have to do) 346.15 250.33 T
(four things:) 180 237.33 T
1 F
(u) 180 217.33 T
0 F
(Declare the geode to be a library) 198 217.33 T
(.) 346.73 217.33 T
-0.53 (In the geode parameters \050) 198 205.33 P
4 F
-0.55 (.gp) 314.78 205.33 P
0 F
-0.53 (\051 \336le, you must declare the type of the geode) 330.34 205.33 P
(to be library) 198 193.33 T
(.) 253.57 193.33 T
1 F
(u) 180 174.33 T
0 F
(De\336ne an entry point routine.) 198 174.33 T
(Create a routine that initializes the library; this routine is called the) 198 162.33 T
(\322entry point routine\323 and is called each time the library is loaded.) 198 150.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "257" 17
%%Page: "258" 18
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(258) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
1 10 Q
0 X
(u) 180 641.33 T
0 F
(Export the entry point routine.) 198 641.33 T
-0.51 (Add another line in the geode parameters \050) 198 629.33 P
4 F
-0.53 (.gp) 392.94 629.33 P
0 F
-0.51 (\051 \336le to export the library\325) 408.5 629.33 P
-0.51 (s) 524.1 629.33 P
(entry point routine.) 198 617.33 T
1 F
(u) 180 598.33 T
0 F
(Set the geode\325) 198 598.33 T
(s permanent name properly) 261.53 598.33 T
(.) 388.57 598.33 T
-0.37 (Most libraries have the extension of their permanent name be \322lib.\323 This) 198 586.33 P
(helps identify it as a library when using Swat. The permanent name is) 198 574.33 T
(de\336ned in the geode parameters \050) 198 562.33 T
4 F
(.gp) 352.45 562.33 T
0 F
(\051 \336le.) 368.01 562.33 T
(Code Display) 180 543.33 T
(6-) 243.9 543.33 T
(1 shows an example of the three changes you must make to) 252.79 543.33 T
(the geode\325) 180 530.33 T
(s parameters \336le to make it a library) 225.56 530.33 T
(.) 394.49 530.33 T
81 497.98 531 510 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 497.98 531 510 R
7 X
0 0 0 1 0 0 0 K
V
76.5 505.23 617.5 508.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 10 Q
0 X
0 0 0 1 0 0 0 K
(Code Display) 81 491.31 T
(6-) 147.13 491.31 T
(1 De\336ning a Library\321the sound.gp File) 156.02 491.31 T
5 9 Q
(# The Sound Library has the following three lines in its geode parameters file) 81 476.98 T
(# \050sound.gp\051 different from how they might appear in an application.) 81 465.98 T
(#) 81 447.98 T
(# The permanent name of the geode might normally be sound.app if it is an) 81 436.98 T
(# application. A library typically has \322lib\323 as its name extension.) 81 425.98 T
(#) 81 414.98 T
(name sound.lib) 81 403.98 T
(#) 81 385.98 T
(# Declare the type of the geode to be a library. Applications typically have a) 81 374.98 T
(# \322process\323 aspect; many libraries do not. Libraries must also be declared to) 81 363.98 T
(# have a \322library\323 aspect. \050Note that the Sound Library is exceptional in that) 81 352.98 T
(# it has both a driver aspect and a library aspect.\051) 81 341.98 T
(#) 81 330.98 T
(type driver, library, single) 81 319.98 T
(#) 81 301.98 T
(# Export the geode\325s entry point routine so the kernel may call it when the) 81 290.98 T
(# library is loaded. This routine must be defined somewhere in the geode\325s code.) 81 279.98 T
(# Note that it is exported with the \322entry\323 line rather than the standard) 81 268.98 T
(# \322export\323 line; this is to distinguish the exported routine as the entry) 81 257.98 T
(# point rather than a typical routine.) 81 246.98 T
(#) 81 235.98 T
(entry SoundEntry) 81 224.98 T
81 200.95 531 212.98 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 200.95 531 212.98 R
7 X
0 0 0 1 0 0 0 K
V
76.5 208.2 617.5 211.7 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "258" 18
%%Page: "259" 19
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(259) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
2 14 Q
0 X
(6.1.7) 130.86 636 T
2 18 Q
(W) 180 636 T
(orking with Geodes) 196.67 636 T
0 10 Q
-0.52 (The system provides a number of utility routines for getting information and) 180 612.33 P
(setting attributes of geodes. These are loosely organized throughout the) 180 599.33 T
(following sections.) 180 586.33 T
2 14 Q
(6.1.7.1) 119.19 552.67 T
(Accessing the Application Object) 180 552.67 T
5 10 Q
(GeodeGetAppObject\050\051) 180 530.33 T
0 9 Q
(GEOS) 180 510.33 T
0 10 Q
( offers a routine for retrieving the optr of an application\325) 206.17 510.33 T
(s) 464.88 510.33 T
-0.04 (GenApplication object.) 180 497.33 P
4 F
-0.04 (GeodeGetAppObject\050\051) 287.15 497.33 P
0 F
-0.04 ( takes the process handle of) 400.67 497.33 P
(the Process object of the application. It returns the optr of the application\325) 180 484.33 T
(s) 520.76 484.33 T
(GenApplication object.) 180 471.33 T
2 14 Q
(6.1.7.2) 119.19 437.67 T
(General Geode Information) 180 437.67 T
5 10 Q
(GeodeFind\050\051, GeodeFindResource\050\051, GeodeGetInfo\050\051,) 180 415.33 T
(GeodeGetProcessHandle\050\051, GeodeGetCodeProcessHandle\050\051,) 180 402.33 T
(ProcInfo\050\051) 180 389.33 T
4 F
(GeodeFind\050\051) 180 369.33 T
0 F
( returns a geode\325) 244.81 369.33 T
(s handle when given a permanent name and) 321.11 369.33 T
(attributes to search on.) 180 356.33 T
0 9 Q
(GEOS) 290.2 356.33 T
0 10 Q
( will search the active geode list for any geode) 316.37 356.33 T
(with the given name and the proper attributes set or clear) 180 343.33 T
(.) 447.99 343.33 T
4 F
(GeodeFindResource\050\051) 180 323.33 T
0 F
( locates a given resource within a geode\325) 293.15 323.33 T
(s \336le. It) 477.43 323.33 T
-0.61 (must be passed the \336le handle of the geode, the number of the resource in the) 180 310.33 P
(\336le, and an offset within the resource at which the \336le read/write position) 180 297.33 T
(should be placed. This routine may only be used on open geode \336les, and it) 180 284.33 T
-0.45 (returns the base offset and size of the resource. Y) 180 271.33 P
-0.45 (ou will probably not need to) 402.58 271.33 P
(use this routine.) 180 258.33 T
4 F
(GeodeGetInfo\050\051) 180 238.33 T
0 F
( takes a geode handle, a) 259.99 238.33 T
4 F
(GeodeGetInfoT) 373.36 238.33 T
(ype) 452.27 238.33 T
0 F
( parameter) 470.79 238.33 T
(,) 521.35 238.33 T
(and a buffer appropriate for the return information. It returns the) 180 225.33 T
-0.47 (appropriate values as speci\336ed in the) 180 212.33 P
4 F
-0.49 (GeodeGetInfoT) 352.19 212.33 P
-0.49 (ype) 431.1 212.33 P
0 F
-0.47 ( parameter) 449.62 212.33 P
-0.47 (. \050This) 499.71 212.33 P
(parameter speci\336es what type of information is sought about the geode; the) 180 199.33 T
-0.11 (routine can return the geode\325) 180 186.33 P
-0.11 (s attributes, geode type, release level, protocol,) 313.24 186.33 P
(token ID, or permanent name.\051 The possible values of) 180 173.33 T
4 F
(GeodeGetInfoT) 430.22 173.33 T
(ype) 509.13 173.33 T
0 F
(are shown below:) 180 160.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "259" 19
%%Page: "260" 20
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(260) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(GGIT_A) 180 641.33 T
(TTRIBUTES) 214.17 641.33 T
0 10 Q
(This indicates the geode\325) 243 629.33 T
(s attributes should be returned.) 356.35 629.33 T
0 9 Q
(GGIT_TYPE) 180 610.33 T
0 10 Q
(This indicates the geode\325) 243 610.33 T
(s type should be returned \050type) 356.35 610.33 T
4 F
(GeodeT) 243 598.33 T
(ype) 282.29 598.33 T
0 F
(\051.) 300.81 598.33 T
0 9 Q
(GGIT_GEODE_RELEASE) 180 579.33 T
0 10 Q
-0.28 (This indicates the geode\325) 243 567.33 P
-0.28 (s release numbers should be returned.) 355.52 567.33 P
0 9 Q
(GGIT_GEODE_PROTOCOL) 180 548.33 T
0 10 Q
(This indicates the geode\325) 243 536.33 T
(s protocol numbers should be) 356.35 536.33 T
(returned.) 243 524.33 T
0 9 Q
(GGIT_TOKEN_ID) 180 505.33 T
0 10 Q
(This indicates the geode\325) 243 493.33 T
(s token information should be) 356.35 493.33 T
(returned.) 243 481.33 T
0 9 Q
(GGIT_PERM_NAME_AND_EXT) 180 462.33 T
0 10 Q
(This indicates the geode\325) 243 450.33 T
(s permanent name and extender) 356.35 450.33 T
(should be returned.) 243 438.33 T
0 9 Q
(GGIT_PERM_NAME_ONL) 180 419.33 T
(Y) 293 419.33 T
0 10 Q
(This indicates the eight characters of the geode\325) 243 407.33 T
(s permanent) 462.83 407.33 T
(name only should be returned, without the extender) 243 395.33 T
(characters.) 243 383.33 T
4 F
(GeodeGetProcessHandle\050\051) 180 364.33 T
0 F
( returns the geode handle of the current) 316.48 364.33 T
(process \050the owner of the current thread\051. Another routine,) 180 351.33 T
4 F
(GeodeGetCodeProcessHandle\050\051) 180 338.33 T
0 F
(, returns the handle of the geode that) 342.78 338.33 T
(owns the code block from which it was called.) 180 325.33 T
4 F
(ProcInfo\050\051) 180 305.33 T
0 F
( returns the thread handle of the \336rst thread of a given process.) 233.52 305.33 T
2 14 Q
(6.1.7.3) 119.19 271.67 T
(Managing Geode Event Queues) 180 271.67 T
5 10 Q
(GeodeAllocQueue\050\051, GeodeFreeQueue\050\051, GeodeInfoQueue\050\051,) 180 249.33 T
-3 (GeodeFlushQueue\050\051, ObjDispatchMessage\050\051, QueueGetMessage\050\051,) 180 236.33 P
(QueuePostMessage\050\051, GeodeDispatchFromQueue\050\051) 180 223.33 T
0 F
-0.79 (The following routines allocate and manage event queues. These routines are) 180 203.33 P
-0.3 (rarely called by applications as event queues are automatically managed for) 180 190.33 P
(each thread and application.) 180 177.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "260" 20
%%Page: "261" 21
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(261) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
4 10 Q
0 X
(GeodeAllocQueue\051) 180 641.33 T
0 F
( allocates an event queue and returns its handle.) 276.29 641.33 T
4 F
(GeodeInfoQueue\050\051) 180 628.33 T
0 F
( returns the number of events in a given event queue.) 275.17 628.33 T
4 F
(GeodeFreeQueue\050\051) 180 615.33 T
0 F
( frees an event queue allocated with the routine) 277.77 615.33 T
4 F
-0.17 (GeodeAllocQueue\050\051) 180 602.33 P
0 F
-0.17 (. It must be passed the handle of the queue to be freed) 280.18 602.33 P
(\050unhandled events still in the queue will be discarded\051.) 180 589.33 T
4 F
-0.14 (GeodeFlushQueue\050\051) 180 569.33 P
0 F
-0.14 ( \337ushes all events from one queue and synchronously) 283.32 569.33 P
(places them all in another queue \050events may not simply be tossed out\051.) 180 556.33 T
4 F
-0.53 (QueueGetMessage\050\051) 180 536.33 P
0 F
-0.51 ( combined with) 283.13 536.33 P
4 F
-0.53 (ObjDispatchMessage\050\051) 354.76 536.33 P
0 F
-0.51 ( removes the) 470.86 536.33 P
-0.13 (\336rst event from the given event queue and handles it via a callback routine.) 180 523.33 P
(A far pointer to the callback routine in memory must be passed. T) 180 510.33 T
(ypically) 483.78 510.33 T
(these will be used only by the assembly) 180 497.33 T
4 F
(ObjMessage\050\051) 364.49 497.33 T
0 F
( routine used by the) 434.11 497.33 T
(kernel; some other applications of this routine may be used, though. For) 180 484.33 T
(example, the sound driver uses a note queue unassociated with objects and) 180 471.33 T
-0.84 (messages. The callback routine therefore gets the \322event\323 \050note\051 and pretends) 180 458.33 P
(it\325) 180 445.33 T
(s handling a message.) 188.71 445.33 T
4 F
(QueuePostMessage\050\051) 180 425.33 T
0 F
( adds an event to the speci\336ed queue.) 287.76 425.33 T
2 14 Q
(6.1.8) 130.86 383 T
2 18 Q
(Geode Protocols and Release Levels) 180 383 T
0 10 Q
-0.51 (Every) 180 359.33 P
0 9 Q
-0.46 (GEOS) 209.67 359.33 P
0 10 Q
-0.51 ( geode and) 235.84 359.33 P
0 9 Q
-0.46 (VM) 286.17 359.33 P
0 10 Q
-0.51 ( \336le has both a release level and a protocol level as) 301.16 359.33 P
-0.13 (extended attributes of the \336le. These two items help ease the transitions for) 180 346.33 P
-0.69 (both programmer and user when changes are made to applications, libraries,) 180 333.33 P
(drivers, system software, etc. T) 180 320.33 T
(o control release and protocol numbers, use) 323.35 320.33 T
(the) 180 307.33 T
0 9 Q
(GREV) 197.78 307.33 T
0 10 Q
( tool and a) 224.28 307.33 T
0 9 Q
(REV) 275.41 307.33 T
0 10 Q
( \336le as described in \322Grev\323 on page 444 of \322Using) 294.9 307.33 T
(T) 180 294.33 T
(ools,\323 Chapter) 185.75 294.33 T
(10 of the T) 253.72 294.33 T
(ools Reference Manual.) 302.26 294.33 T
2 14 Q
(6.1.8.1) 119.19 260.67 T
(Release Numbers) 180 260.67 T
0 10 Q
(The release number is a) 180 238.33 T
4 F
(ReleaseNumber) 293.91 238.33 T
0 F
( structure which consists of four) 376.13 238.33 T
-0.7 (components: The) 180 225.33 P
3 9 Q
-0.63 (RN) 259.52 225.33 P
3 10 Q
-0.7 (_major) 273.53 225.33 P
0 F
-0.7 ( and) 305.75 225.33 P
3 9 Q
-0.63 (RN) 327.31 225.33 P
3 10 Q
-0.7 (_minor) 341.32 225.33 P
0 F
-0.7 ( numbers are the most signi\336cant.) 374.09 225.33 P
(The) 180 212.33 T
3 9 Q
(RN) 200.56 212.33 T
3 10 Q
(_change) 214.56 212.33 T
0 F
( and) 251.77 212.33 T
3 9 Q
(RN) 274.74 212.33 T
3 10 Q
(_engineering) 288.75 212.33 T
0 F
( numbers are less signi\336cant and are) 347.24 212.33 T
-0.45 (used primarily to indicate non-released or running upgrade types of changes) 180 199.33 P
-0.39 (to the geode. The) 180 186.33 P
4 F
-0.4 (ReleaseNumber) 260.12 186.33 P
0 F
-0.39 ( of a geode or) 342.34 186.33 P
0 9 Q
-0.35 (VM) 403.72 186.33 P
0 10 Q
-0.39 ( \336le is stored in the \336le\325) 418.72 186.33 P
-0.39 (s) 523.98 186.33 P
0 9 Q
(FEA_RELEASE) 180 173.33 T
0 10 Q
( extended attribute, and its structure is shown below:) 247.66 173.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "261" 21
%%Page: "262" 22
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(262) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
5 10 Q
0 X
(typedef struct {) 216 641.33 T
(word) 240 627.33 T
(RN_major;) 288 627.33 T
(word) 240 613.33 T
(RN_minor;) 288 613.33 T
(word) 240 599.33 T
(RN_change;) 288 599.33 T
(word) 240 585.33 T
(RN_engineering;) 288 585.33 T
(} ReleaseNumber;) 216 571.33 T
0 F
(The contents of the release number are up to the particular geode and are) 180 550.33 T
(product-speci\336c. Release numbers are not used by) 180 537.33 T
0 9 Q
(GEOS) 413.15 537.33 T
0 10 Q
( for compatibility) 439.32 537.33 T
(checking or any other validation of \336les, though they are used during) 180 524.33 T
(installation procedures.) 180 511.33 T
(T) 180 491.33 T
(o retrieve the release number of a given geode, use the routine) 185.75 491.33 T
4 F
(GeodeGetInfo\050\051) 180 478.33 T
0 F
(. Release levels should be set at compile time and are not) 259.99 478.33 T
(changeable at run-time.) 180 465.33 T
2 14 Q
(6.1.8.2) 119.19 431.67 T
(Protocol Numbers) 180 431.67 T
0 10 Q
(The protocol number is a structure of type) 180 409.33 T
4 F
(ProtocolNumber) 377.41 409.33 T
0 F
( stored in the) 464.08 409.33 T
-0.56 (\336le\325) 180 396.33 P
-0.56 (s) 195.93 396.33 P
0 9 Q
-0.5 (FEA_PROTOCOL) 202.79 396.33 P
0 10 Q
-0.56 ( extended attribute. Each) 278.3 396.33 P
0 9 Q
-0.5 (GEOS) 396.65 396.33 P
0 10 Q
-0.56 ( geode and data \336le has) 422.82 396.33 P
-0.5 (a protocol level associated with it. The protocol level is used for compatibility) 180 383.33 P
(checking for both geodes and documents.) 180 370.33 T
(The) 180 350.33 T
4 F
(ProtocolNumber) 200.56 350.33 T
0 F
( structure consists of two parts, the major protocol) 287.23 350.33 T
(and the minor protocol. This structure is shown below:) 180 337.33 T
5 F
(typedef struct {) 216 321.33 T
(word) 240 307.33 T
(PN_major;) 288 307.33 T
(word) 240 293.33 T
(PN_minor;) 288 293.33 T
(} ProtocolNumber;) 216 279.33 T
0 F
-0.18 (Differences in protocol levels indicate incompatibilities between two geodes,) 180 258.33 P
(between a geode and its document format, or between a geode and its state) 180 245.33 T
(\336le format. If the major protocols are different, the two items are not) 180 232.33 T
(compatible at all \050unless special provisions are made\051. If the minor protocol) 180 219.33 T
(is greater than expected, some incompatibility may exist but should not) 180 206.33 T
(affect the program. Y) 180 193.33 T
(ou should increment a geode\325) 277.04 193.33 T
(s or document\325) 410.38 193.33 T
(s protocol) 476.86 193.33 T
(whenever a change is made.) 180 180.33 T
-0.14 (If a change to a library is upward-compatible, only the minor protocol needs) 180 160.33 P
-0.09 (to be incremented. For example, if a library acquires a new function but the) 180 147.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "262" 22
%%Page: "263" 23
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Geodes) 506.65 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(263) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.1) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(library\325) 180 641.33 T
(s entry points are undisturbed, the minor protocol should be) 213.34 641.33 T
(incremented and the major protocol left as is. If the new function causes) 180 628.33 T
-0.4 (relocation of the entry point numbers, however) 180 615.33 P
-0.4 (, the major protocol must also) 393.55 615.33 P
(be incremented.) 180 602.33 T
-0.75 (An application\325) 180 582.33 P
-0.75 (s protocol must be increased whenever a change will affect the) 248.52 582.33 P
-0.31 (application\325) 180 569.33 P
-0.31 (s state \336les. If you make a change to an application, for example,) 233.16 569.33 P
-0.02 (and the user has old state \336les, either the changes in the application can be) 180 556.33 P
(replaced with the old information, or the state \336le will cause an) 180 543.33 T
-0.67 (incompatibility with unpredictable results. If the change to the application is) 180 530.33 P
-0.24 (simply functional, increment the minor protocol. If the change is to any part) 180 517.33 P
-0.62 (of a) 180 504.33 P
0 9 Q
-0.56 (UI) 198.2 504.33 P
0 10 Q
-0.62 ( resource or to any other item saved to a state \336le, increment the major) 209.2 504.33 P
-0.32 (protocol. State \336les will be loaded if minor protocols are different and will be) 180 491.33 P
(ignored if major protocols are different.) 180 478.33 T
-0.18 (If an application\325) 180 458.33 P
-0.18 (s document format changes, you should make sure the new) 257.43 458.33 P
(documents are not loaded by old applications or vice versa \050unless you take) 180 445.33 T
-0.75 (the necessary conversion steps\051. When opening a document, you can check its) 180 432.33 P
-0.5 (protocol by checking the document \336le\325) 180 419.33 P
-0.5 (s extended attribute) 355.63 419.33 P
0 9 Q
-0.45 (FEA_PROTOCOL) 450.43 419.33 P
0 10 Q
-0.5 (.) 525.94 419.33 P
(If the protocol level needs to be changed \050after conversions have been done,) 180 406.33 T
(of course\051, you can change them by setting) 180 393.33 T
0 9 Q
(FEA_PROTOCOL) 378.34 393.33 T
0 10 Q
(. \050See \322File) 453.85 393.33 T
(System,\323 Chapter) 180 380.33 T
(17.\051) 264.27 380.33 T
(A few examples of when minor and major protocols should be incremented) 180 360.33 T
(follow) 180 347.33 T
(. Keep in mind that this list is by no means exhaustive.) 206.49 347.33 T
1 F
(u) 180 327.33 T
0 F
(If you add a data structure to a document format and older versions of) 198 327.33 T
(the application will still be able to open the document, increment the) 198 315.33 T
(document\325) 198 303.33 T
(s minor protocol only) 244.85 303.33 T
(.) 340.59 303.33 T
1 F
(u) 180 284.33 T
0 F
-0.03 (If you change the instance data structure of an object that gets saved to) 198 284.33 P
-0.23 (the document, increment the major protocol, as the new methods will be) 198 272.33 P
(using the wrong offsets to access data in the old object.) 198 260.33 T
1 F
(u) 180 241.33 T
0 F
(If you add a new class to your application and don\325) 198 241.33 T
(t disturb any of the) 431 241.33 T
(other classes\325 entry points \050i.e. add the class at the end\051, increment the) 198 229.33 T
(minor protocol only) 198 217.33 T
(.) 286.33 217.33 T
1 F
(u) 180 198.33 T
0 F
(If you add a new class, disturbing entry points, increment the major) 198 198.33 T
(protocol.) 198 186.33 T
1 F
(u) 180 167.33 T
0 F
(If you add or delete a resource, increment the major protocol.) 198 167.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "263" 23
%%Page: "264" 24
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(264) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.1) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
1 10 Q
0 X
(u) 180 641.33 T
0 F
(If you add a chunk or object to a resource that gets saved to state \336les,) 198 641.33 T
(increment the major protocol.) 198 629.33 T
1 F
(u) 180 610.33 T
0 F
(If you change an object\325) 198 610.33 T
(s \337ags \050e.g. mark it ignore-dirty\051, increment the) 305.78 610.33 T
(major protocol. Otherwise, the \337ags will be restored from the state \336le) 198 598.33 T
(and will override the changes you made.) 198 586.33 T
2 14 Q
(6.1.9) 130.86 545 T
2 18 Q
(T) 180 545 T
(emporary Geode Memory) 189.67 545 T
5 10 Q
(GeodePrivAlloc\050\051, GeodePrivFree\050\051, GeodePrivWrite\050\051,) 180 521.33 T
(GeodePrivRead\050\051) 180 508.33 T
0 F
(Every geode in the system has a \322private data\323 area, a space set aside in its) 180 488.33 T
-0.05 (core block. This private data is used primarily by library geodes, when each) 180 475.33 P
(of the library\325) 180 462.33 T
(s clients uses its own copy of a particular data structure that) 242.23 462.33 T
-0.01 (gets manipulated by the library) 180 449.33 P
-0.01 (. The private data mechanism is used in the) 325.34 449.33 P
0 9 Q
(GEOS) 180 436.33 T
0 10 Q
( implementation of) 206.17 436.33 T
4 F
(malloc\050\051) 296.37 436.33 T
0 F
(, for example \050though you need not know) 338.6 436.33 T
(this to use) 180 423.33 T
4 F
(malloc\050\051) 230.75 423.33 T
0 F
(\051.) 272.98 423.33 T
(Private memory may be allocated, written to, read from, and freed by the) 180 403.33 T
(library) 180 390.33 T
(. The library does not have to allocate a block for each geode and) 210.56 390.33 T
(maintain its own handle table; the use of the) 180 377.33 T
4 F
(GeodePriv\311\050\051) 389.68 377.33 T
0 F
( routines) 462.64 377.33 T
(automatically manages this.) 180 364.33 T
4 F
(GeodePrivAlloc\050\051) 180 344.33 T
0 F
( reserves a given number of contiguous words for the) 269.26 344.33 T
-0.7 (library within the private data of all geodes in the system. The memory space) 180 331.33 P
(is reserved but is not actually allocated for a given geode until it is used) 180 318.33 T
(\050written to\051; this is done for optimization purposes. This routine will return) 180 305.33 T
(a tag pointing to where the reserved words begin. This tag is used when) 180 292.33 T
(reading, writing, or freeing the private data. If the memory could not be) 180 279.33 T
(allocated, the routine will return zero.) 180 266.33 T
4 F
(GeodePrivW) 180 246.33 T
(rite\050\051) 244.44 246.33 T
0 F
( and) 271.11 246.33 T
4 F
(GeodePrivRead\050\051) 294.08 246.33 T
0 F
( write to and read from the) 383.71 246.33 T
-0.44 (private data space. They take similar parameters: a geode handle, the tag as) 180 233.33 P
(returned by) 180 220.33 T
4 F
(GeodePrivAlloc\050\051) 237.22 220.33 T
0 F
(, the total number of words to be written or) 326.48 220.33 T
(read, and a pointer to a locked or \336xed buffer) 180 207.33 T
(. In) 387.24 207.33 T
4 F
(GeodePrivW) 405.76 207.33 T
(rite\050\051) 470.2 207.33 T
0 F
(, the) 496.87 207.33 T
(buffer will be passed containing the words to be written; in) 180 194.33 T
4 F
-0.72 (GeodePrivRead\050\051) 180 181.33 P
0 F
-0.7 (, the buffer will be passed empty and returned containing) 269.63 181.33 P
(the words read.) 180 168.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "264" 24
%%Page: "265" 25
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Creating Icons) 460.76 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(265) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.2) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.86 (T) 180 641.33 P
-0.86 (ypically) 186.15 641.33 P
-0.86 (, the geode handle passed will be zero; this indicates that the current) 220.97 641.33 P
(process \050which will be the library\325) 180 628.33 T
(s current client\051 will be the owner of the) 334.83 628.33 T
-0.78 (private data affected. Because the library code will be executing in the thread) 180 615.33 P
(of a given application, the application geode will be the only one having its) 180 602.33 T
-0.53 (private data affected. Thus, a library can use the same code to store different) 180 589.33 P
(data for each geode that uses it; neither the library nor the geode needs to) 180 576.33 T
(know that other geodes are also using the same routines.) 180 563.33 T
4 F
(GeodePrivFree\050\051) 180 543.33 T
0 F
( frees a given number of words from all geodes\325 private) 266.85 543.33 T
-0.11 (data. It needs to be passed only the number of words to be freed and the tag) 180 530.33 P
(as returned by) 180 517.33 T
4 F
(GeodePrivAlloc\050\051) 250.19 517.33 T
0 F
(.) 339.45 517.33 T
2 14 Q
(6.2) 142.54 465 T
2 24 Q
(Creating Icons) 180 465 T
0 10 Q
-0.19 (Every geode can have an icon associated with it. T) 180 439.33 P
-0.19 (ypically) 409.87 439.33 P
-0.19 (, only applications) 444.69 439.33 P
-0.46 (will have special icons; other geodes \050libraries and drivers\051 generally use one) 180 426.33 P
(of the system icons or the icon of the application they\325re primarily used by) 180 413.33 T
(.) 520.21 413.33 T
(An application\325) 180 393.33 T
(s icon is stored in two places: It is de\336ned and stored within) 249.27 393.33 T
(the application\325) 180 380.33 T
(s extended attributes in its.) 250.94 380.33 T
0 9 Q
(GEO) 378.37 380.33 T
0 10 Q
( \336le. It is also stored in a) 398.87 380.33 T
(database \336le maintained by the) 180 367.33 T
0 9 Q
(UI) 328.75 367.33 T
0 10 Q
(, called the) 339.75 367.33 T
3 F
(token database) 392.91 367.33 T
0 F
(.) 461.61 367.33 T
(The) 180 347.33 T
0 9 Q
(GEOS) 200.56 347.33 T
0 10 Q
( development kit includes an icon editor tool so you can easily) 226.73 347.33 T
(create icons of various color and resolution characteristics and install them) 180 334.33 T
(into your applications.) 180 321.33 T
2 14 Q
(6.2.1) 130.86 279 T
2 18 Q
(The T) 180 279 T
(oken Database) 226.67 279 T
5 10 Q
(TokenOpenLocalTokenDB\050\051, TokenCloseLocalTokenDB\050\051) 180 255.33 T
0 F
(The token database is stored in its own \336le. Each entry represents a single) 180 235.33 T
(icon or series of icons that can be used with any number of \336les. The token) 180 222.33 T
-0.62 (database \336le is managed by the) 180 209.33 P
0 9 Q
-0.56 (UI) 324.65 209.33 P
0 10 Q
-0.62 ( and the kernel; you should have no reason) 335.65 209.33 P
(to access its internals directly) 180 196.33 T
(, and most applications will never need to use) 316.49 196.33 T
(any of the token routines except to install their document icons.) 180 183.33 T
-0.56 (Some systems may have shared token database \336les; this is controlled by the) 180 163.33 P
0 9 Q
-0.21 (INI) 180 150.33 P
0 10 Q
-0.23 ( \336le key) 194.66 150.33 P
3 F
-0.23 (sharedT) 232.87 150.33 P
-0.23 (okenDatabase) 270.11 150.33 P
0 F
-0.23 ( in the) 334.18 150.33 P
3 F
-0.23 (paths) 366.08 150.33 P
0 F
-0.23 ( category) 391.64 150.33 P
-0.23 (. Most often a shared) 432.14 150.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "265" 25
%%Page: "266" 26
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(266) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.2) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.68 (database \336le exists on a network drive and may be supplemented with a local) 180 641.33 P
-0.17 (token database. By default, if a shared database \336le exists, it will be opened) 180 628.33 P
-0.25 (read-only in addition to the read/write local \336le. Y) 180 615.33 P
-0.25 (ou can open and close only) 407.48 615.33 P
(the local database \336le, however) 180 602.33 T
(, with the routines) 323.92 602.33 T
4 F
(T) 180 589.33 T
(okenOpenLocalT) 186.3 589.33 T
(okenDB\050\051) 274.08 589.33 T
0 F
( and) 323.34 589.33 T
4 F
(T) 346.31 589.33 T
(okenCloseLocalT) 352.61 589.33 T
(okenDB\050\051) 440.95 589.33 T
0 F
(.) 490.21 589.33 T
-0.07 (Every) 180 569.33 P
0 9 Q
-0.06 (GEOS) 210.11 569.33 P
0 10 Q
-0.07 ( \336le has a token. The token is an index into the token database.) 236.29 569.33 P
(When GeoManager scans a directory) 180 556.33 T
(, it grabs the token from each \336le and) 348.7 556.33 T
(searches through the token database \336le for it. If a match is found,) 180 543.33 T
-0.43 (GeoManager selects the proper icon and displays it; if no match is found or if) 180 530.33 P
-0.09 (the \336le\325) 180 517.33 P
-0.09 (s token is invalid, GeoManager will launch the application in engine) 213.62 517.33 P
(mode and request that it install its token in the database.) 180 504.33 T
(For non-) 180 484.33 T
0 9 Q
(GEOS) 219.44 484.33 T
0 10 Q
( \336les, GeoManager uses the three extension characters of the) 245.61 484.33 T
(\336le\325) 180 471.33 T
(s name as a pseudo-index. For each extension \050e.g.) 195.93 471.33 T
0 9 Q
(.COM) 431.33 471.33 T
0 10 Q
(,) 455.83 471.33 T
0 9 Q
(.EXE) 461.39 471.33 T
0 10 Q
(,) 483.22 471.33 T
0 9 Q
(.DOC) 488.78 471.33 T
0 10 Q
(,) 511.79 471.33 T
0 9 Q
(.BA) 180 458.33 T
(T) 195 458.33 T
0 10 Q
(, etc.\051, GeoManager uses a single icon. Which icon is used can be set in) 200.09 458.33 T
(the) 180 445.33 T
0 9 Q
(GEOS.INI) 197.78 445.33 T
0 10 Q
( \336le if a user wishes, but GeoManager will normally select the) 241.12 445.33 T
(default) 180 432.33 T
0 9 Q
(DOS) 215.56 432.33 T
0 10 Q
( icon \050of which there are two: one for executables and one for) 235.23 432.33 T
(non-executables\051.) 180 419.33 T
(The index into the token database consists of two parts and is of type) 180 399.33 T
4 F
(GeodeT) 180 386.33 T
(oken) 218.89 386.33 T
0 F
(. This structure contains four text characters as well as the) 244.26 386.33 T
(manufacturer) 180 373.33 T
0 9 Q
(ID) 246.66 373.33 T
0 10 Q
( number of the geode\325) 257.33 373.33 T
(s manufacturer) 355.67 373.33 T
(. The structure\325) 426.21 373.33 T
(s) 496.95 373.33 T
(de\336nition is shown below:) 180 360.33 T
5 F
(typedef struct {) 216 344.33 T
(TokenChars) 240 330.33 T
(GT_chars;) 360 330.33 T
(ManufacturerID) 240 316.33 T
(GT_manufID;) 360 316.33 T
(} GeodeToken;) 216 302.33 T
(typedef char TokenChars[TOKEN_CHARS_LENGTH];) 216 285.33 T
0 F
(This structure is created and \336lled automatically in the geode\325) 180 264.33 T
(s) 466.7 264.33 T
4 F
(.geo) 474.11 264.33 T
0 F
( \336le) 494.85 264.33 T
(header by the Glue linker) 180 251.33 T
(, which takes the values from the geode\325) 297.98 251.33 T
(s geode) 482.08 251.33 T
-0.36 (parameters \050) 180 238.33 P
4 F
-0.37 (.gp) 238.9 238.33 P
0 F
-0.36 (\051 \336le. The two \336elds used from the) 254.46 238.33 P
4 F
-0.37 ( .gp) 409 238.33 P
0 F
-0.36 ( \336le are) 427.06 238.33 P
3 F
-0.36 (tokenchars) 463.59 238.33 P
0 F
-0.36 ( for) 513.39 238.33 P
(the four characters and) 180 225.33 T
3 F
(tokenid) 290.92 225.33 T
0 F
( for the manufacturer) 324.99 225.33 T
0 9 Q
(ID) 427.76 225.33 T
0 10 Q
(.) 438.42 225.33 T
-0.77 (A) 180 205.33 P
4 F
-0.79 (GeodeT) 189.23 205.33 P
-0.79 (oken) 228.12 205.33 P
0 F
-0.77 ( structure in the token database \336le can also be \336lled in when) 253.49 205.33 P
-0.74 (GeoManager scans a directory) 180 192.33 P
-0.74 (. If the header of a particular application\325) 316.68 192.33 P
-0.74 (s) 501.54 192.33 P
4 F
-0.76 (.geo) 508.22 192.33 P
0 F
(\336le does not have a recognized token, GeoManager will launch the) 180 179.33 T
(application in \322engine\323 mode, loading its GenApplication object. It will) 180 166.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "266" 26
%%Page: "267" 27
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Creating Icons) 460.76 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(267) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.2) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(request that the application object then install its icon into the token) 180 641.33 T
(database \336le \050) 180 628.33 T
4 F
(GenApplicationClass) 244.65 628.33 T
0 F
( knows how to do this\051.) 353.72 628.33 T
(The token database \336le contains one entry for each token that has been) 180 608.33 T
(installed. Each time a new token and icon is encountered, a new entry is) 180 595.33 T
(added by the) 180 582.33 T
0 9 Q
(UI) 242.05 582.33 T
0 10 Q
(. This happens automatically when GeoManager scans a) 253.05 582.33 T
(directory) 180 569.33 T
(.) 220.36 569.33 T
2 14 Q
(6.2.2) 130.86 527 T
2 18 Q
(Managing the T) 180 527 T
(oken Database File) 310.68 527 T
5 10 Q
(TokenDef) 180 503.33 T
(ineToken\050\051, TokenGetTokenInfo\050\051,) 228 503.33 T
(TokenLookupMoniker\050\051, TokenLoadMonikerBlock\050\051,) 180 490.33 T
(TokenLoadMonikerChunk\050\051, TokenLoadMonikerBuffer\050\051,) 180 477.33 T
(TokenRemoveToken\050\051, TokenLoadTokenBlock\050\051,) 180 464.33 T
(TokenLoadTokenChunk\050\051, TokenLoadTokenBuffer\050\051,) 180 451.33 T
(TokenLockTokenMoniker\050\051, TokenUnlockTokenMoniker\050\051,) 180 438.33 T
(TokenGetTokenStats\050\051, TokenListTokens\050\051) 180 425.33 T
0 F
(In nearly all cases, you will create your application\325) 180 405.33 T
(s icon with the icon tool) 417.07 405.33 T
(and not worry about it again. However) 180 392.33 T
(, the following routines allow you to) 357.99 392.33 T
(add, change, access, and remove entries from the token database.) 180 379.33 T
4 F
(T) 180 359.33 T
(okenLoadT) 186.3 359.33 T
(okenBlock\050\051) 244.08 359.33 T
0 F
(,) 306.87 359.33 T
4 F
(T) 312.43 359.33 T
(okenLoadT) 318.73 359.33 T
(okenChunk\050\051) 376.51 359.33 T
0 F
(, and) 444.66 359.33 T
4 F
(T) 180 346.33 T
(okenLoadT) 186.3 346.33 T
(okenBuffer\050\051) 244.08 346.33 T
0 F
( load a) 310.57 346.33 T
4 F
(T) 343.92 346.33 T
(okenEntry) 350.22 346.33 T
0 F
( structure into memory \050a) 405.59 346.33 T
(newly allocated block, a newly allocated chunk, or a locked buffer\051. The) 180 333.33 T
4 F
(T) 180 320.33 T
(okenEntry) 186.3 320.33 T
0 F
( structure contains information about the token, the geode\325) 241.67 320.33 T
(s) 512.99 320.33 T
(release number) 180 307.33 T
(, and the geode\325) 250.93 307.33 T
(s protocol number) 322.24 307.33 T
(. This structure does not) 404.46 307.33 T
(actually contain the monikers used for the icon.) 180 294.33 T
4 F
(T) 180 274.33 T
(okenLookupMoniker\050\051) 186.3 274.33 T
0 F
( gets the speci\336c moniker of a token entry given) 303.15 274.33 T
(the display type \050) 180 261.33 T
0 9 Q
(CGA) 260.01 261.33 T
0 10 Q
(,) 280.01 261.33 T
0 9 Q
(EGA) 285.57 261.33 T
0 10 Q
(,) 305.57 261.33 T
0 9 Q
(VGA) 311.13 261.33 T
0 10 Q
(, etc.\051, the entry\325) 331.12 261.33 T
(s) 405.94 261.33 T
4 F
(GeodeT) 413.35 261.33 T
(oken) 452.24 261.33 T
0 F
( structure,) 477.61 261.33 T
-0.68 (and search \337ags. If the moniker is found, the entry identi\336er \050database group) 180 248.33 P
(and) 180 235.33 T
0 9 Q
(ID) 200.19 235.33 T
0 10 Q
( numbers\051 of the moniker are returned. Y) 210.85 235.33 T
(ou can use these return) 400.67 235.33 T
(values to lock the moniker into memory \050see below\051.) 180 222.33 T
4 F
(T) 180 202.33 T
(okenLockT) 186.3 202.33 T
(okenMoniker\050\051) 243.53 202.33 T
0 F
( locks a moniker into memory given its entry) 320.75 202.33 T
(identi\336er) 180 189.33 T
(. This routine returns a pointer to a locked block and the chunk) 221.85 189.33 T
-0.69 (handle of the chunk containing the locked moniker) 180 176.33 P
-0.69 (. A moniker should always) 409.25 176.33 P
-0.15 (be locked before it is drawn; this keeps it from moving in memory while it is) 180 163.33 P
(being accessed. The routine) 180 150.33 T
4 F
(T) 310.01 150.33 T
(okenUnlockT) 316.31 150.33 T
(okenMoniker\050\051) 385.02 150.33 T
0 F
( unlocks a) 462.24 150.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "267" 27
%%Page: "268" 28
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(268) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.2) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.09 (previously locked moniker when given the moniker) 180 641.33 P
-0.09 (\325) 415.96 641.33 P
-0.09 (s segment address. This) 417.63 641.33 P
(unlocks the entire block, not just the individual moniker) 180 628.33 T
(.) 439.66 628.33 T
4 F
(T) 180 608.33 T
(okenLoadMonikerBlock\050\051) 186.3 608.33 T
0 F
(,) 319.27 608.33 T
4 F
(T) 324.83 608.33 T
(okenLoadMonikerChunk\050\051) 331.13 608.33 T
0 F
(, and) 469.46 608.33 T
4 F
-0.74 (T) 180 595.33 P
-0.74 (okenLoadMonikerBuffer\050\051) 186.3 595.33 P
0 F
-0.71 ( load a speci\336c moniker into memory from the) 322.97 595.33 P
-0.38 (token database \336le \050into a newly allocated block, a newly allocated chunk, or) 180 582.33 P
-0.4 (a locked buffer\051. It takes the same parameters as) 180 569.33 P
4 F
-0.42 (T) 405.47 569.33 P
-0.42 (okenLookupMoniker\050\051) 411.77 569.33 P
0 F
-0.51 (but returns the handle and chunk handle of the loaded moniker) 180 556.33 P
-0.51 (. If using this) 468.6 556.33 P
(routine, simply lock the memory block rather than using) 180 543.33 T
4 F
(T) 180 530.33 T
(okenLockT) 186.3 530.33 T
(okenMoniker\050\051) 243.53 530.33 T
0 F
(.) 320.75 530.33 T
4 F
(T) 180 510.33 T
(okenGetT) 186.3 510.33 T
(okenInfo\050\051) 236.3 510.33 T
0 F
( \336nds a token when passed its) 290.74 510.33 T
3 F
(tokenchars) 432.25 510.33 T
0 F
( and) 482.05 510.33 T
3 F
(tokenid) 180 497.33 T
0 F
( and returns the token\325) 214.07 497.33 T
(s \337ags. If no token exists with the passed) 319.82 497.33 T
(characteristics, it will return an error \337ag.) 180 484.33 T
4 F
(T) 180 464.33 T
(okenDe\336neT) 186.3 464.33 T
(oken\050\051) 251.48 464.33 T
0 F
( adds a new token and its moniker list to the token) 284.63 464.33 T
(database. If the given token already exists, the new one will replace the old) 180 451.33 T
(one. The token identi\336er \050) 180 438.33 T
3 F
(tokenchars) 299.64 438.33 T
0 F
(,) 349.44 438.33 T
3 F
(tokenid) 355 438.33 T
0 F
(\051, handle and chunk handle of) 389.07 438.33 T
(the moniker list, and \337ags of the new token must be passed.) 180 425.33 T
4 F
-0.57 (T) 180 405.33 P
-0.57 (okenRemoveT) 186.3 405.33 P
-0.57 (oken\050\051) 259.45 405.33 P
0 F
-0.55 ( removes a given token and its moniker list from the) 292.6 405.33 P
(token database \336le. It returns only a \337ag indicating whether the token was) 180 392.33 T
(successfully removed or not.) 180 379.33 T
4 F
-0.04 (T) 180 359.33 P
-0.04 (okenListT) 186.3 359.33 P
-0.04 (okens\050\051) 238.15 359.33 P
0 F
-0.04 ( returns a list of the tokens in the token database. It is) 276.3 359.33 P
(passed three arguments:) 180 346.33 T
1 F
(u) 180 326.33 T
0 F
(A set of) 198 326.33 T
4 F
(T) 235.41 326.33 T
(okenRangeFlags) 241.71 326.33 T
0 F
(, which speci\336es which tokens should be) 328 326.33 T
(returned. The following \337ags are available:) 198 314.33 T
0 9 Q
(TRF_ONL) 180 295.33 T
(Y_GSTRING) 222.52 295.33 T
0 10 Q
(Return only those tokens which are de\336ned with a GString.) 243 283.33 T
0 9 Q
(TRF_ONL) 180 264.33 T
(Y_P) 222.52 264.33 T
(ASSED_MANUFID) 238.69 264.33 T
0 10 Q
(Return only those tokens which match the passed) 243 252.33 T
(manufacturer) 243 240.33 T
(\325) 307.43 240.33 T
(s) 309.1 240.33 T
0 9 Q
(ID) 316.51 240.33 T
0 10 Q
(.) 327.17 240.33 T
1 F
(u) 180 221.33 T
0 F
(A number of bytes to reserve for a header) 198 221.33 T
(.) 388.56 221.33 T
1 F
(u) 180 202.33 T
0 F
-0.78 (A manufacturer) 198 202.33 P
0 9 Q
-0.7 (ID) 273.09 202.33 P
0 10 Q
-0.78 (. This \336eld is ignored if) 283.76 202.33 P
0 9 Q
-0.7 (TRF_ONL) 388.14 202.33 P
-0.7 (Y_P) 430.66 202.33 P
-0.7 (ASSED_MANUFID) 446.83 202.33 P
0 10 Q
(was not passed.) 198 190.33 T
4 F
(T) 180 171.33 T
(okenListT) 186.3 171.33 T
(okens\050\051) 238.15 171.33 T
0 F
( allocates a global memory block and copies all the) 276.3 171.33 T
(speci\336ed tokens into that block. It leaves a blank space at the beginning of) 180 158.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "268" 28
%%Page: "269" 29
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Saving User Options) 420.3 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(269) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.3) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.33 (the block; this space is the size speci\336ed by the second argument. The rest of) 180 641.33 P
(the block is an array of) 180 628.33 T
4 F
(GeodeT) 288.91 628.33 T
(oken) 327.8 628.33 T
0 F
( structures.) 353.17 628.33 T
4 F
(T) 409.09 628.33 T
(okenListT) 415.39 628.33 T
(okens\050\051) 467.24 628.33 T
0 F
(returns a dword. The lower word of the return value is the handle of the) 180 615.33 T
(global memory block; the upper word is the number of) 180 602.33 T
4 F
(GeodeT) 432.25 602.33 T
(oken) 471.14 602.33 T
0 F
(structures in that block.) 180 589.33 T
2 14 Q
(6.3) 142.54 537 T
2 24 Q
(Saving User Options) 180 537 T
0 10 Q
-0.6 (Almost all users enjoy con\336guring their systems to their own tastes, whether) 180 511.33 P
(it\325) 180 498.33 T
(s setting the background bitmap or choosing a default font. Most) 188.71 498.33 T
-0.31 (applications will, therefore, want to provide a way for the user to choose and) 180 485.33 P
(save various options for the application.) 180 472.33 T
(Generic objects have this capability built in. If you set them up for saving) 180 452.33 T
-0.29 (options, they will automatically set and maintain the saved options, making) 180 439.33 P
(sure the options are set properly whenever the application is launched.) 180 426.33 T
-0.22 (However) 180 413.33 P
-0.22 (, sometimes you will want to set additional options not managed by) 220.18 413.33 P
0 9 Q
-0.04 (UI) 180 400.33 P
0 10 Q
-0.04 ( objects. This is not dif\336cult to do in) 191 400.33 P
0 9 Q
-0.04 (GEOS) 358.03 400.33 P
0 10 Q
-0.04 (: Y) 384.2 400.33 P
-0.04 (ou can have your application) 395.65 400.33 P
(save its options directly to the local initialization \336le,) 180 387.33 T
0 9 Q
(GEOS.INI) 428.01 387.33 T
0 10 Q
(.) 471.35 387.33 T
2 14 Q
(6.3.1) 130.86 345 T
2 18 Q
(Saving Generic Object Options) 180 345 T
0 10 Q
-0.02 (All appropriate generic) 180 321.33 P
0 9 Q
-0.02 (UI) 289.58 321.33 P
0 10 Q
-0.02 ( objects have the ability to save their options. For) 300.58 321.33 P
(example, a properties GenInteraction could save which of its options are on) 180 308.33 T
(and which are off when the user presses a \322save options\323 trigger) 180 295.33 T
(.) 474.83 295.33 T
(T) 180 275.33 T
(o save generic object options, you have to do two basic things:) 185.75 275.33 T
1 F
(u) 180 255.33 T
0 F
(Create an Options menu) 198 255.33 T
(T) 198 243.33 T
(ypically) 204.15 243.33 T
(, you will create a menu for user options. This menu should be) 238.97 243.33 T
(declared of type) 198 231.33 T
0 9 Q
(GIGT_OPTIONS_MENU) 273.74 231.33 T
0 10 Q
( as shown in Code Display) 378.75 231.33 T
(6-) 502.85 231.33 T
(2.) 511.74 231.33 T
1 F
(u) 180 212.33 T
0 F
(Use a special) 198 212.33 T
0 9 Q
(GCN) 261.35 212.33 T
0 10 Q
( list) 282.18 212.33 T
-0.48 (All objects that want to save options must be put on a special GCN list in) 198 200.33 P
(the application\325) 198 188.33 T
(s GenApplication object. The list type should be either) 268.94 188.33 T
0 9 Q
-0.06 (GAGCNL) 198 176.33 P
-0.06 (T_ST) 237.84 176.33 P
-0.06 (ARTUP_LOAD_OPTIONS) 259.52 176.33 P
0 10 Q
-0.07 ( \050if the options should be loaded at) 370.04 176.33 P
(the time of application startup\051 or) 198 164.33 T
0 9 Q
(GAGCNL) 357.46 164.33 T
(T_SELF_LOAD_OPTIONS) 397.3 164.33 T
0 10 Q
( \050if) 510.16 164.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "269" 29
%%Page: "270" 30
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(270) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.3) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.85 (the options should be loaded when the object deems it necessary) 198 641.33 P
-0.85 (, typically) 484.54 641.33 P
(when the object is \336rst displayed\051.) 198 629.33 T
(Code Display) 180 610.33 T
(6-) 243.9 610.33 T
(2 shows an example of how objects should be declared for) 252.79 610.33 T
(saving their options.) 180 597.33 T
81 564.98 531 577 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 564.98 531 577 R
7 X
0 0 0 1 0 0 0 K
V
76.5 572.23 617.5 575.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 10 Q
0 X
0 0 0 1 0 0 0 K
(Code Display) 81 558.31 T
(6-) 147.13 558.31 T
(2 Saving Generic Object Options) 156.02 558.31 T
5 9 Q
(/* The GenApplication object must declare a GCN list of the type appropriate for) 81 543.98 T
( * the options being saved \050or both types if the application uses both types\051.) 81 532.98 T
( * This GenApplication declares a list of objects whose options do not have to be) 81 521.98 T
( * loaded at startup. */) 81 510.98 T
(@object GenApplicationClass SampleApp = {) 81 492.98 T
(GI_visMoniker = \322Sample Application\323;) 102.6 481.98 T
(GI_comp = SamplePrimary;) 102.6 470.98 T
(/* Primary window object is the only child. */) 256.5 470.98 T
(gcnList\050MANUFACTURER_ID_GEOWORKS, GAGCNLT_WINDOWS\051 = SamplePrimary;) 102.6 459.98 T
(/* The above list is to declare windowed objects that must appear) 168.98 448.98 T
( * when the application is opened and made usable. */) 168.98 437.98 T
(gcnList\050MANUFACTURER_ID_GEOWORKS, GAGCNLT_SELF_LOAD_OPTIONS\051 =) 102.6 426.98 T
(SampleController;) 301 415.98 T
(/* The above list is used for generic objects that save their) 168.98 404.98 T
( * options but do not need their options loaded at startup. */) 168.98 393.98 T
(}) 81 382.98 T
(/* Some applications that have generic objects save their own options might not) 81 364.98 T
( * have a special Options menu but may just have a trigger somewhere for saving) 81 353.98 T
( * options. In any case, the \322save options\323 trigger sends MSG_META_SAVE_OPTIONS to) 81 342.98 T
( * its GenApplication object. If you use an Options menu with GIGT_OPTIONS_MENU) 81 331.98 T
( * set, this will automatically be built into the menu.) 81 320.98 T
( * The SampleOptionsMenu is a child of SamplePrimary, not shown. */) 81 309.98 T
(@object GenInteractionClass SampleOptionsMenu = {) 81 291.98 T
(GI_comp = SampleToolbox, SampleToolControl, SampleSaveOptsTrigger;) 102.6 280.98 T
(GII_visibility = GIV_POPUP;) 102.6 269.98 T
(/* Make it a menu. */) 301 269.98 T
(ATTR_GEN_INTERACTION_GROUP_TYPE = \050GIGT_OPTIONS_MENU\051;) 102.6 258.98 T
(}) 81 247.98 T
(/* The other objects \050controllers\051 are not shown here. Just the \322save options\323) 81 229.98 T
( * trigger, which sends MSG_META_SAVE_OPTIONS to the GenApplication object. */) 81 218.98 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "270" 30
%%Page: "271" 31
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Saving User Options) 420.3 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(271) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.3) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
5 9 Q
0 X
(@object GenTriggerClass SampleSaveOptsTrigger = {) 81 642 T
(GI_visMoniker = \324S\325, \322Save Options\323;) 102.6 631 T
(GTI_destination = SampleApp;) 102.6 620 T
(GTI_actionMsg = MSG_META_SAVE_OPTIONS;) 102.6 609 T
(}) 81 598 T
81 573.98 531 586 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 573.98 531 586 R
7 X
0 0 0 1 0 0 0 K
V
76.5 581.23 617.5 584.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 14 Q
0 X
0 0 0 1 0 0 0 K
(6.3.2) 130.86 533.98 T
2 18 Q
(The GEOS.INI File) 180 533.98 T
0 9 Q
-0.35 (GEOS) 180 510.31 P
0 10 Q
-0.39 ( can use multiple initialization \336les in network situations, but only the) 206.17 510.31 P
(local) 180 497.31 T
0 9 Q
(GEOS.INI) 204.08 497.31 T
0 10 Q
( is editable. The local) 247.41 497.31 T
0 9 Q
(GEOS.INI) 348.01 497.31 T
0 10 Q
( \050referred to hereafter simply) 391.34 497.31 T
-0.15 (as) 180 484.31 P
0 9 Q
-0.13 (GEOS.INI) 192.82 484.31 P
0 10 Q
-0.15 ( or \322the) 236.16 484.31 P
0 9 Q
-0.13 (INI) 272.39 484.31 P
0 10 Q
-0.15 ( \336le\323\051 is read \336rst into a moveable, swappable buffer) 287.05 484.31 P
-0.15 (,) 525.59 484.31 P
-0.59 (and it contains the path names of any other) 180 471.31 P
0 9 Q
-0.53 (INI) 379.34 471.31 P
0 10 Q
-0.59 ( \336les to be used. The other) 394 471.31 P
0 9 Q
-0.53 (INI) 514.15 471.31 P
0 10 Q
-0.8 (\336les are subsequently loaded into other buffers. When the kernel searches for) 180 458.31 P
-0.53 (a speci\336c entry in one of the) 180 445.31 P
0 9 Q
-0.47 (INI) 308.36 445.31 P
0 10 Q
-0.53 ( \336les, it looks \336rst in the local) 323.02 445.31 P
0 9 Q
-0.47 (INI) 458.1 445.31 P
0 10 Q
-0.53 (\325) 472.76 445.31 P
-0.53 (s buffer and) 474.43 445.31 P
(then in any others in the order they were loaded. When it reaches what it) 180 432.31 T
(wants, it stops searching. Thus, multiple entries are allowed but are not) 180 419.31 T
(used, and the local) 180 406.31 T
0 9 Q
(INI) 269.09 406.31 T
0 10 Q
( \336le has precedence over all others.) 283.75 406.31 T
2 14 Q
(6.3.2.1) 119.19 372.64 T
(Con\336guration of the INI File) 180 372.64 T
0 10 Q
-0.33 (The) 180 350.31 P
0 9 Q
-0.29 (GEOS.INI) 200.23 350.31 P
0 10 Q
-0.33 ( \336le has a very speci\336c format and syntax. It is segmented into) 243.57 350.31 P
3 F
-0.65 (categories) 180 337.31 P
0 F
-0.65 (, each of which contains several) 225.16 337.31 P
3 F
-0.65 (keys) 369.8 337.31 P
0 F
-0.65 ( that determine how) 389.24 337.31 P
0 9 Q
-0.58 (GEOS) 483.33 337.31 P
0 10 Q
-0.65 ( will) 509.51 337.31 P
(perform. \050For an example of an) 180 324.31 T
0 9 Q
(INI) 326.12 324.31 T
0 10 Q
( \336le, see Code Display) 340.78 324.31 T
(6-) 444.69 324.31 T
(3.\051 Note that) 453.58 324.31 T
-0.4 (typically the) 180 311.31 P
0 9 Q
-0.36 (GEOS.INI) 239.58 311.31 P
0 10 Q
-0.4 ( \336le should not be accessed directly because its format) 282.92 311.31 P
(is subject to change.) 180 298.31 T
-0.42 (A category is essentially a group of keys. Certain geodes will work with their) 180 278.31 P
(own categories, and certain categories will be used by several geodes. For) 180 265.31 T
(example, the) 180 252.31 T
3 F
(system) 242.05 252.31 T
0 F
( category is used by the kernel and the) 272.78 252.31 T
0 9 Q
(UI) 454.1 252.31 T
0 10 Q
( to determine) 465.1 252.31 T
(several of the default system settings. Each category is set in) 180 239.31 T
0 9 Q
(GEOS.INI) 464.66 239.31 T
0 10 Q
( by) 507.99 239.31 T
(putting its name within square brackets. The text within the brackets is) 180 226.31 T
-0.83 (case-insensitive and ignores white space, so [My category], [mycategory], and) 180 213.31 P
([) 180 200.31 T
0 9 Q
(MY CA) 183.33 200.31 T
(TEGOR) 213.16 200.31 T
(Y) 245.84 200.31 T
0 10 Q
(] are all equivalent.) 252.17 200.31 T
(A key is any setting that the system or an application can recognize and) 180 180.31 T
-0.54 (assign a value to. A single key may exist in several different categories; since) 180 167.31 P
-0.5 (both category and key de\336ne an entry) 180 154.31 P
-0.5 (, the entries will be unique if either key) 350.32 154.31 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "271" 31
%%Page: "272" 32
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(272) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.3) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.77 (or category is different. Keys may be text strings, integers, or Boolean values,) 180 641.33 P
(and every key is identi\336ed by its name, which is an) 180 628.33 T
0 9 Q
(ASCII) 419.12 628.33 T
0 10 Q
( string. Data may) 445.11 628.33 T
(also be read from and written to the \336le in binary form; the kernel will) 180 615.33 T
-0.63 (automatically convert this into) 180 602.33 P
0 9 Q
-0.56 (ASCII) 322.52 602.33 P
0 10 Q
-0.63 ( hexadecimal for storage and will revert) 348.51 602.33 P
(it to binary during retrieval.) 180 589.33 T
-0.75 (Both category names and key \336elds are called \322entries.\323 Each entry may exist) 180 569.33 P
(on a single line or may cover several lines. An entry that contains carriage) 180 556.33 T
(returns is technically known as a \322blob.\323 Each blob will automatically be) 180 543.33 T
(enclosed in curly braces when it is written into the \336le. Any blob that) 180 530.33 T
-0.83 (contains curly braces will automatically have backslashes inserted before the) 180 517.33 P
(closing braces so) 180 504.33 T
0 9 Q
(GEOS) 259.45 504.33 T
0 10 Q
( doesn\325) 285.62 504.33 T
(t mistake them for the blob delimiters.) 316.74 504.33 T
(Comments may be added to the) 180 484.33 T
0 9 Q
(INI) 328.36 484.33 T
0 10 Q
( \336le by putting a semicolon at the) 343.02 484.33 T
-0.16 (beginning of the line. The \336le has several standard categories and keys that) 180 471.33 P
-0.59 (can be set within them. These are detailed in \322The INI File,\323 Chapter) 180 458.33 P
-0.59 (9 of the) 495.55 458.33 P
(T) 180 445.33 T
(ools Reference Manual.) 185.75 445.33 T
81 412.98 531 425 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 412.98 531 425 R
7 X
0 0 0 1 0 0 0 K
V
76.5 420.23 617.5 423.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 10 Q
0 X
0 0 0 1 0 0 0 K
(Code Display) 81 406.31 T
(6-) 147.13 406.31 T
(3 Example GEOS.INI File Entries) 156.02 406.31 T
5 9 Q
(; The category \322system\323 is used by the kernel and the UI to set certain system) 81 391.98 T
(; defaults such as the number of handles, the default system font and size, and) 81 380.98 T
(; the types of memory drivers to be loaded.) 81 369.98 T
([system]) 81 351.98 T
(; The handles key is assigned an integer that determines the number of handle) 81 333.98 T
(; spaces allocated for the system\325s Handle Table.) 81 322.98 T
(handles = 2500) 81 311.98 T
(; The font key is assigned a character string that represents a file name) 81 293.98 T
(; or a list of file names separated by spaces.) 81 282.98 T
(; The listed file\050s\051 will be read in as the font driver geode.) 81 271.98 T
(font = nimbus.geo) 81 260.98 T
(; The memory key is assigned a blob of text containing all the names of the memory) 81 242.98 T
(; drivers available to the system.) 81 231.98 T
(memory = {) 81 220.98 T
(disk.geo) 81 209.98 T
(emm.geo) 81 198.98 T
(xms.geo) 81 187.98 T
(}) 81 176.98 T
(; The category \322My App\325s Category\323 is set for example only. It is used by the MyApp) 81 158.98 T
(; application.) 81 147.98 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "272" 32
%%Page: "273" 33
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Saving User Options) 420.3 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(273) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.3) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
5 9 Q
0 X
([My App\325s Category]) 81 642 T
(; The myappHiScore key is an integer key set by the MyApp application.) 81 624 T
(myappHiScore = 52) 81 613 T
(; The myappBoolean key is a Boolean value. Booleans are case-insensitive, so True,) 81 595 T
(; true, and TRUE are all equated to \322true\323. This is actually a Boolean value and) 81 584 T
(; is translated by the read and write routines that work with Boolean values.) 81 573 T
(myappBoolean = true) 81 562 T
(; The myappHiName is a text string that, in this case, contains carriage returns,) 81 544 T
(; backslash characters, and curly brace characters. The original text looked like) 81 533 T
(; this:) 81 522 T
(;) 81 511 T
(this is a multi-line) 168.98 511 T
(;) 81 500 T
(blob of text with curly) 168.98 500 T
(;) 81 489 T
(brace \050{,}\051 characters }} in it) 168.98 489 T
(; It is automatically given backslashes in front of the closing braces, and it) 81 478 T
(; is automatically surrounded with curly braces.) 81 467 T
(myappHiName = {this is a multi-line) 81 456 T
(blob of text with curly) 81 445 T
(brace \050{,\134}\051 characters \134}\134} in it}) 81 434 T
81 409.98 531 422 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 409.98 531 422 R
7 X
0 0 0 1 0 0 0 K
V
76.5 417.23 617.5 420.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 14 Q
0 X
0 0 0 1 0 0 0 K
(6.3.2.2) 119.19 378.64 T
(Managing the INI File) 180 378.64 T
5 10 Q
(InitFileSave\050\051, InitFileRevert\050\051,) 180 356.31 T
(InitFileGetTimeLastModif) 180 343.31 T
(ied\050\051, InitFileCommit\050\051) 324 343.31 T
0 F
-0.37 (Because the) 180 323.31 P
0 9 Q
-0.33 (INI) 237.78 323.31 P
0 10 Q
-0.37 ( \336le is common to all geodes and to all threads in the system,) 252.44 323.31 P
(only one thread at a time may access it. This synchronization is handled by) 180 310.31 T
(the kernel whenever a routine to read from or write to the) 180 297.31 T
0 9 Q
(INI) 450.94 297.31 T
0 10 Q
( \336le is used.) 465.6 297.31 T
-0.11 (Additionally) 180 284.31 P
-0.11 (, the) 236.12 284.31 P
0 9 Q
-0.1 (INI) 259.24 284.31 P
0 10 Q
-0.11 ( \336le is loaded into a buffer when the system is \336rst run;) 273.9 284.31 P
-0.35 (all operations on the) 180 271.31 P
0 9 Q
-0.31 (INI) 276.23 271.31 P
0 10 Q
-0.35 ( \336le actually work on this buffer) 290.89 271.31 P
-0.35 (, and the buffer may) 436.05 271.31 P
(be \337ushed to disk only by the kernel.) 180 258.31 T
-0.75 (There are, however) 180 238.31 P
-0.75 (, four routines that work directly on the) 267.01 238.31 P
0 9 Q
-0.68 (INI) 447.11 238.31 P
0 10 Q
-0.75 ( \336le. One saves) 461.77 238.31 P
(the \336le, another reverts it from the last save, the third checks the time the) 180 225.31 T
(\336le was last modi\336ed, and the fourth commits any pending) 180 212.31 T
0 9 Q
(INI) 454.11 212.31 T
0 10 Q
( \336le changes) 468.77 212.31 T
(to disk.) 180 199.31 T
(T) 180 179.31 T
(o save the local) 185.75 179.31 T
0 9 Q
(GEOS.INI) 258.73 179.31 T
0 10 Q
(, use the routine) 302.07 179.31 T
4 F
(InitFileSave\050\051) 380.4 179.31 T
0 F
(; this saves the) 452.24 179.31 T
(changes to the backup \336le. It requires no parameters and returns an error) 180 166.31 T
-0.37 (\337ag if the \336le could not be saved.) 180 153.31 P
4 F
-0.38 (InitFileRevert\050\051) 331.17 153.31 P
0 F
-0.37 ( reverts the) 413.57 153.31 P
0 9 Q
-0.33 (GEOS.INI) 468.58 153.31 P
0 10 Q
-0.37 ( \336le) 511.91 153.31 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "273" 33
%%Page: "274" 34
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(274) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.3) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.37 (to its state the last time it was backed up. This routine takes no parameters,) 180 641.33 P
(and it returns an error \337ag if the revert can not be accomplished.) 180 628.33 T
4 F
-0.88 (InitFileGetT) 180 608.33 P
-0.88 (imeLastModi\336ed\050\051) 244.73 608.33 P
0 F
-0.85 ( returns the system counter) 339.72 608.33 P
-0.85 (\325) 465.02 608.33 P
-0.85 (s value stored) 466.69 608.33 P
(the last time) 180 595.33 T
0 9 Q
(GEOS.INI) 241.5 595.33 T
0 10 Q
( was modi\336ed.) 284.83 595.33 T
4 F
(InitFileCommit\050\051) 180 575.33 T
0 F
( takes all the changes made since the \336le was last) 268.32 575.33 T
-0.11 (modi\336ed and \337ushes them to disk. This commits all the changes and should) 180 562.33 P
(be used only from the kernel. It should not be used by applications.) 180 549.33 T
2 14 Q
(6.3.2.3) 119.19 515.67 T
(W) 180 515.67 T
(riting Data to the INI File) 192.96 515.67 T
5 10 Q
(InitFileWriteData\050\051, InitFileWriteString\050\051,) 180 493.33 T
(InitFileWriteStringSection\050\051, InitFileWriteInteger\050\051,) 180 480.33 T
(InitFileWriteBoolean\050\051) 180 467.33 T
0 9 Q
(GEOS) 180 447.33 T
0 10 Q
( provides \336ve routines to write to the) 206.17 447.33 T
0 9 Q
(INI) 379.33 447.33 T
0 10 Q
( \336le, one for each of the) 393.99 447.33 T
-0.62 (allowable data types. Each of these routines will \336rst gain exclusive access to) 180 434.33 P
(the local) 180 421.33 T
0 9 Q
(INI) 221.86 421.33 T
0 10 Q
( buffer) 236.52 421.33 T
(, then locate the appropriate category for writing. After) 266.33 421.33 T
-0.04 (writing the key and its value, the routine will relinquish exclusive access to) 180 408.33 P
(the buffer) 180 395.33 T
(, allowing other threads to write into it. W) 224.81 395.33 T
(riting a category or key) 419.29 395.33 T
(that does not exist in the local) 180 382.33 T
0 9 Q
(INI) 321.88 382.33 T
0 10 Q
( \336le will add it to the \336le.) 336.54 382.33 T
(Each of these routines takes at least three arguments: The category is) 180 362.33 T
(speci\336ed as a null-terminated character string; a pointer to the string is) 180 349.33 T
-0.46 (passed. The key name is also speci\336ed as a null-terminated character string;) 180 336.33 P
-0.42 (again, a pointer to the string is passed. The third parameter is speci\336c to the) 180 323.33 P
(routine and contains the value to which the key will be set.) 180 310.33 T
4 F
(InitFileW) 180 290.33 T
(riteData\050\051) 228.69 290.33 T
0 F
( writes a number of bytes into the) 280.17 290.33 T
0 9 Q
(INI) 438.9 290.33 T
0 10 Q
( buffer) 453.56 290.33 T
(, and it) 483.37 290.33 T
-0.25 (takes four parameters. The additional parameter is the size of the data. The) 180 277.33 P
-0.47 (data will be converted into) 180 264.33 P
0 9 Q
-0.42 (ASCII) 303.24 264.33 P
0 10 Q
-0.47 ( hexadecimal when the \336le is saved and will) 329.23 264.33 P
(be converted back when the key is read.) 180 251.33 T
4 F
(InitFileW) 180 231.33 T
(riteString\050\051) 228.69 231.33 T
0 F
( takes a pointer to the null-terminated character) 288.14 231.33 T
-0.11 (string to be written. If the character string contains carriage returns or line) 180 218.33 P
(feeds, it will automatically be converted into a blob.) 180 205.33 T
4 F
(InitFileW) 180 185.33 T
(riteStringSection\050\051) 228.69 185.33 T
0 F
( writes a new string section \050a portion of a) 327.03 185.33 T
-0.37 (blob\051 into the speci\336ed entry) 180 172.33 P
-0.37 (. The speci\336ed entry must be a blob already) 308.9 172.33 P
-0.37 (, and) 505.99 172.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "274" 34
%%Page: "275" 35
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Saving User Options) 420.3 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(275) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.3) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.06 (the string section will be appended to the blob. A string section is a line of a) 180 641.33 P
(blob delineated by line feeds or carriage returns.) 180 628.33 T
4 F
(InitFileW) 180 608.33 T
(riteInteger\050\051) 228.69 608.33 T
0 F
( takes as its third argument the integer to be) 293.69 608.33 T
(written.) 180 595.33 T
4 F
(InitFileW) 180 575.33 T
(riteBoolean\050\051) 228.69 575.33 T
0 F
( takes a Boolean value. A zero value represents) 297.58 575.33 T
(false, and any nonzero value represents true. When looking at the) 180 562.33 T
0 9 Q
(INI) 487.43 562.33 T
0 10 Q
( \336le) 502.09 562.33 T
(with a text editor) 180 549.33 T
(, the Boolean value will appear as a text string of either) 259.46 549.33 T
(\322true\323 or \322false\323; it will, however) 180 536.33 T
(, be interpreted as a Boolean rather than a) 327.8 536.33 T
(text string.) 180 523.33 T
2 14 Q
(6.3.2.4) 119.19 489.67 T
(Getting Data from the INI File) 180 489.67 T
5 10 Q
(InitFileReadDataBuffer\050\051, InitFileReadDataBlock\050\051,) 180 467.33 T
(InitFileReadStringBuffer\050\051, InitFileReadStringBlock\050\051,) 180 454.33 T
(InitFileEnumStringSection\050\051) 180 441.33 T
(InitFileReadStringSectionBuffer\050\051,) 180 428.33 T
(InitFileReadStringSectionBlock\050\051, InitFileReadInteger\050\051,) 180 415.33 T
(InitFileReadBoolean\050\051) 180 402.33 T
0 F
(When you want to check what a key is set to in the) 180 382.33 T
0 9 Q
(INI) 417.45 382.33 T
0 10 Q
( \336le, you should use) 432.11 382.33 T
-0.68 (one of the) 180 369.33 P
4 F
-0.7 (InitFileRead\311\050\051) 225.74 369.33 P
0 F
-0.68 ( routines. These search the local) 309.61 369.33 P
0 9 Q
-0.61 (INI) 457.2 369.33 P
0 10 Q
-0.68 ( \336le \336rst and) 471.87 369.33 P
-0.11 (then each of the additional) 180 356.33 P
0 9 Q
-0.1 (INI) 305.94 356.33 P
0 10 Q
-0.11 ( \336les in the order they were loaded. They will) 320.6 356.33 P
-0.75 (return the \336rst occurrence of a given key) 180 343.33 P
-0.75 (, so if the key exists in both your local) 361.78 343.33 P
0 9 Q
(INI) 180 330.33 T
0 10 Q
( \336le and another) 194.66 330.33 T
0 9 Q
(INI) 273.56 330.33 T
0 10 Q
( \336le, these routines will return only the local value.) 288.22 330.33 T
-0.48 (All of these routines take at least two parameters. The \336rst is the category of) 180 310.33 P
-0.66 (the entry to be retrieved; this is stored as a null-terminated) 180 297.33 P
0 9 Q
-0.6 (ASCII) 450.88 297.33 P
0 10 Q
-0.66 ( string, and) 476.87 297.33 P
-0.36 (a pointer to the string is passed. The second is the key of the entry) 180 284.33 P
-0.36 (. This, too,) 480.94 284.33 P
(is stored as a null-terminated) 180 271.33 T
0 9 Q
(ASCII) 319.65 271.33 T
0 10 Q
( string, and a pointer to the string is) 345.64 271.33 T
(passed.) 180 258.33 T
4 F
(InitFileReadBoolean\050\051) 180 238.33 T
0 F
( returns the Boolean value of the given key) 296.1 238.33 T
(. If the) 493.71 238.33 T
(key is set \322false,\323 a value of zero \050) 180 225.33 T
0 9 Q
(F) 333.73 225.33 T
(ALSE) 339.07 225.33 T
0 10 Q
(\051 will be returned. If the key is set) 363.74 225.33 T
(\322true,\323 a nonzero value will be returned \050-1, the constant) 180 212.33 T
0 9 Q
(TRUE) 443.17 212.33 T
0 10 Q
(\051.) 469.5 212.33 T
4 F
(InitFileReadInteger\050\051) 180 192.33 T
0 F
( returns the integer value of the given key) 292.21 192.33 T
(.) 485.74 192.33 T
4 F
(InitFileReadDataBuffer\050\051) 180 172.33 T
0 F
( and) 312.03 172.33 T
4 F
(InitFileReadDataBlock\050\051) 335 172.33 T
0 F
( both return) 463.33 172.33 T
-0.01 (the data bytes stored in the given key) 180 159.33 P
-0.01 (. The \336rst, however) 352.73 159.33 P
-0.01 (, takes the address) 441.4 159.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "275" 35
%%Page: "276" 36
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(276) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.3) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(of a buffer already allocated and puts the data into the buffer) 180 641.33 T
(. The second) 462.26 641.33 T
-0.38 (allocates a new block on the heap and puts the data into it. If you don\325) 180 628.33 P
-0.38 (t know) 497.49 628.33 P
(the size of the data, you should use) 180 615.33 T
4 F
(InitFileReadDataBlock\050\051) 344.65 615.33 T
0 F
(.) 472.98 615.33 T
4 F
(InitFileReadStringBuffer\050\051) 180 595.33 T
0 F
( and) 320 595.33 T
4 F
(InitFileReadStringBlock\050\051) 342.97 595.33 T
0 F
( both) 479.27 595.33 T
-0.65 (return the null-terminated string stored in the given key) 180 582.33 P
-0.65 (. In both cases, curly) 436.28 582.33 P
-0.27 (braces will be stripped off of blobs and backslash characters will be removed) 180 569.33 P
(if appropriate. The \336rst, however) 180 556.33 T
(, takes the address of a buffer already) 332.23 556.33 T
-0.1 (allocated and puts the string in the buffer) 180 543.33 P
-0.1 (. The second allocates a new block) 371.88 543.33 P
(on the heap and returns the string in it. If you don\325) 180 530.33 T
(t know the approximate) 415.39 530.33 T
(size of the string, use) 180 517.33 T
4 F
(InitFileReadStringBlock\050\051) 280.93 517.33 T
0 F
(.) 417.23 517.33 T
4 F
(InitFileReadStringSectionBuffer\050\051) 180 497.33 T
0 F
( and its counterpart) 358.89 497.33 T
4 F
-0.47 (InitFileReadStringSectionBlock\050\051) 180 484.33 P
0 F
-0.45 ( both return a null-terminated section) 355.19 484.33 P
-0.76 (of the string stored in the given key) 180 471.33 P
-0.76 (. A string section is de\336ned as any number) 338.2 471.33 P
-0.66 (of contiguous printable) 180 458.33 P
0 9 Q
-0.59 (ASCII) 287.11 458.33 P
0 10 Q
-0.66 ( characters and is delimited by carriage returns) 313.1 458.33 P
(or line feeds. These routines take the number of the string section desired) 180 445.33 T
(and return the section \050if it exists\051.) 180 432.33 T
4 F
(InitFileReadStringSectionBuffer\050\051) 343.71 432.33 T
0 F
(takes the address of a buffer already allocated on the heap and returns the) 180 419.33 T
-0.78 (string section in the buffer) 180 406.33 P
-0.78 (.) 299.1 406.33 P
4 F
-0.81 (InitFileReadStringSectionBlock\050\051) 303.87 406.33 P
0 F
-0.78 ( allocates a) 479.06 406.33 P
-0.76 (new block on the heap and returns the string section in it. Y) 180 393.33 P
-0.76 (ou should use this) 447.56 393.33 P
(routine if you don\325) 180 380.33 T
(t know the approximate size of the string section.) 263.71 380.33 T
4 F
(InitFileEnumStringSection\050\051) 180 360.33 T
0 F
( enumerates the speci\336ed blob, executing a) 329.8 360.33 T
(speci\336ed callback routine on each string section within the blob.) 180 347.33 T
2 14 Q
(6.3.2.5) 119.19 313.67 T
(Deleting Items from the INI File) 180 313.67 T
5 10 Q
(InitFileDeleteEntry\050\051, InitFileDeleteCategory\050\051,) 180 291.33 T
(InitFileDeleteStringSection\050\051) 180 278.33 T
0 F
(Besides reading and writing data, you can delete categories and keys that) 180 258.33 T
-0.01 (were previously entered.) 180 245.33 P
4 F
-0.01 (InitFileDeleteEntry\050\051) 296.44 245.33 P
0 F
-0.01 ( takes pointers to both the) 406.98 245.33 P
(null-terminated category name and the null-terminated key name and) 180 232.33 T
(deletes the entry) 180 219.33 T
(.) 256.67 219.33 T
4 F
(InitFileDeleteCategory\050\051) 262.23 219.33 T
0 F
( takes only a pointer to the) 390.18 219.33 T
-0.33 (null-terminated category name and deletes the entire category) 180 206.33 P
-0.33 (, including all) 465.68 206.33 P
(the keys stored under it.) 180 193.33 T
(In addition, you can delete a single string section from a speci\336ed blob.) 180 173.33 T
4 F
(InitFileDeleteStringSection\050\051) 180 160.33 T
0 F
( takes the category and key names of the) 332.21 160.33 T
-0.81 (blob as well as the index of the string section, and it deletes the string section.) 180 147.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "276" 36
%%Page: "277" 37
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(General System Utilities) 397.71 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(277) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.4) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.05 (If the string section does not exist or if either the key or category can not be) 180 641.33 P
(found, the routine will return an error \337ag.) 180 628.33 T
2 14 Q
(6.4) 142.54 576 T
2 24 Q
(General System Utilities) 180 576 T
0 10 Q
-0.82 (The kernel provides a number of routines that ful\336ll general needs for system) 180 550.33 P
(utilities. These range from setting the system\325) 180 537.33 T
(s date and time to retrieving) 392.25 537.33 T
(the amount of swap memory used to shutting down the system in order to) 180 524.33 T
(execute a) 180 511.33 T
0 9 Q
(DOS) 225.93 511.33 T
0 10 Q
(-based program.) 245.6 511.33 T
2 14 Q
(6.4.1) 130.86 469 T
2 18 Q
(Changing the System Clock) 180 469 T
5 10 Q
(TimerGetDateAndTime\050\051, TimerSetDateAndTime\050\051) 180 445.33 T
0 F
(The system clock re\337ects the current date and time of day) 180 425.33 T
(.) 446.31 425.33 T
4 F
(T) 180 412.33 T
(imerGetDateAndT) 186.97 412.33 T
(ime\050\051) 282.08 412.33 T
0 F
( takes a pointer to a) 308.93 412.33 T
4 F
(T) 403.96 412.33 T
(imerDateAndT) 410.93 412.33 T
(ime) 487.71 412.33 T
0 F
(structure and \336lls it with the current year) 180 399.33 T
(, month, day) 373.89 399.33 T
(, day of week, hour) 430.57 399.33 T
(,) 516.88 399.33 T
(minute, and second.) 180 386.33 T
4 F
(T) 275.38 386.33 T
(imerSetDateAndT) 282.35 386.33 T
(ime\050\051) 375.8 386.33 T
0 F
( sets the current date and) 402.65 386.33 T
(time to the values in the passed structure. It is unusual for any application) 180 373.33 T
(other than the Preferences Manager to change the system clock.) 180 360.33 T
2 14 Q
(6.4.2) 130.86 318 T
2 18 Q
(Using T) 180 318 T
(imers) 245.68 318 T
5 10 Q
(TimerStart\050\051, TimerStop\050\051, TimerSleep\050\051, TimerGetCount\050\051) 180 294.33 T
0 F
-0.68 (If your geode needs an action to happen on a timed basis, you will want to use) 180 274.33 P
-0.69 (a timer) 180 261.33 P
-0.69 (.) 212.28 261.33 P
0 9 Q
-0.62 (GEOS) 217.15 261.33 P
0 10 Q
-0.69 ( lets you set up timers that will call a routine or send a message) 243.32 261.33 P
(after a given interval has passed.) 180 248.33 T
0 9 Q
(GEOS) 336.51 248.33 T
0 10 Q
( offers four types of timers:) 362.68 248.33 T
1 F
(u) 180 228.33 T
0 F
(One-shot) 198 228.33 T
(A one-shot timer counts a certain number of \322ticks.\323 \050There are 60 ticks) 198 216.33 T
(in a second.\051 It will call a routine or send a message after the speci\336ed) 198 204.33 T
(number of ticks have been counted.) 198 192.33 T
1 F
(u) 180 173.33 T
0 F
(Continual) 198 173.33 T
(A continual timer counts a certain number of ticks and then resets and) 198 161.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "277" 37
%%Page: "278" 38
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(278) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.4) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.03 (counts again. Each time it reaches the speci\336ed number of ticks, it calls) 198 641.33 P
(a routine or sends a message.) 198 629.33 T
1 F
(u) 180 610.33 T
0 F
(Millisecond) 198 610.33 T
-0.71 (A millisecond timer is a one-shot timer that counts in milliseconds rather) 198 598.33 P
(than ticks and calls a routine when time is up \050it does not send a) 198 586.33 T
(message\051.) 198 574.33 T
1 F
(u) 180 555.33 T
0 F
(Sleep) 198 555.33 T
(A sleep timer causes the thread that creates it to sleep for a certain) 198 543.33 T
(number of ticks. The sleep timer is unlike the others in that it does not) 198 531.33 T
(send a message or call a routine when time is up; it only awakens the) 198 519.33 T
(sleeping thread.) 198 507.33 T
1 F
(u) 180 488.33 T
0 F
(Real-time) 198 488.33 T
-0.37 (A real-time timer is passed the number of days since 1980, the hour) 198 476.33 P
-0.37 (, and) 505.99 476.33 P
(the minute of the event. On hardware platforms that support such a) 198 464.33 T
(thing,) 198 452.33 T
0 9 Q
(GEOS) 228.19 452.33 T
0 10 Q
( will wake up when the real-time timer goes off. \050All other) 254.36 452.33 T
(timers are ignored under these conditions.\051) 198 440.33 T
(All timers except sleep timers are created and started with the routine) 180 421.33 T
4 F
(T) 180 408.33 T
(imerStart\050\051) 186.97 408.33 T
0 F
(, and continual timers can be destroyed with) 245.5 408.33 T
4 F
(T) 453.86 408.33 T
(imerStop\050\051) 460.83 408.33 T
0 F
(.) 516.58 408.33 T
4 F
-0.49 (T) 180 395.33 P
-0.49 (imerStop\050\051) 186.97 395.33 P
0 F
-0.47 ( may also be used to prematurely stop a one-shot timer) 242.72 395.33 P
-0.47 (, though) 491.01 395.33 P
-0.28 (if the one-shot sent a message, the message could be in the recipient\325) 180 382.33 P
-0.28 (s queue) 493.58 382.33 P
(even after) 180 369.33 T
4 F
(T) 229.26 369.33 T
(imerStop\050\051) 236.23 369.33 T
0 F
( was called. Sleep timers are created and started) 291.98 369.33 T
(with) 180 356.33 T
4 F
(T) 203.71 356.33 T
(imerSleep\050\051) 210.68 356.33 T
0 F
(, and they do not need to be stopped.) 271.06 356.33 T
(An additional routine,) 180 336.33 T
4 F
(T) 285.2 336.33 T
(imerGetCount\050\051) 292.17 336.33 T
0 F
(, returns the current system) 374.39 336.33 T
(counter) 180 323.33 T
(. The system counter contains the number of ticks counted since) 214.25 323.33 T
0 9 Q
(GEOS) 180 310.33 T
0 10 Q
( was started.) 206.17 310.33 T
2 14 Q
(6.4.3) 130.86 268 T
2 18 Q
(System Statistics and Utilities) 180 268 T
5 10 Q
(SysStatistics\050\051, SysGetInfo\050\051, SysGetConf) 180 244.33 T
(ig\050\051,) 426 244.33 T
(SysGetPenMode\050\051, SysGetDosEnvironment\050\051) 180 231.33 T
0 F
(Occasionally) 180 211.33 T
(, a geode will need to query the kernel about the state or) 237.23 211.33 T
(con\336guration of the system.) 180 198.33 T
0 9 Q
(GEOS) 310.93 198.33 T
0 10 Q
( offers \336ve routines for this:) 337.1 198.33 T
4 F
(SysStatistics\050\051) 180 178.33 T
0 F
( returns a structure of type) 254.08 178.33 T
4 F
(SysStats) 382.22 178.33 T
0 F
(. This structure) 426.3 178.33 T
-0.11 (contains information about how busy the) 180 165.33 P
0 9 Q
-0.1 (CPU) 371.19 165.33 P
0 10 Q
-0.11 ( is, how much swap activity is) 391.03 165.33 P
-0.14 (going on, how many context switches occurred in the last second, how many) 180 152.33 P
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "278" 38
%%Page: "279" 39
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(General System Utilities) 397.71 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(279) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.4) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.75 (interrupts occurred in the last second, and how many runnable threads exist.) 180 641.33 P
(Y) 180 628.33 T
(ou can not set or otherwise alter this structure.) 185.93 628.33 T
4 F
-0.55 (SysGetInfo\050\051) 180 608.33 P
0 F
-0.53 ( returns a particular statistic about the current system status.) 245.18 608.33 P
(It can return a number of different statistics including the) 180 595.33 T
0 9 Q
(CPU) 452.04 595.33 T
0 10 Q
( speed, the) 471.88 595.33 T
(total number of handles in the handle table, the total heap size, the total) 180 582.33 T
-0.31 (number of geodes running, and the size of the largest free block on the heap.) 180 569.33 P
-0.64 (Most of the information your application can request with this routine can be) 180 556.33 P
(garnered from the Perf performance meter; it is easiest to use Perf when) 180 543.33 T
(debugging, though a few geodes will need to know this information.) 180 530.33 T
4 F
(SysGetCon\336g\050\051) 180 510.33 T
0 F
( returns information about the current system\325) 257.59 510.33 T
(s) 473.15 510.33 T
-0.26 (con\336guration including the processor type and machine type. It also returns) 180 497.33 P
-0.82 (\337ags about the particular session of) 180 484.33 P
0 9 Q
-0.74 (GEOS) 342.51 484.33 P
0 10 Q
-0.82 ( including whether this session was) 368.68 484.33 P
(started with Swat, whether a coprocessor exists, and other information.) 180 471.33 T
4 F
(SysGetPenMode\050\051) 180 451.33 T
0 F
( returns) 272.4 451.33 T
0 9 Q
(TRUE) 312.58 451.33 T
0 10 Q
( if) 338.91 451.33 T
0 9 Q
(GEOS) 350.95 451.33 T
0 10 Q
( is currently running on a) 377.13 451.33 T
(pen-based machine.) 180 438.33 T
4 F
(SysGetDosEnvironment\050\051) 180 418.33 T
0 F
( returns the value of a DOS environment) 312.21 418.33 T
-0.05 (variable. It is passed a string representing the variable name and returns a) 180 405.33 P
(string representing the value.) 180 392.33 T
2 14 Q
(6.4.4) 130.86 350 T
2 18 Q
(Shutting the System Down) 180 350 T
5 10 Q
(DosExec\050\051, SysShutdown\050\051) 180 326.33 T
0 F
(There are two ways for a geode to shut down) 180 306.33 T
0 9 Q
(GEOS) 388.73 306.33 T
0 10 Q
(. The \336rst,) 414.9 306.33 T
4 F
(DosExec\050\051) 465.65 306.33 T
0 F
(,) 517.87 306.33 T
-0.52 (shuts the system down to run a program under) 180 293.33 P
0 9 Q
-0.47 (DOS) 395.72 293.33 P
0 10 Q
-0.52 (, returning after the) 415.39 293.33 P
0 9 Q
-0.47 (DOS) 509.06 293.33 P
0 10 Q
(program has \336nished\321unless a task-switch driver is in use, in which case) 180 280.33 T
(the system will create a new task and cause the task-switcher to switch to) 180 267.33 T
(the new task. The second,) 180 254.33 T
4 F
(SysShutdown\050\051) 302.06 254.33 T
0 F
(, forces the system to shut itself) 380.77 254.33 T
(down completely) 180 241.33 T
(. Neither of these routines is commonly used by anything) 255.93 241.33 T
(other than the kernel, GeoManager) 180 228.33 T
(, special \322launcher\323 programs, or the) 343.16 228.33 T
0 9 Q
(UI) 514.28 228.33 T
0 10 Q
(.) 525.28 228.33 T
-0.06 (Their use by other libraries or applications is discouraged unless absolutely) 180 215.33 P
(necessary) 180 202.33 T
(.) 224.07 202.33 T
4 F
(DosExec\050\051) 180 182.33 T
0 F
( takes several parameters including the pathname of the) 232.22 182.33 T
0 9 Q
(DOS) 497.07 182.33 T
0 10 Q
-0.71 (program to be run, arguments for the program, an optional disk handle of the) 180 169.33 P
(disk that contains the program to be run, the optional directory and disk) 180 156.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "279" 39
%%Page: "280" 40
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(280) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.5) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(handle in which the program should be executed, and a record of) 180 641.33 T
4 F
-0.01 (DosExecFlags) 180 628.33 P
0 F
-0.01 (. If the return value is nonzero, an error occurred in loading) 252.4 628.33 P
(the) 180 615.33 T
0 9 Q
(DOS) 197.78 615.33 T
0 10 Q
( program, and you can use) 217.45 615.33 T
4 F
(ThreadGetError\050\051) 342.09 615.33 T
0 F
( to check what error) 435.25 615.33 T
-0.35 (occurred. Note that) 180 602.33 P
4 F
-0.36 (DosExec\050\051) 271.18 602.33 P
0 F
-0.35 ( always returns. Applications should) 323.4 602.33 P
3 F
-0.35 (not) 493.54 602.33 P
0 F
-0.35 ( rely) 508.17 602.33 P
-0.43 (on) 180 589.33 P
4 F
-0.44 (DosExec\050\051) 193.46 589.33 P
0 F
-0.43 ( shutting the system down; if a task switcher is present,) 245.68 589.33 P
0 9 Q
-0.39 (GEOS) 502.48 589.33 P
0 10 Q
(will be swapped out rather than shut down.) 180 576.33 T
4 F
(SysShutdown\050\051) 180 556.33 T
0 F
( causes) 258.71 556.33 T
0 9 Q
(GEOS) 294.64 556.33 T
0 10 Q
( to exit in one of several ways. This routine) 320.81 556.33 T
(should be passed a shutdown mode. If the mode is) 180 543.33 T
0 9 Q
(SST_CLEAN) 413.55 543.33 T
0 10 Q
(,) 468.23 543.33 T
0 9 Q
(SST_REST) 180 530.33 T
(ART) 226.02 530.33 T
0 10 Q
(,) 244.1 530.33 T
0 9 Q
(SST_SUSPEND) 249.66 530.33 T
0 10 Q
(, or) 317.01 530.33 T
0 9 Q
(SST_CLEAN_FORCED) 334.79 530.33 T
0 10 Q
(, the routine will) 433.47 530.33 T
(return; otherwise, it will not return and the shutdown will commence. If) 180 517.33 T
0 9 Q
-0.02 (SST_CLEAN) 180 504.33 P
0 10 Q
-0.02 ( is passed, the shutdown may be aborted after) 234.68 504.33 P
4 F
-0.02 (SysShutdown\050\051) 449.53 504.33 P
0 F
(returns. Y) 180 491.33 T
(ou can have) 226.11 491.33 T
4 F
(SysShutdown\050\051) 283.71 491.33 T
0 F
( cause) 362.42 491.33 T
0 9 Q
(GEOS) 393.72 491.33 T
0 10 Q
( to reboot itself after) 419.89 491.33 T
(shutting down \050as the Preferences Manager application does for certain) 180 478.33 T
-0.11 (preferences settings\051, but this starts) 180 465.33 P
0 9 Q
-0.1 (GEOS) 349.65 465.33 P
0 10 Q
-0.11 ( fresh. This routine is very rarely) 375.82 465.33 P
-0.12 (used by anything other than the) 180 452.33 P
0 9 Q
-0.1 (UI) 331.18 452.33 P
0 10 Q
-0.12 (, the kernel, or the Preferences Manager) 342.18 452.33 P
(application.) 180 439.33 T
-0 (If something else \050typically the) 180 419.33 P
0 9 Q
-0 (UI) 325.37 419.33 P
0 10 Q
-0 ( or task switcher\051 shuts the system down,) 336.37 419.33 P
(objects that register for shutdown noti\336cation will receive) 180 406.33 T
0 9 Q
(MSG_MET) 180 393.33 T
(A_CONFIRM_SHUTDOWN) 226.17 393.33 T
0 10 Q
(. The application should call) 343.84 393.33 T
4 F
-0.74 (SysShutdown\050\051) 180 380.33 P
0 F
-0.71 ( with the mode) 258.71 380.33 P
0 9 Q
-0.64 (SST_CONFIRM_ST) 327.53 380.33 P
-0.64 (ART) 410.55 380.33 P
0 10 Q
-0.71 (; this allows the object) 428.99 380.33 P
(to have exclusive rights for asking the user to con\336rm the shutdown \050when) 180 367.33 T
(the object is \336nished with the user interaction, it can call) 180 354.33 T
4 F
(SysShutdown\050\051) 446.14 354.33 T
0 F
(with) 180 341.33 T
0 9 Q
(SST_CONFIRM_END) 203.71 341.33 T
0 10 Q
( to release exclusive access\051. This is useful if your) 296.38 341.33 T
(application or library has an ongoing operation and wants to verify the) 180 328.33 T
(shutdown with the user) 180 315.33 T
(.) 289.08 315.33 T
2 14 Q
(6.5) 142.54 263 T
2 24 Q
(The Error-Checking V) 180 263 T
(ersion) 425.4 263 T
0 9 Q
-0.58 (GEOS) 180 237.33 P
0 10 Q
-0.64 ( has two versions of its system software. The normal version as shipped) 206.17 237.33 P
(retail is the \322non-error) 180 224.33 T
(-checking\323 version. The other) 283.89 224.33 T
(, used for debugging) 417.96 224.33 T
(applications and other geodes, is called the \322error) 180 211.33 T
(-checking\323 version, or) 407.8 211.33 T
3 9 Q
(EC) 509.83 211.33 T
3 10 Q
(version) 180 198.33 T
0 F
(. Nearly all components of the system software exist in both) 212.95 198.33 T
(versions\321the kernel, the) 180 185.33 T
0 9 Q
(UI) 299.08 185.33 T
0 10 Q
(, libraries, drivers, etc.) 310.08 185.33 T
(T) 180 165.33 T
(ogether) 185.75 165.33 T
(, Swat and the) 219.82 165.33 T
0 9 Q
(EC) 289.66 165.33 T
0 10 Q
( version provide extensive and superb debugging) 302.66 165.33 T
(power) 180 152.33 T
(. The) 207.22 152.33 T
0 9 Q
(EC) 233.34 152.33 T
0 10 Q
( version allows you to call special error) 246.34 152.33 T
(-checking routines to) 425.25 152.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "280" 40
%%Page: "281" 41
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(The Error-Checking Version) 372.07 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(281) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.5) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(check the integrity of handles, resources, memory) 180 641.33 T
(, \336les, and other things.) 408.33 641.33 T
(These error) 180 628.33 T
(-checking routines all begin with) 233.33 628.33 T
0 9 Q
(EC) 387.42 628.33 T
0 10 Q
(; for more information, see) 400.42 628.33 T
(their entries in the Routine Reference Book. In addition to the full error) 180 615.33 T
-0.41 (checking provided by the) 180 602.33 P
0 9 Q
-0.37 (EC) 296.15 602.33 P
0 10 Q
-0.41 ( versions of the system geodes, you can add your) 309.14 602.33 P
(own error) 180 589.33 T
(-checking code to your programs.) 224.81 589.33 T
2 14 Q
(6.5.1) 130.86 547 T
2 18 Q
(Adding EC Code to Y) 180 547 T
(our Program) 359.68 547 T
0 10 Q
(When compiling your code, you can include certain extra lines in either the) 180 523.33 T
0 9 Q
(EC) 180 510.33 T
0 10 Q
( version or the non-) 193 510.33 T
0 9 Q
(EC) 282.81 510.33 T
0 10 Q
( version of your program. For example, during) 295.8 510.33 T
(debugging you want your program to check the validity of each memory) 180 497.33 T
(handle before locking the memory block; for the \336nal version of your) 180 484.33 T
(program, however) 180 471.33 T
(, you don\325) 262.96 471.33 T
(t want this validity check because it slows down) 306.49 471.33 T
(your program. Y) 180 458.33 T
(ou can easily add a few instructions that will be compiled) 254.63 458.33 T
(only into the) 180 445.33 T
0 9 Q
(EC) 241.12 445.33 T
0 10 Q
( version.) 254.12 445.33 T
0 9 Q
(GEOS) 180 425.33 T
0 10 Q
( provides \336ve macros, listed below) 206.17 425.33 T
(, for version-speci\336c instructions.) 362.49 425.33 T
(These macros must be treated as statements; they may not be used in) 180 412.33 T
(expressions.) 180 399.33 T
0 9 Q
(EC) 180 379.33 T
0 10 Q
(This macro adds the speci\336ed line of code to the) 243 379.33 T
0 9 Q
(EC) 465.98 379.33 T
0 10 Q
( version) 478.98 379.33 T
-0.52 (only) 243 367.33 P
-0.52 (. When the non-) 261.52 367.33 P
0 9 Q
-0.47 (EC) 333.65 367.33 P
0 10 Q
-0.52 ( version is compiled from the same code,) 346.65 367.33 P
(the line will be left out.) 243 355.33 T
0 9 Q
(EC_ERROR) 180 336.33 T
0 10 Q
-0 (This macro halts the execution of the) 243 336.33 P
0 9 Q
-0 (EC) 417.08 336.33 P
0 10 Q
-0 ( version of a program) 430.08 336.33 P
-0.39 (by calling) 243 324.33 P
4 F
-0.4 (FatalError\050\051) 289.64 324.33 P
0 F
-0.39 ( with a speci\336ed error code. The call to) 353.92 324.33 P
4 F
(FatalError\050\051) 243 312.33 T
0 F
( will not be included in the non-) 307.27 312.33 T
0 9 Q
(EC) 453.77 312.33 T
0 10 Q
( version.) 466.77 312.33 T
0 9 Q
(EC_ERROR_IF) 180 293.33 T
0 10 Q
-0.52 (This macro works like) 243 281.33 P
0 9 Q
-0.47 (EC_ERROR) 345.94 281.33 P
0 10 Q
-0.52 (, above, but it also allows you) 396.43 281.33 P
(to set a condition for whether) 243 269.33 T
4 F
(FatalError\050\051) 381.34 269.33 T
0 F
( will be called. If) 445.61 269.33 T
(the condition is met,) 243 257.33 T
4 F
(FatalError\050\051) 340.05 257.33 T
0 F
( will be called.) 404.32 257.33 T
0 9 Q
(NEC) 180 238.33 T
0 10 Q
-0.65 (This macro adds the speci\336ed line of code to the non-) 243 238.33 P
0 9 Q
-0.58 (EC) 480.04 238.33 P
0 10 Q
-0.65 ( version) 493.04 238.33 P
-0.21 (but leaves it out of the) 243 226.33 P
0 9 Q
-0.19 (EC) 348.04 226.33 P
0 10 Q
-0.21 ( version. \050It is the converse of the) 361.04 226.33 P
0 9 Q
-0.19 (EC) 515.44 226.33 P
0 10 Q
(macro.\051) 243 214.33 T
0 9 Q
(EC_BOUNDS) 180 195.33 T
0 10 Q
(This macro checks the validity of a speci\336ed address \050pointer\051) 243 195.33 T
-0.67 (by calling the) 243 183.33 P
4 F
-0.69 (ECCheckBounds\050\051) 306.2 183.33 P
0 F
-0.67 ( routine. If the pointer is out) 401.21 183.33 P
(of bounds,) 243 171.33 T
4 F
(ECCheckBounds\050\051) 292.82 171.33 T
0 F
( will call) 387.83 171.33 T
4 F
(FatalError\050\051) 429.7 171.33 T
0 F
(. This) 493.97 171.33 T
(macro may only add the bounds check to the) 243 159.33 T
0 9 Q
(EC) 450.8 159.33 T
0 10 Q
( version.) 463.8 159.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "281" 41
%%Page: "282" 42
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(282) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.5) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(An example of use of these macros is shown in Code Display) 180 641.33 T
(6-) 460.4 641.33 T
(4.) 469.29 641.33 T
81 608.98 531 621 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 608.98 531 621 R
7 X
0 0 0 1 0 0 0 K
V
76.5 616.23 617.5 619.73 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 10 Q
0 X
0 0 0 1 0 0 0 K
(Code Display) 81 602.31 T
(6-) 147.13 602.31 T
(4 EC Macros) 156.02 602.31 T
5 9 Q
(/* This code display shows only the usage of these macros; assume that each) 81 587.98 T
( * line shown below exists within a particular function or method. */) 81 576.98 T
(/* The EC macro adds a line of code to the EC version. Its format is) 81 558.98 T
( *) 81 547.98 T
(EC\050line\051) 125 547.98 T
(where) 212.5 547.98 T
6 F
(line) 244.9 547.98 T
5 F
( is the line of code to be added.) 266.5 547.98 T
( * Note that the NEC macro is similar. */) 81 536.98 T
(EC\050 @call MyErrorDialogBox::MSG_MY_ERR_PRINT_ERROR\050\051; \051) 102.6 525.98 T
(NEC\050 @call MyErrorDialogBox::MSG_MY_ERR_PRINT_NO_ERROR\050\051; \051) 102.6 514.98 T
(/* The EC_ERROR macro adds a call to FatalError\050\051 to the EC version. Its format is) 81 496.98 T
( *) 81 485.98 T
(EC_ERROR\050code\051) 125 485.98 T
(where) 212.5 485.98 T
6 F
(code) 244.9 485.98 T
5 F
( is the error code to be called. */) 266.5 485.98 T
(EC_ERROR\050ERROR_ATTR_NOT_FOUND\051) 102.6 474.98 T
(/* The EC_ERROR_If macro is similar to EC_ERROR but is conditional. Its format is) 81 456.98 T
( *) 81 445.98 T
(EC_ERROR_IF\050test, code\051) 125 445.98 T
(where) 256.5 445.98 T
6 F
(test) 288.9 445.98 T
5 F
( is a Boolean value and) 310.5 445.98 T
6 F
(code) 440.1 445.98 T
5 F
( is the) 461.7 445.98 T
( * error code to be called. */) 81 434.98 T
(lockVariable = MyAppCheckIfLocked\050\051;) 102.6 423.98 T
(/* TRUE if inaccessible. */) 301 423.98 T
(EC_ERROR_IF\050lockVariable, ERROR_ACCESS_DENIED\051) 102.6 412.98 T
(/* Error if inaccessible. */) 351 412.98 T
(/* The EC_BOUNDS macro adds a call to ECCheckBounds\050\051 to the EC version.) 81 394.98 T
( * Its format is) 81 383.98 T
( *) 81 372.98 T
(EC_BOUNDS\050addr\051) 125 372.98 T
(where) 212.5 372.98 T
6 F
(addr) 244.9 372.98 T
5 F
( is the address to be checked. */) 266.5 372.98 T
(myPointer = MyAppGetMyPointer\050\051;) 102.6 361.98 T
(EC_BOUNDS\050myPointer\051) 102.6 350.98 T
81 326.95 531 338.98 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 326.95 531 338.98 R
7 X
0 0 0 1 0 0 0 K
V
76.5 334.2 617.5 337.7 R
4 X
V
0.5 H
0 Z
N
36 72 576 720 C
2 14 Q
0 X
0 0 0 1 0 0 0 K
(6.5.2) 130.86 286.95 T
2 18 Q
(Special EC Routines) 180 286.95 T
5 10 Q
(SysGetECLevel\050\051, SysSetECLevel\050\051, SysNotify\050\051, EC\311\050\051,) 180 263.28 T
(CFatalError\050\051, CWarningNotice\050\051) 180 250.28 T
0 F
(While using Swat and the) 180 230.28 T
0 9 Q
(EC) 302.43 230.28 T
0 10 Q
( version, you can set and retrieve the current) 315.43 230.28 T
-0.09 (level of error checking employed. The level is set with a record of \337ags, each) 180 217.28 P
(of which determines whether a certain type of checking is turned on. This) 180 204.28 T
(record is of type) 180 191.28 T
4 F
(ErrorCheckingFlags) 256.29 191.28 T
0 F
(. Y) 362.78 191.28 T
(ou can retrieve it with) 374.27 191.28 T
4 F
(SysGetECLevel\050\051) 180 178.29 T
0 F
(and set it with) 270.46 178.29 T
4 F
(SysSetECLevel\050\051) 340.48 178.29 T
0 F
(.) 426.41 178.29 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "282" 42
%%Page: "283" 43
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(283) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
4 10 Q
0 X
(SysNotify\050\051) 180 641.33 T
0 F
( puts up the standard error dialog box\321white with a black) 237.96 641.33 T
-0.68 (frame. This routine is available in both the) 180 628.33 P
0 9 Q
-0.61 (EC) 375.7 628.33 P
0 10 Q
-0.68 ( and the non-) 388.7 628.33 P
0 9 Q
-0.61 (EC) 447.95 628.33 P
0 10 Q
-0.68 ( versions of the) 460.95 628.33 P
-0.17 (kernel. This is the box used by the kernel to present unrecoverable errors to) 180 615.33 P
-0.02 (the user) 180 602.33 P
-0.02 (. Y) 217.2 602.33 P
-0.02 (ou can also call it up and allow the user any of \336ve options: retry) 228.67 602.33 P
-0.02 (,) 525.46 602.33 P
-0.78 (abort, continue, reboot, or exit. Usually) 180 589.33 P
-0.78 (, this dialog box is used only for errors,) 356.14 589.33 P
-0.75 (but it can be used for other user noti\336cation as well. \050Note that with the \322exit\323) 180 576.33 P
-0.28 (and \322reboot\323 options, this routine will) 180 563.33 P
3 F
-0.28 (not) 354.07 563.33 P
0 F
-0.28 ( return. Note also that only certain) 368.7 563.33 P
(combinations of the \336ve options are supported.\051) 180 550.33 T
-0.34 (The) 180 530.33 P
4 F
-0.35 (CFatalError\050\051) 200.22 530.33 P
0 F
-0.34 ( and) 272.27 530.33 P
4 F
-0.35 (CW) 294.56 530.33 P
-0.35 (arningNotice\050\051) 311.41 530.33 P
0 F
-0.34 ( routines provide run-time and) 387.7 530.33 P
(compile-time error or warning messages. The) 180 517.33 T
4 F
(CFatalError\050\051) 391.86 517.33 T
0 F
( routine calls) 463.91 517.33 T
-0.12 (the kernel\325) 180 504.33 P
-0.12 (s) 228.96 504.33 P
4 F
-0.13 (FatalError) 236.24 504.33 P
0 F
-0.12 ( function, which puts up an error dialog box and, in) 292.73 504.33 P
(Swat, causes Swat to hit a breakpoint so you can debug the error) 180 491.33 T
(.) 479.13 491.33 T
4 F
-0.41 (CW) 180 478.33 P
-0.41 (arningNotice\050\051) 196.85 478.33 P
0 F
-0.4 ( may be put in error) 273.14 478.33 P
-0.4 (-checking code to make the compiler) 363.57 478.33 P
(put up a compile-time warning note.) 180 465.33 T
2 14 Q
(6.6) 142.54 413 T
2 24 Q
(Inter-Application) 180 413 T
(Communication) 180 385 T
0 10 Q
(Applications do not usually need to communicate with each other) 180 359.33 T
(. Most) 480.58 359.33 T
(applications will interact only with the kernel and with libraries; such) 180 346.33 T
-0.87 (applications don\325) 180 333.33 P
-0.87 (t even notice if any other applications are running. However) 256.74 333.33 P
-0.87 (,) 526.31 333.33 P
(a few applications will need to communicate with other applications.) 180 320.33 T
(For example, many desktop-managers provide a \322print \336le\323 command; the) 180 300.33 T
(user selects a \336le\325) 180 287.33 T
(s icon, then chooses this command to print out the) 260.75 287.33 T
(appropriate \336le. The desktop manager will have no way of knowing how to) 180 274.33 T
(print the \336le; after all, the \336le could have been created by an application) 180 261.33 T
(which hadn\325) 180 248.33 T
(t even been written when the desktop manager was installed.) 235.75 248.33 T
(The desktop manager therefore causes the appropriate application to be) 180 235.33 T
(started. It then instructs the application to print the \336le.) 180 222.33 T
(Because) 180 202.33 T
0 9 Q
(GEOS) 220.74 202.33 T
0 10 Q
( is an object-oriented system, there is a natural model for) 246.91 202.33 T
(inter) 180 189.33 T
(-application communication. When one application needs to contact) 202.41 189.33 T
(another) 180 176.33 T
(, it can simply send a message; thus, sending information or) 215.37 176.33 T
-0.72 (instructions to another application is not, in principle, different from sending) 180 163.33 P
(it from one object to another within an application.) 180 150.33 T
0 0 0 1 0 0 0 K
81 241.03 171 365.45 C
0 0 0 1 0 0 0 K
2 9 Q
0 X
0 0 0 1 0 0 0 K
(Advanced T) 81 312.45 T
(opic) 131.35 312.45 T
0 F
(Not many) 81 296.45 T
-1.06 (applications will need) 81 285.45 P
(to use) 81 274.45 T
(inter) 81 263.45 T
(-application) 101.17 263.45 T
(communication.) 81 252.45 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
1 X
90 450 13.5 13.5 101.25 341.33 G
4 H
0 Z
90 450 13.5 13.5 101.25 341.33 A
0 0 0 1 0 0 0 K
81 321.21 121.5 361.71 R
1 H
0 X
N
36 72 576 720 C
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "283" 43
%%Page: "284" 44
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(284) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(The) 180 641.33 T
0 9 Q
(GEOS) 200.56 641.33 T
0 10 Q
( Inter) 226.73 641.33 T
(-Application Communications Protocol \050) 252.84 641.33 T
3 9 Q
(IACP) 436.73 641.33 T
0 10 Q
(\051 speci\336es how) 459.23 641.33 T
-0.67 (to open communications with another application, and how to send messages) 180 628.33 P
(back and forth.) 180 615.33 T
2 14 Q
(6.6.1) 130.86 573 T
2 18 Q
(IACP Overview) 180 573 T
0 10 Q
(There is a major difference between sending a message within an) 180 549.33 T
(application, and sending one to a different application. When you send a) 180 536.33 T
-0.44 (message from one object to another within an application, you know that the) 180 523.33 P
-0.05 (recipient exists, and you know the optr of that recipient. This makes it easy) 180 510.33 P
(to send messages.) 180 497.33 T
(When you send a message to another application, however) 180 477.33 T
(, you do not \050at) 449.1 477.33 T
-0.57 (\336rst\051 know any optrs to that application. In fact, you may not even know that) 180 464.33 P
-0.63 (the application is running. Often, all you will know is something like, \322I want) 180 451.33 P
(to send a message to) 180 438.33 T
4 F
(SpiffyW) 277.8 438.33 T
(rite) 317.99 438.33 T
0 F
(\323.) 336.88 438.33 T
0 9 Q
(GEOS) 180 418.33 T
0 10 Q
( uses a client-server model of inter) 206.17 418.33 T
(-application communication. Every) 365.25 418.33 T
4 F
-0.45 (GeodeT) 180 405.33 P
-0.45 (oken) 218.89 405.33 P
0 F
-0.44 ( corresponds to a server) 244.26 405.33 P
-0.44 (. Whenever an application is launched,) 351.39 405.33 P
0 9 Q
-0.13 (GEOS) 180 392.33 P
0 10 Q
-0.14 ( checks to see if there is a) 206.17 392.33 P
3 F
-0.14 (server-list) 325.61 392.33 P
0 F
-0.14 ( corresponding to the application\325) 370.95 392.33 P
-0.14 (s) 523.73 392.33 P
-0.37 (token. If there is,) 180 379.33 P
0 9 Q
-0.34 (GEOS) 260.74 379.33 P
0 10 Q
-0.37 ( adds the app\325) 286.91 379.33 P
-0.37 (s Application object to the server) 349.52 379.33 P
-0.37 (-list; if) 498.77 379.33 P
(there is not,) 180 366.33 T
0 9 Q
(GEOS) 238.34 366.33 T
0 10 Q
( creates a server) 264.51 366.33 T
(-list and adds the Application object to) 340.07 366.33 T
(that list.) 180 353.33 T
(For example, suppose the user launches a single copy of) 180 333.33 T
4 F
(SpiffyW) 440.39 333.33 T
(rite) 480.58 333.33 T
0 F
(; this) 499.47 333.33 T
(application has a manufacturer) 180 320.33 T
(-) 325.39 320.33 T
0 9 Q
(ID) 328.72 320.33 T
0 10 Q
( of) 339.39 320.33 T
0 9 Q
(MANUF) 353.27 320.33 T
(ACTURER_ID_SPIFFYW) 388.28 320.33 T
(ARE) 495.45 320.33 T
0 10 Q
(,) 514.94 320.33 T
(and the token characters \322) 180 307.33 T
0 9 Q
(SWRI) 301.86 307.33 T
0 10 Q
(\323.) 326.52 307.33 T
0 9 Q
(GEOS) 335.97 307.33 T
0 10 Q
( will check if there\325) 362.14 307.33 T
(s a server) 449 307.33 T
(-list for) 493.45 307.33 T
(that) 180 294.33 T
4 F
(GeodeT) 202.23 294.33 T
(oken) 241.12 294.33 T
0 F
(. Let us suppose there isn\325) 266.49 294.33 T
(t such a list;) 386.51 294.33 T
0 9 Q
(GEOS) 445.97 294.33 T
0 10 Q
( will) 472.14 294.33 T
(automatically create one, and add) 180 281.33 T
4 F
(SpiffyW) 339.29 281.33 T
(rite) 379.48 281.33 T
0 F
(\325) 398.37 281.33 T
(s Application object to that) 400.04 281.33 T
(list. The Application object is now said to be a) 180 268.33 T
3 F
(server) 393.94 268.33 T
0 F
( for the list.) 421.33 268.33 T
(Now let us suppose another application needs to contact) 180 248.33 T
4 F
(SpiffyW) 441.88 248.33 T
(rite) 482.07 248.33 T
0 F
(; for) 500.96 248.33 T
(example, perhaps a desktop program needs to print a) 180 235.33 T
4 F
(SpiffyW) 428.92 235.33 T
(rite) 469.11 235.33 T
0 F
( \336le. It) 488 235.33 T
(tells the kernel that it would like to be a) 180 222.33 T
3 F
(client) 368.76 222.33 T
0 F
( on the list for the token) 393.93 222.33 T
(\322{) 180 209.33 T
0 9 Q
(MANUF) 187.22 209.33 T
(ACTURER_ID_SPIFFYW) 222.22 209.33 T
(ARE) 329.39 209.33 T
0 10 Q
(, "SWRI"}\323.) 348.89 209.33 T
0 9 Q
(GEOS) 402.41 209.33 T
0 10 Q
( will check to see if a) 428.58 209.33 T
(server) 180 196.33 T
(-list for that token exists. If so, it will add the client to that list; this) 208.7 196.33 T
-0.1 (will cause a noti\336cation message \050) 180 183.33 P
0 9 Q
-0.09 (MSG_MET) 336.76 183.33 P
-0.09 (A_IACP_NEW_CONNECTION) 382.93 183.33 P
0 10 Q
-0.1 (\051 to) 513.42 183.33 P
(be sent to every server for that list.) 180 170.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "284" 44
%%Page: "285" 45
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(285) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.19 (Once a client is linked to a server) 180 641.33 P
-0.19 (, it can send a message to the server list. It) 332.18 641.33 P
(does this by encapsulating a message, then passing the encapsulated) 180 628.33 T
-0.79 (message to the server) 180 615.33 P
-0.79 (-list.) 277.66 615.33 P
0 9 Q
-0.71 (GEOS) 300.58 615.33 P
0 10 Q
-0.79 ( will dispatch the message to every server for) 326.75 615.33 P
(the list; the server objects will receive it just like any ordinary message. \050It) 180 602.33 T
(actually passes the encapsulated message to the server object as an) 180 589.33 T
(argument to) 180 576.33 T
0 9 Q
(MSG_MET) 239.82 576.33 T
(A_IACP_PROCESS_MESSAGE) 285.99 576.33 T
0 10 Q
(; the server can then) 418.82 576.33 T
(dispatch the message to the \336nal recipient.\051) 180 563.33 T
(This establishes the link between the applications. The client can pass an) 180 543.33 T
-0.35 (optr to the servers by putting it in the encapsulated message; a server object) 180 530.33 P
(can then send messages straight to a particular object.) 180 517.33 T
(When a client no longer needs to communicate with a server) 180 497.33 T
(, it unregisters) 457.79 497.33 T
(itself from the server list.) 180 484.33 T
0 9 Q
(GEOS) 300.19 484.33 T
0 10 Q
( then sends a noti\336cation message to every) 326.36 484.33 T
(server object.) 180 471.33 T
(Customarily) 180 451.33 T
(, whoever allocates a global resource must also free it. For) 236.3 451.33 T
(example, if a client might pass information to the server by allocating a) 180 438.33 T
-0.81 (global block, writing the data to the block, and passing the block to the server) 180 425.33 P
-0.81 (.) 526.26 425.33 P
-0.74 (The server should notify the client when the server is \336nished with that data;) 180 412.33 P
(the client can then free the block. Similarly) 180 399.33 T
(, if a server allocates a block to) 379.1 399.33 T
(pass information to a client, the server should free the block.) 180 386.33 T
81 144 531 648 C
0 0 0 1 0 0 0 K
180 144 531 372.67 C
0 0 0 1 0 0 0 K
281.99 251.14 245.33 251.14 2 L
0.5 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
2 10 Q
(Figure) 180 191.33 T
(6-) 213.34 191.33 T
(1) 222.23 191.33 T
3 F
(IACP Clients and Servers) 230.57 191.33 T
-0.02 (A client can encapsulate a message, then use an IACP routine to instruct the) 180 177.33 P
-0.56 (kernel to send the message to the servers for a server list. There may be several) 180 165.33 P
(servers on any given server list.) 180 153.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
181.83 214.83 244.83 232.83 R
7 X
V
0 Z
0 X
N
(Client 3) 195.19 220.15 T
181.33 268.83 245.33 287.83 R
7 X
V
0 X
N
(Client 1) 195.19 274.59 T
181.83 241.83 244.83 259.83 R
7 X
V
0 X
N
(Client 2) 195.19 247.15 T
322.2 310.49 385.2 346.49 R
7 X
V
0 X
N
(Server) 338.89 330.83 T
(List) 344.72 320.83 T
397.5 266.33 461.5 285.33 R
7 X
V
0 X
N
(Server 1) 410.52 272.09 T
398 239.33 461 257.33 R
7 X
V
0 X
N
(Server 2) 410.52 244.65 T
392.47 278.83 397.67 275.83 392.47 272.83 392.47 275.83 4 Y
V
353.7 310.49 353.7 275.83 392.47 275.83 3 L
1 H
2 Z
N
391.64 249.66 396.83 246.66 391.64 243.66 391.64 246.66 4 Y
V
353.7 310.49 353.7 246.66 391.64 246.66 3 L
N
306 220.83 476.84 359.17 R
0.5 H
0 Z
N
316.64 331.33 321.83 328.33 316.64 325.33 316.64 328.33 4 Y
V
245.33 278.33 282.67 278.33 282.67 328.33 316.64 328.33 4 L
2 Z
N
244.76 225 244.76 225 2 L
N
316.64 331.33 321.83 328.33 316.64 325.33 316.64 328.33 4 Y
V
316.64 328.33 282.67 328.33 282.67 223.33 246 223.33 4 L
N
7 X
90 450 14.38 8.62 263.08 251.14 G
0 Z
0 X
90 450 14.38 8.62 263.08 251.14 A
(Msg) 253.45 247.46 T
7 X
90 450 14.38 8.62 373.08 276.14 G
0 X
90 450 14.38 8.62 373.08 276.14 A
(Msg) 363.45 272.46 T
7 X
90 450 14.38 8.62 373.08 246.89 G
0 X
90 450 14.38 8.62 373.08 246.89 A
(Msg) 363.45 243.21 T
0 0 0 1 0 0 0 K
81 144 531 648 C
36 72 576 720 C
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "285" 45
%%Page: "286" 46
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(286) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(There may be several servers for a given server list. For example, if three) 180 641.33 T
-0.57 (copies of) 180 628.33 P
4 F
-0.58 (SpiffyW) 220.72 628.33 P
-0.58 (rite) 260.91 628.33 P
0 F
-0.57 ( were running at once, each of their Application objects) 279.8 628.33 P
-0.58 (would be a server for the same server) 180 615.33 P
-0.58 (-list. Furthermore, any object can make) 348.72 615.33 P
(itself a server for any list. All servers will receive copies of every message) 180 602.33 T
(sent to the server list. T) 180 589.33 T
(o distinguish between different servers for a list,) 289.65 589.33 T
-0.25 (every server for a list is assigned a distinct) 180 576.33 P
4 F
-0.26 (ServerNumber) 378.52 576.33 P
0 F
-0.25 (. If it chooses to,) 454.64 576.33 P
(a client can specify that a message be sent only to the server with a speci\336c) 180 563.33 T
(number) 180 550.33 T
(.) 215.37 550.33 T
2 14 Q
(6.6.2) 130.86 508 T
2 18 Q
(GenApplicationClass Behavior) 180 508 T
4 10 Q
-0.19 (GenApplicationClass) 180 484.33 P
0 F
-0.19 ( is built to support) 289.07 484.33 P
0 9 Q
-0.17 (IACP) 376.11 484.33 P
0 10 Q
-0.19 ( automatically) 398.77 484.33 P
-0.19 (. If a server or) 463.98 484.33 P
-0.01 (client object is subclassed from) 180 471.33 P
4 F
-0.01 (GenApplicationClass) 325.32 471.33 P
0 F
-0.01 (, most of the work of) 434.39 471.33 P
(supporting) 180 458.33 T
0 9 Q
(IACP) 232.96 458.33 T
0 10 Q
( is done transparently to the application writer) 255.62 458.33 T
(. The) 471.94 458.33 T
(following capabilities are built in:) 180 445.33 T
1 F
(u) 180 425.33 T
0 F
(The Application Object automatically registers itself as a server for the) 198 425.33 T
-0.53 (appropriate list when it is launched in application mode. If it is launched) 198 413.33 P
(in engine mode, it registers itself when it receives) 198 401.33 T
0 9 Q
(MSG_MET) 198 389.33 T
(A_APP_ST) 244.17 389.33 T
(ARTUP) 289.35 389.33 T
0 10 Q
(. If the last client-connection to the) 320.4 389.33 T
(application is closed, and the Application is not currently running in) 198 377.33 T
(application mode, the Application object will shut down automatically) 198 365.33 T
(.) 519.35 365.33 T
1 F
(u) 180 346.33 T
0 F
-0.3 (When the Application object registers itself as a server for its own list, it) 198 346.33 P
(sends itself) 198 334.33 T
0 9 Q
(MSG_GEN_APPLICA) 252.82 334.33 T
(TION_IACP_REGISTER.) 344.49 334.33 T
0 10 Q
( An application) 450.99 334.33 T
(may subclass this if it wants to take other action at this time \050e.g.) 198 322.33 T
(registering itself for other lists\051. Similarly) 198 310.33 T
(, when an Application object) 390.42 310.33 T
(unregisters itself from its own server list, it sends itself) 198 298.33 T
0 9 Q
(MSG_GEN_APPLICA) 198 286.33 T
(TION_IACP_UNREGISTER) 289.67 286.33 T
0 10 Q
(.) 408.34 286.33 T
1 F
(u) 180 267.33 T
0 F
(The Application object automatically handles the) 198 267.33 T
0 9 Q
(MSG_MET) 427.48 267.33 T
(A_IACP) 473.65 267.33 T
0 10 Q
(\311) 507.31 267.33 T
(messages appropriately) 198 255.33 T
(. In particular) 306.16 255.33 T
(, when the kernel passes an) 370.42 255.33 T
(encapsulated message to an Application object with) 198 243.33 T
0 9 Q
(MSG_MET) 198 231.33 T
(A_IACP_PROCESS_MESSAGE) 244.17 231.33 T
0 10 Q
(, the Application object) 377 231.33 T
(automatically dispatches the message to the appropriate location.) 198 219.33 T
1 F
(u) 180 200.33 T
0 F
-0.53 (An Application object will refuse to quit as long as any client has an open) 198 200.33 P
0 9 Q
-0.59 (IACP) 198 188.33 P
0 10 Q
-0.65 ( connection to it. \050It can, however) 220.66 188.33 P
-0.65 (, be forcibly detached; this happens) 369.53 188.33 P
(when the system is shut down, as noted below) 198 176.33 T
(.\051. In such a case, the) 410.08 176.33 T
(Application object will automatically call) 198 164.33 T
4 F
(IACPShutdownAll\050\051) 389.15 164.33 T
0 F
( to shut) 492.11 164.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "286" 46
%%Page: "287" 47
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(287) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.5 (down all) 198 641.33 P
0 9 Q
-0.45 (IACP) 239.06 641.33 P
0 10 Q
-0.5 ( links it has open, whether it is a client or a server on those) 261.72 641.33 P
(links.) 198 629.33 T
1 F
(u) 180 610.33 T
0 F
(When a link is closed,) 198 610.33 T
0 9 Q
(IACP) 301.35 610.33 T
0 10 Q
( automatically sends) 324.01 610.33 T
0 9 Q
-0.03 (MSG_MET) 198 598.33 P
-0.03 (A_IACP_LOST_CONNECTION) 244.17 598.33 P
0 10 Q
-0.04 ( to all objects on the other side of) 376.68 598.33 P
-0.53 (the link. When an Application object receives this message, it waits until) 198 586.33 P
(all remaining messages from the link have been handled; it then calls) 198 574.33 T
4 F
-0.04 (IACPShutdown\050\051) 198 562.33 P
0 F
-0.04 ( for that connection. It also forwards this message to) 286.33 562.33 P
-0.45 (all Document objects, so a Document object will know to close itself if the) 198 550.33 P
0 9 Q
(IACP) 198 538.33 T
0 10 Q
( connection was the only reference to it. Again, the Application) 220.66 538.33 T
(object does this whether it is a client or a server) 198 526.33 T
(.) 418.39 526.33 T
1 F
(u) 180 507.33 T
0 F
(If the Application object is forcibly detached, it sends itself) 198 507.33 T
0 9 Q
(MSG_GEN_APPLICA) 198 495.33 T
(TIONIACP_SHUTDOWN_ALL_CONNECTIONS) 289.67 495.33 T
0 10 Q
(. The) 495.86 495.33 T
(default handler for this message will call) 198 483.33 T
4 F
(IACPShutdownAll\050\051) 389.51 483.33 T
0 F
( to shut) 492.47 483.33 T
-0.6 (down all) 198 471.33 P
0 9 Q
-0.54 (IACP) 238.85 471.33 P
0 10 Q
-0.6 ( links the Application object has open, whether it is a client) 261.51 471.33 P
(or a server on those links. Y) 198 459.33 T
(ou can subclass this message if you need to) 325.98 459.33 T
(take some additional action when the) 198 447.33 T
0 9 Q
(IACP) 373.78 447.33 T
0 10 Q
( connections are severed.) 396.44 447.33 T
2 14 Q
(6.6.3) 130.86 406 T
2 18 Q
(Messages Across an IACP Link) 180 406 T
5 10 Q
(IACPSendMessage\050\051, IACPSendMessageToServer\050\051) 180 382.33 T
0 F
-0.57 (Either a client or a server may send messages over an) 180 362.33 P
0 9 Q
-0.51 (IACP) 425.79 362.33 P
0 10 Q
-0.57 ( link. Both clients) 448.45 362.33 P
(and servers use the same technique. The message sender encapsulates a) 180 349.33 T
(message, and passes the encapsulated message to) 180 336.33 T
4 F
(IACPSendMessage\050\051) 412.82 336.33 T
0 F
(.) 517.44 336.33 T
4 F
(IACPSendMessage\050\051) 180 323.33 T
0 F
( dispatches the message to every object on the other) 284.62 323.33 T
(side of the link. For example, if a client passes a message to) 180 310.33 T
4 F
(IACPSendMessage\050\051) 180 297.33 T
0 F
(, that message will be dispatched to every server) 284.62 297.33 T
(object for the speci\336ed list.) 180 284.33 T
4 F
(IACPSendMessage\050\051) 180 264.33 T
0 F
( is passed \336ve arguments:) 284.62 264.33 T
1 F
(u) 180 244.33 T
0 F
(The token for the) 198 244.33 T
0 9 Q
(IACP) 280.6 244.33 T
0 10 Q
( link.) 303.26 244.33 T
1 F
(u) 180 225.33 T
0 F
(The) 198 225.33 T
4 F
(EventHandle) 218.56 225.33 T
0 F
( of an encapsulated message.) 286.7 225.33 T
1 F
(u) 180 206.33 T
0 F
(The) 198 206.33 T
4 F
(T) 218.56 206.33 T
(ravelOption) 225.16 206.33 T
0 F
( for that message.) 287.75 206.33 T
1 F
(u) 180 187.33 T
0 F
(An encapsulated completion message; this will be dispatched once each) 198 187.33 T
(time the \336rst message has been successfully handled.) 198 175.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "287" 47
%%Page: "288" 48
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(288) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
1 10 Q
0 X
(u) 180 641.33 T
0 F
(A member of the) 198 641.33 T
4 F
(IACPSide) 277.45 641.33 T
0 F
( enumerated type. This tells whether the) 327.63 641.33 T
(message is being sent by a client or a server) 198 629.33 T
(. If you pass the value) 400.07 629.33 T
0 9 Q
-0.26 (IACPS_CLIENT) 198 617.33 P
0 10 Q
-0.29 (, the message will be dispatched to all servers; if you pass) 265.91 617.33 P
0 9 Q
(IACPS_SER) 198 605.33 T
(VER) 249.16 605.33 T
0 10 Q
(, the message will be dispatched to all clients.) 268.66 605.33 T
-0.36 (The message will be dispatched to all geodes on the other side of a link. Note) 180 586.33 P
-0.38 (that a client need not send the message to the server object per se. It can use) 180 573.33 P
(the travel options \336eld to direct the message anywhere within the server) 180 560.33 T
(object\325) 180 547.33 T
(s geode. It can also specify the optr of the recipient when it) 208.52 547.33 T
-0.13 (encapsulates the message; in this case, it should pass a) 180 534.33 P
4 F
-0.14 (T) 436.51 534.33 P
-0.14 (ravelOption) 443.11 534.33 P
0 F
-0.13 ( of -1.) 505.7 534.33 P
(Every time the encapsulated message is successfully handled, the) 180 514.33 T
-0 (\322completion message\323 will be dispatched. T) 180 501.33 P
-0 (ypically) 377.84 501.33 P
-0 (, the completion message) 412.66 501.33 P
-0.52 (is addressed to the object that called) 180 488.33 P
4 F
-0.53 (IACPSendMessage\050\051) 347.33 488.33 P
0 F
-0.52 (, instructing it to) 451.95 488.33 P
(free global resources that had been allocated for the message.) 180 475.33 T
-0.27 (The routine returns the number of messages that were dispatched. This lets) 180 455.33 P
(the sender know how many completion messages to expect, and lets it) 180 442.33 T
(properly initialize all reference counts to global resources.) 180 429.33 T
(A client may choose to send a message to a speci\336c server) 180 409.33 T
(. It can do this by) 444.65 409.33 T
(calling) 180 396.33 T
4 F
(IACPSendMessageT) 213.71 396.33 T
(oServer\050\051) 316.85 396.33 T
0 F
(. This takes almost the same) 365.38 396.33 T
(arguments as) 180 383.33 T
4 F
(IACPSendMessage\050\051) 245.75 383.33 T
0 F
(. However) 350.37 383.33 T
(, instead of being passed an) 396.11 383.33 T
4 F
(IACPSide) 180 370.33 T
0 F
( value, it is passed a server number) 230.18 370.33 T
(.) 393.54 370.33 T
0 9 Q
(GEOS) 399.1 370.33 T
0 10 Q
( will dispatch a single) 425.27 370.33 T
-0.36 (copy of the message to the speci\336ed server) 180 357.33 P
-0.36 (.) 371.72 357.33 P
4 F
-0.38 (IACPSendMessageT) 376.91 357.33 P
-0.38 (oServer\050\051) 480.05 357.33 P
0 F
(returns the number of times the message was dispatched. This will) 180 344.33 T
(ordinarily be one; however) 180 331.33 T
(, if the speci\336ed server is no longer registered, it) 301.86 331.33 T
(will be zero.) 180 318.33 T
2 14 Q
(6.6.4) 130.86 276 T
2 18 Q
(Being a Client) 180 276 T
0 10 Q
(Any object can register as a client for an) 180 252.33 T
0 9 Q
(IACP) 368.53 252.33 T
0 10 Q
( server list. When an object is) 391.19 252.33 T
(a client, it can send messages to the server list, which will pass them along) 180 239.33 T
(to the servers for that list.) 180 226.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "288" 48
%%Page: "289" 49
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(289) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
2 14 Q
0 X
(6.6.4.1) 119.19 638.67 T
(Registering as a Client) 180 638.67 T
5 10 Q
(IACPConnect\050\051, IACPCreateDefaultLaucnhBlock\050\051) 180 616.33 T
0 F
-0.12 (T) 180 596.33 P
-0.12 (o register as a client for a list, call the routine) 185.75 596.33 P
4 F
-0.12 (IACPConnect\050\051) 398.39 596.33 P
0 F
-0.12 (. When you) 476.72 596.33 P
-0.01 (call this routine, you specify which server list you are interested in. If there) 180 583.33 P
(is no such server list running, you can instruct the kernel to start up the) 180 570.33 T
(server list, as well as one of the default applications for that list.) 180 557.33 T
4 F
(IACPConnect\050\051) 180 537.33 T
0 F
( is passed \336ve arguments:) 258.33 537.33 T
1 F
(u) 180 517.33 T
0 F
(The) 198 517.33 T
4 F
(GeodeT) 218.56 517.33 T
(oken) 257.45 517.33 T
0 F
( of the list for which you want to register) 282.82 517.33 T
(.) 470.24 517.33 T
1 F
(u) 180 498.33 T
0 F
(A set of) 198 498.33 T
4 F
(IACPConnectFlags) 235.41 498.33 T
0 F
(. The following \337ags are available:) 333.92 498.33 T
0 9 Q
(IACPF_OBEY_LAUNCH_MODEL) 180 479.33 T
0 10 Q
(This indicates that if) 243 467.33 T
0 9 Q
(GEOS) 342.28 467.33 T
0 10 Q
( should follow the launch model,) 368.45 467.33 T
(which will specify whether the user should be presented a) 243 455.33 T
(dialog box, asking the user whether an existing application) 243 443.33 T
-0.17 (should be used as the server) 243 431.33 P
-0.17 (, or a new application launched. If) 372.16 431.33 P
-0.11 (you set this \337ag, you must pass an) 243 419.33 P
4 F
-0.12 (AppLaunchBlock\050\051) 404.17 419.33 P
0 F
-0.11 (, with) 501.96 419.33 P
(the) 243 407.33 T
3 9 Q
(ALB) 260.78 407.33 T
3 10 Q
(_appMode) 279.62 407.33 T
0 F
( \336eld set to) 326.83 407.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 243 395.33 T
(TION) 414.35 395.33 T
0 10 Q
(; you must also set) 438.35 395.33 T
0 9 Q
(IACPF_SER) 243 383.33 T
(VER_MODE) 294.5 383.33 T
0 10 Q
( to) 347.49 383.33 T
0 9 Q
(IACPSM_USER_INTERACTIBLE) 361.94 383.33 T
0 10 Q
(.) 505.43 383.33 T
0 9 Q
(IACPF_CLIENT_OD_SPECIFIED) 180 364.33 T
0 10 Q
-0.2 (This \337ag indicates that you will specify what object will be the) 243 352.33 P
(new client. If you do not set this \337ag, the sending geode\325) 243 340.33 T
(s) 500.62 340.33 T
(Application object will be registered as the client.) 243 328.33 T
0 9 Q
(IACPF_FIRST_ONL) 180 309.33 T
(Y) 265.01 309.33 T
0 10 Q
-0.7 (If you pass this \337ag, the client will be connected to only the \336rst) 243 297.33 P
-0.56 (server on the server list. Any messages sent by the client to the) 243 285.33 P
(server list will be passed only to that one server) 243 273.33 T
(.) 463.03 273.33 T
0 9 Q
(IACPSM_SER) 180 254.33 T
(VER_MODE) 239.66 254.33 T
0 10 Q
(This \336eld is three bits wide; it holds a member of the) 243 242.33 T
4 F
(IACPServerMode) 243 230.33 T
0 F
( enumerated type. This type speci\336es how) 333.37 230.33 T
(the client expects the server to behave. Currently) 243 218.33 T
(, only two) 470.04 218.33 T
(types are supported:) 243 206.33 T
0 9 Q
(IACPSM_NOT_USER_INTERACTIBLE) 180 187.33 T
0 10 Q
-0.73 (This is equal to zero. It indicates that the server object need not) 243 175.33 P
(interact with the user) 243 163.33 T
(.) 343.19 163.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "289" 49
%%Page: "290" 50
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(290) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 9 Q
0 X
(IACPSM_USER_INTERACTIBLE) 180 641.33 T
0 10 Q
-0.29 (This is equal to two. It indicates that the server should be able) 243 629.33 P
(to interact with the user like any normal application.) 243 617.33 T
1 F
(u) 180 598.33 T
0 F
(The) 198 598.33 T
4 F
(MemHandle) 218.56 598.33 T
0 F
( of an) 281.33 598.33 T
4 F
(AppLaunchBlock) 309.67 598.33 T
0 F
(. If the server you specify is) 399.68 598.33 T
(not running,) 198 586.33 T
0 9 Q
(GEOS) 258.74 586.33 T
0 10 Q
( will launch the application speci\336ed by the) 284.91 586.33 T
4 F
-0.89 (AppLaunchBlock) 198 574.33 P
0 F
-0.86 (. If you pass a null) 288.01 574.33 P
4 F
-0.89 (MemHandle) 370.81 574.33 P
0 F
-0.86 (,) 433.58 574.33 P
0 9 Q
-0.78 (GEOS) 438.27 574.33 P
0 10 Q
-0.86 ( will return an) 464.45 574.33 P
(error if no server is running.) 198 562.33 T
1 F
(u) 180 543.33 T
0 F
(The optr of the client object. This is ignored if) 198 543.33 T
0 9 Q
(IACPF_CLIENT_OD_SPECIFIED) 198 531.33 T
0 10 Q
( was not passed.) 341.67 531.33 T
1 F
(u) 180 512.33 T
0 F
-0.6 (A pointer to a word.) 198 512.33 P
4 F
-0.62 (IACPConnect\050\051) 289.65 512.33 P
0 F
-0.6 ( will write the number of servers on) 367.98 512.33 P
(the list to that word.) 198 500.33 T
4 F
(IACPConnect\050\051) 180 481.33 T
0 F
( returns a word-sized) 258.33 481.33 T
4 F
(IACPConnection) 359.25 481.33 T
0 F
( token. Y) 446.46 481.33 T
(ou will) 486.66 481.33 T
(need to pass that token when you call another) 180 468.33 T
0 9 Q
(IACP) 395.59 468.33 T
0 10 Q
( routine to use the) 418.25 468.33 T
(connection. It will also return the number of server objects on the list; it) 180 455.33 T
(returns this value by writing it to the address indicated by the pointer) 180 442.33 T
(passed.) 180 429.33 T
(If the server list you indicate is not currently running,) 180 409.33 T
0 9 Q
(IACP) 433.33 409.33 T
0 10 Q
( may do one of) 455.99 409.33 T
(two different things. If you pass a null handle as the third argument,) 180 396.33 T
4 F
(IACPConnect\050\051) 180 383.33 T
0 F
( will fail. It will return the error value) 258.33 383.33 T
0 9 Q
(IACP_NO_CONNECTION) 180 370.33 T
0 10 Q
(, and indicate that there are no servers on the) 291.17 370.33 T
(speci\336ed list.) 180 357.33 T
(If you pass an) 180 337.33 T
4 F
(AppLaunchBlock) 247.23 337.33 T
0 F
(,) 337.24 337.33 T
4 F
(IACPConnect\050\051) 342.8 337.33 T
0 F
( will examine that) 421.13 337.33 T
(launch block to see what application should be launched to act as a server) 180 324.33 T
(.) 520.24 324.33 T
-0.75 (The AppLaunchBlock should specify the location and name of the application) 180 311.33 P
(to open. If the) 180 298.33 T
3 9 Q
(ALB) 247.04 298.33 T
3 10 Q
(_appRef.AIR_diskHandle) 265.88 298.33 T
0 F
( \336eld is non-zero,) 383.08 298.33 T
4 F
(IACPConnect\050\051) 180 285.33 T
0 F
( will look in the speci\336ed disk or standard path for an) 258.33 285.33 T
(application with the right) 180 272.33 T
4 F
(GeodeT) 301.5 272.33 T
(oken) 340.39 272.33 T
0 F
(; otherwise, it will look in the) 365.76 272.33 T
(standard places for an application.) 180 259.33 T
(Note that if you pass a launch block to) 180 239.33 T
4 F
(IACPConnect\050\051) 360.04 239.33 T
0 F
(, you may) 438.37 239.33 T
3 F
(not) 485.79 239.33 T
0 F
( alter) 500.42 239.33 T
-0.04 (or free it afterwards. If the application is created, the block you pass will be) 180 226.33 P
(its launch block; if not, the kernel will free the block automatically) 180 213.33 T
(. In any) 486.17 213.33 T
(event, the caller no longer has access to the block.) 180 200.33 T
(If) 180 180.33 T
4 F
(IACPConnect\050\051) 190.18 180.33 T
0 F
( launches an application, the caller will block until that) 268.51 180.33 T
(application has been created and registers for the server list. If the) 180 167.33 T
(application does not register for that list, the caller will never unblock. Y) 180 154.33 T
(ou) 514.86 154.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "290" 50
%%Page: "291" 51
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(291) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
-0.82 (must therefore make sure that you are launching the right application for the) 180 641.33 P
(list. Note that every application object will automatically register for the) 180 628.33 T
(server list which shares its token.) 180 615.33 T
(T) 180 595.33 T
(o create a launch block, you should call) 185.75 595.33 T
4 F
(IACPCreateDefaultLaunchBlock\050\051) 180 582.33 T
0 F
(. This routine is passed a single) 357.78 582.33 T
(argument, which speci\336es how the application will be opened. That) 180 569.33 T
(argument must be) 180 556.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_APPLICA) 267.79 556.33 T
(TION) 439.14 556.33 T
0 10 Q
( \050the) 463.14 556.33 T
(application will be opened as a standard, user) 180 543.33 T
(-interactible application\051;) 391.53 543.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_ENGINE) 180 530.33 T
0 10 Q
( \050the application will be opened in) 349.01 530.33 T
(engine mode, i.e. with no user interface\051; or) 180 517.33 T
0 9 Q
(MSG_GEN_PROCESS_OPEN_CUSTOM) 180 504.33 T
0 10 Q
( \050which has an application-speci\336ed) 351.68 504.33 T
(meaning\051.) 180 491.33 T
4 F
(IACPCreateDefaultLaunchBlock\050\051) 180 471.33 T
0 F
( allocates a launch block and sets up) 357.78 471.33 T
(its \336elds appropriately) 180 458.33 T
(. As created, the launch block will have the following) 283.53 458.33 T
(characteristics:) 180 445.33 T
1 F
(u) 180 425.33 T
0 F
(The application\325) 198 425.33 T
(s initial working directory \050i.e. the launch block\325) 271.72 425.33 T
(s) 492.49 425.33 T
3 9 Q
(ALB) 198 413.33 T
3 10 Q
(_diskHandle) 216.84 413.33 T
0 F
( \336eld\051 will be) 275.34 413.33 T
0 9 Q
(SP_DOCUMENT) 337.58 413.33 T
0 10 Q
(.) 409 413.33 T
1 F
(u) 180 394.33 T
0 F
(No application directory will be speci\336ed in the launch block \050i.e.) 198 394.33 T
3 9 Q
-0.8 (ALB) 198 382.33 P
3 10 Q
-0.89 (_appRef.) 216.84 382.33 P
3 9 Q
-0.8 (AIR) 257.02 382.33 P
3 10 Q
-0.89 (_diskHandle) 273.68 382.33 P
0 F
-0.89 ( will be zero\051;) 332.18 382.33 P
4 F
-0.92 (IACPConnect\050\051) 392.9 382.33 P
0 F
-0.89 ( will attempt) 471.23 382.33 P
(to \336nd the application on its own.) 198 370.33 T
1 F
(u) 180 351.33 T
0 F
(No initial data \336le will be speci\336ed \050i.e.) 198 351.33 T
3 9 Q
(ALB) 381.2 351.33 T
3 10 Q
(_dataFile) 400.04 351.33 T
0 F
( will be blank\051.) 443.92 351.33 T
1 F
(u) 180 332.33 T
0 F
(The application will determine its own generic parent \050i.e.) 198 332.33 T
3 9 Q
(ALB) 198 320.33 T
3 10 Q
(_genParent) 216.84 320.33 T
0 F
( will be null\051.) 268.68 320.33 T
1 F
(u) 180 301.33 T
0 F
-0.23 (No extra data word will be passed to the application \050i.e.) 198 301.33 P
3 9 Q
-0.21 (ALB) 458.69 301.33 P
3 10 Q
-0.23 (_extraData) 477.53 301.33 P
0 F
(will be zero\051.) 198 289.33 T
1 F
(u) 180 270.33 T
0 F
(There will be no output descriptor \050i.e.) 198 270.33 T
3 9 Q
(ALB) 377.83 270.33 T
3 10 Q
(_userLoadAckOutput) 396.67 270.33 T
0 F
( and) 494.44 270.33 T
3 9 Q
(ALB) 198 258.33 T
3 10 Q
(_userLoadAckMessage) 216.84 258.33 T
0 F
( will be null.\051) 320.14 258.33 T
4 F
(IACPCreateDefaultLaunchBlock\050\051) 180 239.33 T
0 F
( returns the handle of the) 357.78 239.33 T
-0.7 (newly-created launch block. Once the block is created, you can alter any of its) 180 226.33 P
-0.81 (\336elds before passing the launch block to) 180 213.33 P
4 F
-0.84 (IACPConnect\050\051) 361.36 213.33 P
0 F
-0.81 (. \050Once you pass the) 439.69 213.33 P
(launch block to) 180 200.33 T
4 F
(IACPConnect\050\051) 252.79 200.33 T
0 F
(, you may not alter it any more.\051) 331.12 200.33 T
-0.37 (Often a client will want the server to open a speci\336c document. For example,) 180 180.33 P
-0.29 (if a desktop-manager is implementing a \322print-\336le\323 command, it will need to) 180 167.33 P
(open a server application, instruct it to open the \336le to be printed, and then) 180 154.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "291" 51
%%Page: "292" 52
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(292) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(instruct it to print the \336le. T) 180 641.33 T
(o make the server open a document, pass the) 310.39 641.33 T
(document\325) 180 628.33 T
(s name in) 226.85 628.33 T
3 9 Q
(ALB) 274.64 628.33 T
3 10 Q
(_dataFile) 293.48 628.33 T
0 F
(. The server will open the \336le when you) 337.36 628.33 T
(register) 180 615.33 T
(, and close it when you unregister) 215.18 615.33 T
(.) 370.19 615.33 T
2 14 Q
(6.6.4.2) 119.19 581.67 T
(Unregistering as a Client) 180 581.67 T
5 10 Q
(IACPShutdown\050\051, IACPShutdownAll\050\051) 180 559.33 T
0 F
(If an application no longer needs to interact with a particular server list, it) 180 539.33 T
(should call) 180 526.33 T
4 F
(IACPShutdown\050\051) 232.6 526.33 T
0 F
(. This routine is also used by servers which) 320.93 526.33 T
-0.31 (wish to remove themselves from a server list. This section describes how the) 180 513.33 P
(routine is used by clients; section 6.6.5 of chapter 6 describes how it is used) 180 500.33 T
(by servers.) 180 487.33 T
(The routine is passed two arguments:) 180 467.33 T
1 F
(u) 180 447.33 T
0 F
(The) 198 447.33 T
4 F
(IACPConnection) 218.56 447.33 T
0 F
( token for the link which is being shut down.) 305.77 447.33 T
1 F
(u) 180 428.33 T
0 F
(An optr) 198 428.33 T
(. This must be null if the routine is being called by a client.) 232.44 428.33 T
4 F
(IACPShutdown\050\051) 180 409.33 T
0 F
( sends) 268.33 409.33 T
0 9 Q
(MSG_MET) 300 409.33 T
(A_IACP_LOST_CONNECTION) 346.17 409.33 T
0 10 Q
( to all) 478.68 409.33 T
(objects on the other side of the link; that is, if a client calls) 180 396.33 T
4 F
(IACPShutdown\050\051) 180 383.33 T
0 F
(, all servers on the list will be sent this message.) 268.33 383.33 T
4 F
-0.42 (IACPShutdownAll\050\051) 180 363.33 P
0 F
-0.41 ( closes all) 282.96 363.33 P
0 9 Q
-0.37 (IACP) 328.79 363.33 P
0 10 Q
-0.41 ( links for the application which calls it.) 351.45 363.33 P
-0.22 (The Application object automatically calls this routine when the application) 180 350.33 P
(is exiting.) 180 337.33 T
2 14 Q
(6.6.5) 130.86 295 T
2 18 Q
(Being a Server) 180 295 T
0 10 Q
(Every time an application is launched, its Application object automatically) 180 271.33 T
(registers as a server for the server list that shares its) 180 258.33 T
4 F
(GeodeT) 428.72 258.33 T
(oken) 467.61 258.33 T
0 F
(. The) 492.98 258.33 T
-0.31 (Application class has default handlers for all the noti\336cation messages) 180 245.33 P
0 9 Q
-0.28 (IACP) 505.86 245.33 P
0 10 Q
(sends to the server objects.) 180 232.33 T
(If you wish, you can have another object act as a server) 180 212.33 T
(. However) 434.28 212.33 T
(, if you do) 480.02 212.33 T
(this, you will have to do more of the work yourself. While the noti\336cation) 180 199.33 T
(messages are de\336ned for) 180 186.33 T
4 F
(MetaClass) 296.3 186.33 T
0 F
(, and thus can be handled by any class) 349.63 186.33 T
-0.17 (of object,) 180 173.33 P
4 F
-0.17 (MetaClass) 223.19 173.33 P
0 F
-0.17 ( does not come with handlers for these messages; if the) 276.52 173.33 P
-0.28 (server is not subclassed from) 180 160.33 P
4 F
-0.29 (GenApplicationClass) 315.26 160.33 P
0 F
-0.28 (, you will have to write) 424.33 160.33 P
(the handlers yourself. This is discussed below) 180 147.33 T
(.) 390.21 147.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "292" 52
%%Page: "293" 53
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(293) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
2 14 Q
0 X
(6.6.5.1) 119.19 638.67 T
(Registering and Unregistering a Server) 180 638.67 T
5 10 Q
(IACPRegisterServer\050\051, IACPUnregisterServer\050\051) 180 616.33 T
0 F
(Y) 180 596.33 T
(ou will not generally need to register and unregister a server object) 185.93 596.33 T
(explicitly) 180 583.33 T
(. As noted above, when an application is launched, the application) 221.3 583.33 T
(object is automatically registered as a server for the list with its) 180 570.33 T
4 F
(GeodeT) 180 557.33 T
(oken) 218.89 557.33 T
0 F
(; when the application exits, the Application object is) 244.26 557.33 T
(automatically unregistered from that list.) 180 544.33 T
(However) 180 524.33 T
(, you may wish to explicitly register an object as a server) 220.18 524.33 T
(. For) 481.14 524.33 T
-0.33 (example, you might want your application object to be a server on a list with) 180 511.33 P
(a different) 180 498.33 T
4 F
(GeodeT) 231.11 498.33 T
(oken) 270 498.33 T
0 F
(; or you might want to register a non-Application) 295.37 498.33 T
(object as a server) 180 485.33 T
(. In this case, you will need to explicitly register and) 259.08 485.33 T
(unregister the object.) 180 472.33 T
(T) 180 452.33 T
(o register an object as a server) 185.75 452.33 T
(, call) 325.76 452.33 T
4 F
(IACPRegisterServer\050\051) 350.4 452.33 T
0 F
(. This routine) 464.11 452.33 T
(is passed the following arguments:) 180 439.33 T
1 F
(u) 180 419.33 T
0 F
(The) 198 419.33 T
4 F
(GeodeT) 218.56 419.33 T
(oken) 257.45 419.33 T
0 F
( of the list for which you are registering as a server) 282.82 419.33 T
(.) 517.83 419.33 T
1 F
(u) 180 400.33 T
0 F
(The optr of the object which is registering as a server) 198 400.33 T
(. This object must) 442.64 400.33 T
-0.54 (be able to handle the) 198 388.33 P
0 9 Q
-0.49 (MSG_MET) 294.59 388.33 P
-0.49 (A_IACP) 340.76 388.33 P
0 10 Q
-0.54 (\311 messages appropriately \050this is) 374.42 388.33 P
(built into) 198 376.33 T
4 F
(GenApplicationClass) 243.57 376.33 T
0 F
(\051.) 352.64 376.33 T
1 F
(u) 180 357.33 T
0 F
(A member of the) 198 357.33 T
4 F
(IACPServerMode) 277.45 357.33 T
0 F
( enumerated type. This type) 367.82 357.33 T
-0.38 (speci\336es how the client expects the server to behave. Currently) 198 345.33 P
-0.38 (, only two) 484.73 345.33 P
(types are supported:) 198 333.33 T
0 9 Q
(IACPSM_NOT_USER_INTERACTIBLE) 191.12 314.33 T
0 10 Q
-0.37 (This is equal to zero. It indicates that the server object will not) 243 302.33 P
(interact directly with users.) 243 290.33 T
0 9 Q
(IACPSM_USER_INTERACTIBLE) 191.12 271.33 T
0 10 Q
-0.14 (This is equal to two. It indicates that the server will be able to) 243 259.33 P
(interact with the user like any normal application.) 243 247.33 T
1 F
(u) 180 228.33 T
0 F
(A set of) 198 228.33 T
4 F
(IACPServerFlags) 235.41 228.33 T
0 F
(. Currently) 325.41 228.33 T
(, only one \337ag is supported:) 375.59 228.33 T
0 9 Q
(IACP_MUL) 198 216.33 T
(TIPLE_INST) 246.5 216.33 T
(ANCES) 301.35 216.33 T
0 10 Q
(, indicating that multiple copies of the) 333.85 216.33 T
(application might be running at once. \050Every multi-launchable) 198 204.33 T
(application should set this \337ag.\051) 198 192.33 T
4 F
(IACPRegisterServer\050\051) 180 173.33 T
0 F
( registers the object as a server for the appropriate) 293.71 173.33 T
(list; it creates the server list if necessary) 180 160.33 T
(.) 366.31 160.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "293" 53
%%Page: "294" 54
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(294) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
0 10 Q
0 X
(T) 180 641.33 T
(o unregister an object as a server) 185.75 641.33 T
(, call) 337.98 641.33 T
4 F
(IACPUnregisterServer\050\051) 362.62 641.33 T
0 F
(. This) 488.55 641.33 T
-0.68 (routine is passed two arguments: the) 180 628.33 P
4 F
-0.7 (GeodeT) 349.83 628.33 P
-0.7 (oken) 388.71 628.33 P
0 F
-0.68 ( of the server list, and the) 414.08 628.33 P
(optr of the server) 180 615.33 T
(. The object will be removed immediately from the server) 258.88 615.33 T
-0.12 (list. Note, however) 180 602.33 P
-0.12 (, that the server list might have already dispatched some) 265.7 602.33 P
(messages to the server being removed; these messages might be waiting on) 180 589.33 T
(the server object\325) 180 576.33 T
(s queue, and thus the server object might get some) 257.96 576.33 T
0 9 Q
(IACP) 495.02 576.33 T
0 10 Q
(messages even after it calls) 180 563.33 T
4 F
(IACPUnregisterServer\050\051) 309.28 563.33 T
0 F
(. One way to deal) 435.21 563.33 T
(with this is to have the server object send itself a message, via the queue,) 180 550.33 T
(immediately after it calls) 180 537.33 T
4 F
(IACPUnregisterServer\050\051) 299.1 537.33 T
0 F
(. When the object) 425.03 537.33 T
-0.19 (receives this message, it will know that it has no more) 180 524.33 P
0 9 Q
-0.17 (IACP) 431.49 524.33 P
0 10 Q
-0.19 ( messages on its) 454.15 524.33 P
(queue.) 180 511.33 T
(Every server object on a given server list has a unique) 180 491.33 T
3 F
(server number) 432.98 491.33 T
0 F
(. This) 497.96 491.33 T
(server number will not change while the server is attached to the list. A) 180 478.33 T
(server object can \336nd out its server number by calling) 180 465.33 T
4 F
(IACPGetServerNumber\050\051) 180 452.33 T
0 F
(. This routine takes two arguments: the) 310.37 452.33 T
4 F
(GeodeT) 180 439.33 T
(oken) 218.89 439.33 T
0 F
( of the server list, and the optr to the server object. It returns) 244.26 439.33 T
(the object\325) 180 426.33 T
(s server number) 226.3 426.33 T
(.) 300.74 426.33 T
2 14 Q
(6.6.5.2) 119.19 392.67 T
(Non-Application Servers and Clients) 180 392.67 T
5 10 Q
(MSG_META_IACP_PROCESS_MESSAGE, IACPProcessMessage\050\051,) 180 370.33 T
(MSG_META_IACP_NEW_CONNECTION,) 180 357.33 T
(MSG_META_IACP_LOST_CONNECTION) 180 344.33 T
0 F
(Every server and client object must be able to handle certain messages.) 180 324.33 T
4 F
-0.76 (GenApplicationClass) 180 311.33 P
0 F
-0.74 ( comes with handlers for these messages, so you need) 289.07 311.33 P
(not write them yourself. However) 180 298.33 T
(, if you will be using some other kind of) 334.26 298.33 T
(object as the server) 180 285.33 T
(, you must handle the messages yourself. Y) 268.52 285.33 T
(ou may also) 466.88 285.33 T
-0.73 (choose to have your application object subclass any of these messages; in that) 180 272.33 P
(case, you should generally have your handler use) 180 259.33 T
4 F
(@callsuper) 409.83 259.33 T
0 F
(.) 464.72 259.33 T
(When a server or client sends an) 180 239.33 T
0 9 Q
(IACP) 333.89 239.33 T
0 10 Q
( message, the kernel passes the) 356.55 239.33 T
-0.48 (encapsulated message to each object on the other side of the link. It does this) 180 226.33 P
(by sending the message) 180 213.33 T
0 9 Q
(MSG_MET) 292.24 213.33 T
(A_IACP_PROCESS_MESSAGE) 338.41 213.33 T
0 10 Q
( to each) 471.24 213.33 T
(object. This message comes with three arguments:) 180 200.33 T
3 F
(msgT) 180 180.33 T
(oSend) 204.66 180.33 T
0 F
(The) 243 180.33 T
4 F
(EventHandle) 263.56 180.33 T
0 F
( of the encapsulated message.) 331.7 180.33 T
3 F
(topt) 180 161.33 T
0 F
(The) 243 161.33 T
4 F
(T) 263.56 161.33 T
(ravelOption) 270.16 161.33 T
0 F
( for that message.) 332.75 161.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "294" 54
%%Page: "295" 55
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
162 690.34 558 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Inter-Application Communication) 337.09 692.67 T
162 666.34 558 678.01 R
7 X
V
0 10 Q
0 X
(295) 541.32 671.34 T
324 684 580 684 2 L
7 X
V
3 H
2 Z
0 X
N
504 90 558 125 R
7 X
V
1 60 Q
0 X
(l) 507.27 85 T
2 24 Q
(Concepts book) 327.65 110 T
90 99 270 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
90.67 123.5 270.67 135.67 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
536.84 533.33 557.67 545 R
V
2 8 Q
0 X
(6.6) 546.55 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
3 10 Q
0 X
(completionMessage) 180 641.33 T
0 F
-0.45 (The) 243 629.33 P
4 F
-0.47 ( EventHandle) 260.78 629.33 P
0 F
-0.45 ( of any message to be sent after) 331.32 629.33 P
3 F
-0.45 (msgT) 475.68 629.33 P
-0.45 (oSend) 500.34 629.33 P
0 F
(has been dispatched. \050This \336eld may be set to zero, indicating) 243 617.33 T
(that there is no completion message.\051) 243 605.33 T
(The recipient of) 180 586.33 T
0 9 Q
(MSG_MET) 255.37 586.33 T
(A_IACP_PROCESS_MESSAGE) 301.54 586.33 T
0 10 Q
( should call) 434.37 586.33 T
4 F
-0.61 (IACPProcessMessage\050\051) 180 573.33 P
0 F
-0.59 (. This routine is passed four arguments: the optr of) 298.88 573.33 P
(the object calling the routine, and the three arguments passed with) 180 560.33 T
0 9 Q
(MSG_MET) 180 547.33 T
(A_IACP_PROCESS_MESSAGE) 226.17 547.33 T
0 10 Q
(.) 359 547.33 T
4 F
(IACPProcessMessage\050\051) 364.56 547.33 T
0 F
(dispatches both encapsulated messages properly) 180 534.33 T
(.) 402.98 534.33 T
-0.51 (Remember) 180 514.33 P
-0.51 (, if the client or server is subclassed from) 229.26 514.33 P
4 F
-0.53 (GenApplicationClass) 416.88 514.33 P
0 F
-0.51 (,) 525.95 514.33 P
-0.64 (all of this is done for you. Y) 180 501.33 P
-0.64 (ou need only write a handler for the message if the) 300.57 501.33 P
(client or server object is not from a subclass of) 180 488.33 T
4 F
(GenApplicationClass) 395.75 488.33 T
0 F
(.) 504.82 488.33 T
(Whenever a client registers on an) 180 468.33 T
0 9 Q
(IACP) 338.15 468.33 T
0 10 Q
( list, the kernel sends) 360.81 468.33 T
0 9 Q
(MSG_MET) 180 455.33 T
(A_IACP_NEW_CONNECTION) 226.17 455.33 T
0 10 Q
( to all servers on that list. This) 356.66 455.33 T
(message comes with three arguments:) 180 442.33 T
3 F
(appLaunchBlock) 180 422.33 T
0 F
(This is the handle of the) 243 410.33 T
4 F
(AppLaunchBlock) 358.02 410.33 T
0 F
( which the server) 448.03 410.33 T
(passed to) 243 398.33 T
4 F
(IACPConnect\050\051) 288.75 398.33 T
0 F
(.) 367.08 398.33 T
3 F
(justLaunched) 180 379.33 T
0 F
-0.79 (This is a Boolean value. If the server) 243 367.33 P
-0.79 (\325) 407.69 367.33 P
-0.79 (s application has just been) 409.36 367.33 P
(launched speci\336cally to be a server) 243 355.33 T
(, this will be) 403.01 355.33 T
3 F
(true) 462.48 355.33 T
0 F
( \050i.e.) 480.99 355.33 T
(non-zero\051.) 243 343.33 T
3 F
(IACPConnection) 180 324.33 T
0 F
(This is the token for the) 243 312.33 T
0 9 Q
(IACP) 356.72 312.33 T
0 10 Q
( connection.) 379.38 312.33 T
(When an object \050either client or server\051 removes itself from an) 180 293.33 T
0 9 Q
(IACP) 469.25 293.33 T
0 10 Q
(connection, the kernel sends) 180 280.33 T
0 9 Q
(MSG_MET) 313.89 280.33 T
(A_IACP_LOST_CONNECTION) 360.06 280.33 T
0 10 Q
( to all) 492.57 280.33 T
(objects on the other side of the link. This message has two parameters:) 180 267.33 T
3 F
(connection) 180 247.33 T
0 F
(The token for the) 243 247.33 T
0 9 Q
(IACP) 325.6 247.33 T
0 10 Q
( list.) 348.26 247.33 T
3 F
(serverNum) 180 228.33 T
0 F
(If a server removed itself from the list \050and this message is) 243 228.33 T
(being sent to clients\051, this \336eld will have the number of the) 243 216.33 T
(server that removed itself. If a client removed itself from the) 243 204.33 T
(list, this \336eld will be zero.) 243 192.33 T
(Whenever a new client is attached to a server list,) 180 173.33 T
0 9 Q
(MSG_MET) 180 160.33 T
(A_IACP_NEW_CONNECTION) 226.17 160.33 T
0 10 Q
( is sent to every server object. This) 356.66 160.33 T
(message comes with three arguments:) 180 147.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "295" 55
%%Page: "296" 56
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
54 690.34 450 702 R
7 X
0 0 0 1 0 0 0 K
V
2 14 Q
0 X
(Applications and Geodes) 54 692.67 T
54 666.34 450 678.01 R
7 X
V
0 10 Q
0 X
(296) 54 671.34 T
32 684 288 684 2 L
7 X
V
3 H
2 Z
0 X
N
54 90 108 125 R
7 X
V
1 60 Q
0 X
(l) 57.27 85 T
2 24 Q
(Concepts book) 102 110 T
306 99 486 117 R
7 X
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
305.67 122.67 485.67 134.83 R
V
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
54.33 533.33 75.17 545 R
V
2 8 Q
0 X
(6.6) 54.33 539.67 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
81 144 531 648 R
7 X
V
3 10 Q
0 X
(appLaunchBlock) 180 641.33 T
0 F
-0.69 (This is the handle of the application\325) 243 629.33 P
-0.69 (s launch block. The default) 407.03 629.33 P
4 F
(GenApplicationClass) 243 617.33 T
0 F
( handler examines the launch block to) 352.07 617.33 T
(see if the application should open a document.) 243 605.33 T
3 F
(justLaunched) 180 586.33 T
0 F
-0.08 (If the application was just launched speci\336cally to be a server) 243 574.33 P
-0.08 (,) 525.52 574.33 P
(this \336eld will be) 243 562.33 T
3 F
(true) 319.69 562.33 T
0 F
( \050i.e. non-zero\051.) 338.2 562.33 T
3 F
(connection) 180 543.33 T
0 F
(This is the token for the) 243 543.33 T
0 9 Q
(IACP) 356.72 543.33 T
0 10 Q
( connection.) 379.38 543.33 T
(When a client is removed from a server list, every server object is sent) 180 524.33 T
0 9 Q
-0.54 (MSG_MET) 180 511.33 P
-0.54 (A_IACP_LOST_CONNECTION) 226.17 511.33 P
0 10 Q
-0.6 (. Similarly) 358.68 511.33 P
-0.6 (, when a server is removed,) 405.69 511.33 P
(every client object is sent) 180 498.33 T
0 9 Q
(MSG_MET) 299.08 498.33 T
(A_IACP_LOST_CONNECTION) 345.25 498.33 T
0 10 Q
(. The) 477.76 498.33 T
(message comes with two arguments:) 180 485.33 T
3 F
(IACPConnection) 180 465.33 T
0 F
(This is the token for the) 243 453.33 T
0 9 Q
(IACP) 356.72 453.33 T
0 10 Q
( connection.) 379.38 453.33 T
3 F
(serverNum) 180 434.33 T
0 F
-0.77 (If a server left the list \050and the message is being sent to clients\051,) 243 434.33 P
(this argument will hold its) 243 422.33 T
3 F
(serverNum) 368.95 422.33 T
0 F
(. If a client left the list) 419.49 422.33 T
(\050and the message is being sent to servers\051, this argument will) 243 410.33 T
(be set to zero.) 243 398.33 T
0 0 1 0 1 1 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "296" 56
%%Trailer
%%BoundingBox: 0 0 612 792
%%PageOrder: Ascend
%%Pages: 56
%%DocumentFonts: NewCenturySchlbk-Roman
%%+ ZapfDingbats
%%+ Helvetica-Bold
%%+ NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold
%%+ Courier
%%+ Courier-Oblique
%%EOF
